/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var zT=Object.create;var os=Object.defineProperty;var HT=Object.getOwnPropertyDescriptor;var LT=Object.getOwnPropertyNames;var BT=Object.getPrototypeOf,IT=Object.prototype.hasOwnProperty;var UT=(t,e,n)=>e in t?os(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Fn=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),YT=(t,e)=>{for(var n in e)os(t,n,{get:e[n],enumerable:!0})},Sv=(t,e,n,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of LT(e))!IT.call(t,a)&&a!==n&&os(t,a,{get:()=>e[a],enumerable:!(i=HT(e,a))||i.enumerable});return t};var gn=(t,e,n)=>(n=t!=null?zT(BT(t)):{},Sv(e||!t||!t.__esModule?os(n,"default",{value:t,enumerable:!0}):n,t)),VT=t=>Sv(os({},"__esModule",{value:!0}),t);var N=(t,e,n)=>(UT(t,typeof e!="symbol"?e+"":e,n),n),Dv=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var Fa=(t,e,n)=>(Dv(t,e,"read from private field"),n?n.call(t):e.get(t)),su=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},ou=(t,e,n,i)=>(Dv(t,e,"write to private field"),i?i.call(t,n):e.set(t,n),n);var kv=Fn(X=>{"use strict";var Tf=Symbol.for("react.transitional.element"),jT=Symbol.for("react.portal"),PT=Symbol.for("react.fragment"),FT=Symbol.for("react.strict_mode"),qT=Symbol.for("react.profiler"),GT=Symbol.for("react.consumer"),WT=Symbol.for("react.context"),QT=Symbol.for("react.forward_ref"),ZT=Symbol.for("react.suspense"),XT=Symbol.for("react.memo"),wv=Symbol.for("react.lazy"),KT=Symbol.for("react.activity"),Av=Symbol.iterator;function $T(t){return t===null||typeof t!="object"?null:(t=Av&&t[Av]||t["@@iterator"],typeof t=="function"?t:null)}var xv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Rv=Object.assign,Mv={};function Fr(t,e,n){this.props=t,this.context=e,this.refs=Mv,this.updater=n||xv}Fr.prototype.isReactComponent={};Fr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Fr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ov(){}Ov.prototype=Fr.prototype;function _f(t,e,n){this.props=t,this.context=e,this.refs=Mv,this.updater=n||xv}var wf=_f.prototype=new Ov;wf.constructor=_f;Rv(wf,Fr.prototype);wf.isPureReactComponent=!0;var Cv=Array.isArray;function Cf(){}var Le={H:null,A:null,T:null,S:null},Nv=Object.prototype.hasOwnProperty;function xf(t,e,n){var i=n.ref;return{$$typeof:Tf,type:t,key:e,ref:i!==void 0?i:null,props:n}}function JT(t,e){return xf(t.type,e,t.props)}function Rf(t){return typeof t=="object"&&t!==null&&t.$$typeof===Tf}function e_(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Tv=/\/+/g;function Af(t,e){return typeof t=="object"&&t!==null&&t.key!=null?e_(""+t.key):e.toString(36)}function t_(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(Cf,Cf):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Pr(t,e,n,i,a){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(r){case"bigint":case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case Tf:case jT:l=!0;break;case wv:return l=t._init,Pr(l(t._payload),e,n,i,a)}}if(l)return a=a(t),l=i===""?"."+Af(t,0):i,Cv(a)?(n="",l!=null&&(n=l.replace(Tv,"$&/")+"/"),Pr(a,e,n,"",function(u){return u})):a!=null&&(Rf(a)&&(a=JT(a,n+(a.key==null||t&&t.key===a.key?"":(""+a.key).replace(Tv,"$&/")+"/")+l)),e.push(a)),1;l=0;var s=i===""?".":i+":";if(Cv(t))for(var o=0;o<t.length;o++)i=t[o],r=s+Af(i,o),l+=Pr(i,e,n,r,a);else if(o=$T(t),typeof o=="function")for(t=o.call(t),o=0;!(i=t.next()).done;)i=i.value,r=s+Af(i,o++),l+=Pr(i,e,n,r,a);else if(r==="object"){if(typeof t.then=="function")return Pr(t_(t),e,n,i,a);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return l}function uu(t,e,n){if(t==null)return t;var i=[],a=0;return Pr(t,i,"","",function(r){return e.call(n,r,a++)}),i}function n_(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var _v=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},i_={map:uu,forEach:function(t,e,n){uu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return uu(t,function(){e++}),e},toArray:function(t){return uu(t,function(e){return e})||[]},only:function(t){if(!Rf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};X.Activity=KT;X.Children=i_;X.Component=Fr;X.Fragment=PT;X.Profiler=qT;X.PureComponent=_f;X.StrictMode=FT;X.Suspense=ZT;X.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Le;X.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Le.H.useMemoCache(t)}};X.cache=function(t){return function(){return t.apply(null,arguments)}};X.cacheSignal=function(){return null};X.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var i=Rv({},t.props),a=t.key;if(e!=null)for(r in e.key!==void 0&&(a=""+e.key),e)!Nv.call(e,r)||r==="key"||r==="__self"||r==="__source"||r==="ref"&&e.ref===void 0||(i[r]=e[r]);var r=arguments.length-2;if(r===1)i.children=n;else if(1<r){for(var l=Array(r),s=0;s<r;s++)l[s]=arguments[s+2];i.children=l}return xf(t.type,a,i)};X.createContext=function(t){return t={$$typeof:WT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:GT,_context:t},t};X.createElement=function(t,e,n){var i,a={},r=null;if(e!=null)for(i in e.key!==void 0&&(r=""+e.key),e)Nv.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(a[i]=e[i]);var l=arguments.length-2;if(l===1)a.children=n;else if(1<l){for(var s=Array(l),o=0;o<l;o++)s[o]=arguments[o+2];a.children=s}if(t&&t.defaultProps)for(i in l=t.defaultProps,l)a[i]===void 0&&(a[i]=l[i]);return xf(t,r,a)};X.createRef=function(){return{current:null}};X.forwardRef=function(t){return{$$typeof:QT,render:t}};X.isValidElement=Rf;X.lazy=function(t){return{$$typeof:wv,_payload:{_status:-1,_result:t},_init:n_}};X.memo=function(t,e){return{$$typeof:XT,type:t,compare:e===void 0?null:e}};X.startTransition=function(t){var e=Le.T,n={};Le.T=n;try{var i=t(),a=Le.S;a!==null&&a(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(Cf,_v)}catch(r){_v(r)}finally{e!==null&&n.types!==null&&(e.types=n.types),Le.T=e}};X.unstable_useCacheRefresh=function(){return Le.H.useCacheRefresh()};X.use=function(t){return Le.H.use(t)};X.useActionState=function(t,e,n){return Le.H.useActionState(t,e,n)};X.useCallback=function(t,e){return Le.H.useCallback(t,e)};X.useContext=function(t){return Le.H.useContext(t)};X.useDebugValue=function(){};X.useDeferredValue=function(t,e){return Le.H.useDeferredValue(t,e)};X.useEffect=function(t,e){return Le.H.useEffect(t,e)};X.useEffectEvent=function(t){return Le.H.useEffectEvent(t)};X.useId=function(){return Le.H.useId()};X.useImperativeHandle=function(t,e,n){return Le.H.useImperativeHandle(t,e,n)};X.useInsertionEffect=function(t,e){return Le.H.useInsertionEffect(t,e)};X.useLayoutEffect=function(t,e){return Le.H.useLayoutEffect(t,e)};X.useMemo=function(t,e){return Le.H.useMemo(t,e)};X.useOptimistic=function(t,e){return Le.H.useOptimistic(t,e)};X.useReducer=function(t,e,n){return Le.H.useReducer(t,e,n)};X.useRef=function(t){return Le.H.useRef(t)};X.useState=function(t){return Le.H.useState(t)};X.useSyncExternalStore=function(t,e,n){return Le.H.useSyncExternalStore(t,e,n)};X.useTransition=function(){return Le.H.useTransition()};X.version="19.2.0"});var Wi=Fn((fk,zv)=>{"use strict";zv.exports=kv()});var Fv=Fn(Ye=>{"use strict";function kf(t,e){var n=t.length;t.push(e);e:for(;0<n;){var i=n-1>>>1,a=t[i];if(0<cu(a,e))t[i]=e,t[n]=a,n=i;else break e}}function qn(t){return t.length===0?null:t[0]}function fu(t){if(t.length===0)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;e:for(var i=0,a=t.length,r=a>>>1;i<r;){var l=2*(i+1)-1,s=t[l],o=l+1,u=t[o];if(0>cu(s,n))o<a&&0>cu(u,s)?(t[i]=u,t[o]=n,i=o):(t[i]=s,t[l]=n,i=l);else if(o<a&&0>cu(u,n))t[i]=u,t[o]=n,i=o;else break e}}return e}function cu(t,e){var n=t.sortIndex-e.sortIndex;return n!==0?n:t.id-e.id}Ye.unstable_now=void 0;typeof performance=="object"&&typeof performance.now=="function"?(Hv=performance,Ye.unstable_now=function(){return Hv.now()}):(Mf=Date,Lv=Mf.now(),Ye.unstable_now=function(){return Mf.now()-Lv});var Hv,Mf,Lv,ci=[],Qi=[],a_=1,pn=null,Ot=3,zf=!1,us=!1,cs=!1,Hf=!1,Uv=typeof setTimeout=="function"?setTimeout:null,Yv=typeof clearTimeout=="function"?clearTimeout:null,Bv=typeof setImmediate!="undefined"?setImmediate:null;function du(t){for(var e=qn(Qi);e!==null;){if(e.callback===null)fu(Qi);else if(e.startTime<=t)fu(Qi),e.sortIndex=e.expirationTime,kf(ci,e);else break;e=qn(Qi)}}function Lf(t){if(cs=!1,du(t),!us)if(qn(ci)!==null)us=!0,Gr||(Gr=!0,qr());else{var e=qn(Qi);e!==null&&Bf(Lf,e.startTime-t)}}var Gr=!1,ds=-1,Vv=5,jv=-1;function Pv(){return Hf?!0:!(Ye.unstable_now()-jv<Vv)}function Of(){if(Hf=!1,Gr){var t=Ye.unstable_now();jv=t;var e=!0;try{e:{us=!1,cs&&(cs=!1,Yv(ds),ds=-1),zf=!0;var n=Ot;try{t:{for(du(t),pn=qn(ci);pn!==null&&!(pn.expirationTime>t&&Pv());){var i=pn.callback;if(typeof i=="function"){pn.callback=null,Ot=pn.priorityLevel;var a=i(pn.expirationTime<=t);if(t=Ye.unstable_now(),typeof a=="function"){pn.callback=a,du(t),e=!0;break t}pn===qn(ci)&&fu(ci),du(t)}else fu(ci);pn=qn(ci)}if(pn!==null)e=!0;else{var r=qn(Qi);r!==null&&Bf(Lf,r.startTime-t),e=!1}}break e}finally{pn=null,Ot=n,zf=!1}e=void 0}}finally{e?qr():Gr=!1}}}var qr;typeof Bv=="function"?qr=function(){Bv(Of)}:typeof MessageChannel!="undefined"?(Nf=new MessageChannel,Iv=Nf.port2,Nf.port1.onmessage=Of,qr=function(){Iv.postMessage(null)}):qr=function(){Uv(Of,0)};var Nf,Iv;function Bf(t,e){ds=Uv(function(){t(Ye.unstable_now())},e)}Ye.unstable_IdlePriority=5;Ye.unstable_ImmediatePriority=1;Ye.unstable_LowPriority=4;Ye.unstable_NormalPriority=3;Ye.unstable_Profiling=null;Ye.unstable_UserBlockingPriority=2;Ye.unstable_cancelCallback=function(t){t.callback=null};Ye.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Vv=0<t?Math.floor(1e3/t):5};Ye.unstable_getCurrentPriorityLevel=function(){return Ot};Ye.unstable_next=function(t){switch(Ot){case 1:case 2:case 3:var e=3;break;default:e=Ot}var n=Ot;Ot=e;try{return t()}finally{Ot=n}};Ye.unstable_requestPaint=function(){Hf=!0};Ye.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=Ot;Ot=t;try{return e()}finally{Ot=n}};Ye.unstable_scheduleCallback=function(t,e,n){var i=Ye.unstable_now();switch(typeof n=="object"&&n!==null?(n=n.delay,n=typeof n=="number"&&0<n?i+n:i):n=i,t){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return a=n+a,t={id:a_++,callback:e,priorityLevel:t,startTime:n,expirationTime:a,sortIndex:-1},n>i?(t.sortIndex=n,kf(Qi,t),qn(ci)===null&&t===qn(Qi)&&(cs?(Yv(ds),ds=-1):cs=!0,Bf(Lf,n-i))):(t.sortIndex=a,kf(ci,t),us||zf||(us=!0,Gr||(Gr=!0,qr()))),t};Ye.unstable_shouldYield=Pv;Ye.unstable_wrapCallback=function(t){var e=Ot;return function(){var n=Ot;Ot=e;try{return t.apply(this,arguments)}finally{Ot=n}}}});var Gv=Fn((gk,qv)=>{"use strict";qv.exports=Fv()});var Qv=Fn(Ht=>{"use strict";var r_=Wi();function Wv(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Zi(){}var zt={d:{f:Zi,r:function(){throw Error(Wv(522))},D:Zi,C:Zi,L:Zi,m:Zi,X:Zi,S:Zi,M:Zi},p:0,findDOMNode:null},l_=Symbol.for("react.portal");function s_(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l_,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}var fs=r_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function hu(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Ht.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=zt;Ht.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(Wv(299));return s_(t,e,null,n)};Ht.flushSync=function(t){var e=fs.T,n=zt.p;try{if(fs.T=null,zt.p=2,t)return t()}finally{fs.T=e,zt.p=n,zt.d.f()}};Ht.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,zt.d.C(t,e))};Ht.prefetchDNS=function(t){typeof t=="string"&&zt.d.D(t)};Ht.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,i=hu(n,e.crossOrigin),a=typeof e.integrity=="string"?e.integrity:void 0,r=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?zt.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:a,fetchPriority:r}):n==="script"&&zt.d.X(t,{crossOrigin:i,integrity:a,fetchPriority:r,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Ht.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=hu(e.as,e.crossOrigin);zt.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&zt.d.M(t)};Ht.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,i=hu(n,e.crossOrigin);zt.d.L(t,n,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Ht.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=hu(e.as,e.crossOrigin);zt.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else zt.d.m(t)};Ht.requestFormReset=function(t){zt.d.r(t)};Ht.unstable_batchedUpdates=function(t,e){return t(e)};Ht.useFormState=function(t,e,n){return fs.H.useFormState(t,e,n)};Ht.useFormStatus=function(){return fs.H.useHostTransitionStatus()};Ht.version="19.2.0"});var gu=Fn((mk,Xv)=>{"use strict";function Zv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Zv)}catch(t){console.error(t)}}Zv(),Xv.exports=Qv()});var oD=Fn(Uc=>{"use strict";var ct=Gv(),DE=Wi(),o_=gu();function O(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function AE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function $s(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function CE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function TE(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Kv(t){if($s(t)!==t)throw Error(O(188))}function u_(t){var e=t.alternate;if(!e){if(e=$s(t),e===null)throw Error(O(188));return e!==t?null:t}for(var n=t,i=e;;){var a=n.return;if(a===null)break;var r=a.alternate;if(r===null){if(i=a.return,i!==null){n=i;continue}break}if(a.child===r.child){for(r=a.child;r;){if(r===n)return Kv(a),t;if(r===i)return Kv(a),e;r=r.sibling}throw Error(O(188))}if(n.return!==i.return)n=a,i=r;else{for(var l=!1,s=a.child;s;){if(s===n){l=!0,n=a,i=r;break}if(s===i){l=!0,i=a,n=r;break}s=s.sibling}if(!l){for(s=r.child;s;){if(s===n){l=!0,n=r,i=a;break}if(s===i){l=!0,i=r,n=a;break}s=s.sibling}if(!l)throw Error(O(189))}}if(n.alternate!==i)throw Error(O(190))}if(n.tag!==3)throw Error(O(188));return n.stateNode.current===n?t:e}function _E(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=_E(t),e!==null)return e;t=t.sibling}return null}var Ue=Object.assign,c_=Symbol.for("react.element"),pu=Symbol.for("react.transitional.element"),Es=Symbol.for("react.portal"),$r=Symbol.for("react.fragment"),wE=Symbol.for("react.strict_mode"),yh=Symbol.for("react.profiler"),xE=Symbol.for("react.consumer"),vi=Symbol.for("react.context"),fg=Symbol.for("react.forward_ref"),vh=Symbol.for("react.suspense"),bh=Symbol.for("react.suspense_list"),hg=Symbol.for("react.memo"),Xi=Symbol.for("react.lazy");Symbol.for("react.scope");var Eh=Symbol.for("react.activity");Symbol.for("react.legacy_hidden");Symbol.for("react.tracing_marker");var d_=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var $v=Symbol.iterator;function hs(t){return t===null||typeof t!="object"?null:(t=$v&&t[$v]||t["@@iterator"],typeof t=="function"?t:null)}var f_=Symbol.for("react.client.reference");function Sh(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===f_?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $r:return"Fragment";case yh:return"Profiler";case wE:return"StrictMode";case vh:return"Suspense";case bh:return"SuspenseList";case Eh:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Es:return"Portal";case vi:return t.displayName||"Context";case xE:return(t._context.displayName||"Context")+".Consumer";case fg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case hg:return e=t.displayName||null,e!==null?e:Sh(t.type)||"Memo";case Xi:e=t._payload,t=t._init;try{return Sh(t(e))}catch(n){}}return null}var Ss=Array.isArray,G=DE.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ee=o_.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Xa={pending:!1,data:null,method:null,action:null},Dh=[],Jr=-1;function Xn(t){return{current:t}}function yt(t){0>Jr||(t.current=Dh[Jr],Dh[Jr]=null,Jr--)}function ke(t,e){Jr++,Dh[Jr]=t.current,t.current=e}var Zn=Xn(null),Is=Xn(null),sa=Xn(null),Qu=Xn(null);function Zu(t,e){switch(ke(sa,e),ke(Is,t),ke(Zn,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?rE(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=rE(e),t=QS(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}yt(Zn),ke(Zn,t)}function yl(){yt(Zn),yt(Is),yt(sa)}function Ah(t){t.memoizedState!==null&&ke(Qu,t);var e=Zn.current,n=QS(e,t.type);e!==n&&(ke(Is,t),ke(Zn,n))}function Xu(t){Is.current===t&&(yt(Zn),yt(Is)),Qu.current===t&&(yt(Qu),Zs._currentValue=Xa)}var If,Jv;function Ga(t){if(If===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);If=e&&e[1]||"",Jv=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+If+t+Jv}var Uf=!1;function Yf(t,e){if(!t||Uf)return"";Uf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var h=function(){throw Error()};if(Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(f){var d=f}Reflect.construct(t,[],h)}else{try{h.call()}catch(f){d=f}t.call(h.prototype)}}else{try{throw Error()}catch(f){d=f}(h=t())&&typeof h.catch=="function"&&h.catch(function(){})}}catch(f){if(f&&d&&typeof f.stack=="string")return[f.stack,d.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=i.DetermineComponentFrameRoot(),l=r[0],s=r[1];if(l&&s){var o=l.split(`
`),u=s.split(`
`);for(a=i=0;i<o.length&&!o[i].includes("DetermineComponentFrameRoot");)i++;for(;a<u.length&&!u[a].includes("DetermineComponentFrameRoot");)a++;if(i===o.length||a===u.length)for(i=o.length-1,a=u.length-1;1<=i&&0<=a&&o[i]!==u[a];)a--;for(;1<=i&&0<=a;i--,a--)if(o[i]!==u[a]){if(i!==1||a!==1)do if(i--,a--,0>a||o[i]!==u[a]){var c=`
`+o[i].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=i&&0<=a);break}}}finally{Uf=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Ga(n):""}function h_(t,e){switch(t.tag){case 26:case 27:case 5:return Ga(t.type);case 16:return Ga("Lazy");case 13:return t.child!==e&&e!==null?Ga("Suspense Fallback"):Ga("Suspense");case 19:return Ga("SuspenseList");case 0:case 15:return Yf(t.type,!1);case 11:return Yf(t.type.render,!1);case 1:return Yf(t.type,!0);case 31:return Ga("Activity");default:return""}}function eb(t){try{var e="",n=null;do e+=h_(t,n),n=t,t=t.return;while(t);return e}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var Ch=Object.prototype.hasOwnProperty,gg=ct.unstable_scheduleCallback,Vf=ct.unstable_cancelCallback,g_=ct.unstable_shouldYield,p_=ct.unstable_requestPaint,an=ct.unstable_now,m_=ct.unstable_getCurrentPriorityLevel,RE=ct.unstable_ImmediatePriority,ME=ct.unstable_UserBlockingPriority,Ku=ct.unstable_NormalPriority,y_=ct.unstable_LowPriority,OE=ct.unstable_IdlePriority,v_=ct.log,b_=ct.unstable_setDisableYieldValue,Js=null,rn=null;function na(t){if(typeof v_=="function"&&b_(t),rn&&typeof rn.setStrictMode=="function")try{rn.setStrictMode(Js,t)}catch(e){}}var ln=Math.clz32?Math.clz32:D_,E_=Math.log,S_=Math.LN2;function D_(t){return t>>>=0,t===0?32:31-(E_(t)/S_|0)|0}var mu=256,yu=262144,vu=4194304;function Wa(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ac(t,e,n){var i=t.pendingLanes;if(i===0)return 0;var a=0,r=t.suspendedLanes,l=t.pingedLanes;t=t.warmLanes;var s=i&134217727;return s!==0?(i=s&~r,i!==0?a=Wa(i):(l&=s,l!==0?a=Wa(l):n||(n=s&~t,n!==0&&(a=Wa(n))))):(s=i&~r,s!==0?a=Wa(s):l!==0?a=Wa(l):n||(n=i&~t,n!==0&&(a=Wa(n)))),a===0?0:e!==0&&e!==a&&!(e&r)&&(r=a&-a,n=e&-e,r>=n||r===32&&(n&4194048)!==0)?e:a}function eo(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function A_(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function NE(){var t=vu;return vu<<=1,!(vu&62914560)&&(vu=4194304),t}function jf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function to(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function C_(t,e,n,i,a,r){var l=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var s=t.entanglements,o=t.expirationTimes,u=t.hiddenUpdates;for(n=l&~n;0<n;){var c=31-ln(n),h=1<<c;s[c]=0,o[c]=-1;var d=u[c];if(d!==null)for(u[c]=null,c=0;c<d.length;c++){var f=d[c];f!==null&&(f.lane&=-536870913)}n&=~h}i!==0&&kE(t,i,0),r!==0&&a===0&&t.tag!==0&&(t.suspendedLanes|=r&~(l&~e))}function kE(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-ln(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|n&261930}function zE(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-ln(n),a=1<<i;a&e|t[i]&e&&(t[i]|=e),n&=~a}}function HE(t,e){var n=e&-e;return n=n&42?1:pg(n),n&(t.suspendedLanes|e)?0:n}function pg(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function mg(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function LE(){var t=Ee.p;return t!==0?t:(t=window.event,t===void 0?32:rD(t.type))}function tb(t,e){var n=Ee.p;try{return Ee.p=t,e()}finally{Ee.p=n}}var Ea=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Ea,Gt="__reactProps$"+Ea,xl="__reactContainer$"+Ea,Th="__reactEvents$"+Ea,T_="__reactListeners$"+Ea,__="__reactHandles$"+Ea,nb="__reactResources$"+Ea,no="__reactMarker$"+Ea;function yg(t){delete t[Tt],delete t[Gt],delete t[Th],delete t[T_],delete t[__]}function el(t){var e=t[Tt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[xl]||n[Tt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=cE(t);t!==null;){if(n=t[Tt])return n;t=cE(t)}return e}t=n,n=t.parentNode}return null}function Rl(t){if(t=t[Tt]||t[xl]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function Ds(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(O(33))}function cl(t){var e=t[nb];return e||(e=t[nb]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function mt(t){t[no]=!0}var BE=new Set,IE={};function lr(t,e){vl(t,e),vl(t+"Capture",e)}function vl(t,e){for(IE[t]=e,t=0;t<e.length;t++)BE.add(e[t])}var w_=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ib={},ab={};function x_(t){return Ch.call(ab,t)?!0:Ch.call(ib,t)?!1:w_.test(t)?ab[t]=!0:(ib[t]=!0,!1)}function ku(t,e,n){if(x_(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function bu(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function di(t,e,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+i)}}function yn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function UE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function R_(t,e,n){var i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof i!="undefined"&&typeof i.get=="function"&&typeof i.set=="function"){var a=i.get,r=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(l){n=""+l,r.call(this,l)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function _h(t){if(!t._valueTracker){var e=UE(t)?"checked":"value";t._valueTracker=R_(t,e,""+t[e])}}function YE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=UE(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function $u(t){if(t=t||(typeof document!="undefined"?document:void 0),typeof t=="undefined")return null;try{return t.activeElement||t.body}catch(e){return t.body}}var M_=/[\n"\\]/g;function En(t){return t.replace(M_,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function wh(t,e,n,i,a,r,l,s){t.name="",l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?t.type=l:t.removeAttribute("type"),e!=null?l==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+yn(e)):t.value!==""+yn(e)&&(t.value=""+yn(e)):l!=="submit"&&l!=="reset"||t.removeAttribute("value"),e!=null?xh(t,l,yn(e)):n!=null?xh(t,l,yn(n)):i!=null&&t.removeAttribute("value"),a==null&&r!=null&&(t.defaultChecked=!!r),a!=null&&(t.checked=a&&typeof a!="function"&&typeof a!="symbol"),s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?t.name=""+yn(s):t.removeAttribute("name")}function VE(t,e,n,i,a,r,l,s){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(t.type=r),e!=null||n!=null){if(!(r!=="submit"&&r!=="reset"||e!=null)){_h(t);return}n=n!=null?""+yn(n):"",e=e!=null?""+yn(e):n,s||e===t.value||(t.value=e),t.defaultValue=e}i=i!=null?i:a,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=s?t.checked:!!i,t.defaultChecked=!!i,l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"&&(t.name=l),_h(t)}function xh(t,e,n){e==="number"&&$u(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function dl(t,e,n,i){if(t=t.options,e){e={};for(var a=0;a<n.length;a++)e["$"+n[a]]=!0;for(n=0;n<t.length;n++)a=e.hasOwnProperty("$"+t[n].value),t[n].selected!==a&&(t[n].selected=a),a&&i&&(t[n].defaultSelected=!0)}else{for(n=""+yn(n),e=null,a=0;a<t.length;a++){if(t[a].value===n){t[a].selected=!0,i&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function jE(t,e,n){if(e!=null&&(e=""+yn(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+yn(n):""}function PE(t,e,n,i){if(e==null){if(i!=null){if(n!=null)throw Error(O(92));if(Ss(i)){if(1<i.length)throw Error(O(93));i=i[0]}n=i}n==null&&(n=""),e=n}n=yn(e),t.defaultValue=n,i=t.textContent,i===n&&i!==""&&i!==null&&(t.value=i),_h(t)}function bl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var O_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rb(t,e,n){var i=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,n):typeof n!="number"||n===0||O_.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function FE(t,e,n){if(e!=null&&typeof e!="object")throw Error(O(62));if(t=t.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var a in e)i=e[a],e.hasOwnProperty(a)&&n[a]!==i&&rb(t,a,i)}else for(var r in e)e.hasOwnProperty(r)&&rb(t,r,e[r])}function vg(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var N_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),k_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zu(t){return k_.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function bi(){}var Rh=null;function bg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var tl=null,fl=null;function lb(t){var e=Rl(t);if(e&&(t=e.stateNode)){var n=t[Gt]||null;e:switch(t=e.stateNode,e.type){case"input":if(wh(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+En(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var a=i[Gt]||null;if(!a)throw Error(O(90));wh(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(e=0;e<n.length;e++)i=n[e],i.form===t.form&&YE(i)}break e;case"textarea":jE(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&dl(t,!!n.multiple,e,!1)}}}var Pf=!1;function qE(t,e,n){if(Pf)return t(e,n);Pf=!0;try{var i=t(e);return i}finally{if(Pf=!1,(tl!==null||fl!==null)&&(Hc(),tl&&(e=tl,t=fl,fl=tl=null,lb(e),t)))for(e=0;e<t.length;e++)lb(t[e])}}function Us(t,e){var n=t.stateNode;if(n===null)return null;var i=n[Gt]||null;if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(O(231,e,typeof n));return n}var Ci=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),Mh=!1;if(Ci)try{Wr={},Object.defineProperty(Wr,"passive",{get:function(){Mh=!0}}),window.addEventListener("test",Wr,Wr),window.removeEventListener("test",Wr,Wr)}catch(t){Mh=!1}var Wr,ia=null,Eg=null,Hu=null;function GE(){if(Hu)return Hu;var t,e=Eg,n=e.length,i,a="value"in ia?ia.value:ia.textContent,r=a.length;for(t=0;t<n&&e[t]===a[t];t++);var l=n-t;for(i=1;i<=l&&e[n-i]===a[r-i];i++);return Hu=a.slice(t,1<i?1-i:void 0)}function Lu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Eu(){return!0}function sb(){return!1}function Wt(t){function e(n,i,a,r,l){this._reactName=n,this._targetInst=a,this.type=i,this.nativeEvent=r,this.target=l,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(r):r[s]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Eu:sb,this.isPropagationStopped=sb,this}return Ue(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Eu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Eu)},persist:function(){},isPersistent:Eu}),e}var sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cc=Wt(sr),io=Ue({},sr,{view:0,detail:0}),z_=Wt(io),Ff,qf,gs,Tc=Ue({},io,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==gs&&(gs&&t.type==="mousemove"?(Ff=t.screenX-gs.screenX,qf=t.screenY-gs.screenY):qf=Ff=0,gs=t),Ff)},movementY:function(t){return"movementY"in t?t.movementY:qf}}),ob=Wt(Tc),H_=Ue({},Tc,{dataTransfer:0}),L_=Wt(H_),B_=Ue({},io,{relatedTarget:0}),Gf=Wt(B_),I_=Ue({},sr,{animationName:0,elapsedTime:0,pseudoElement:0}),U_=Wt(I_),Y_=Ue({},sr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),V_=Wt(Y_),j_=Ue({},sr,{data:0}),ub=Wt(j_),P_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},F_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},q_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function G_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=q_[t])?!!e[t]:!1}function Sg(){return G_}var W_=Ue({},io,{key:function(t){if(t.key){var e=P_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Lu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?F_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sg,charCode:function(t){return t.type==="keypress"?Lu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Lu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Q_=Wt(W_),Z_=Ue({},Tc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cb=Wt(Z_),X_=Ue({},io,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sg}),K_=Wt(X_),$_=Ue({},sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),J_=Wt($_),ew=Ue({},Tc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),tw=Wt(ew),nw=Ue({},sr,{newState:0,oldState:0}),iw=Wt(nw),aw=[9,13,27,32],Dg=Ci&&"CompositionEvent"in window,Ts=null;Ci&&"documentMode"in document&&(Ts=document.documentMode);var rw=Ci&&"TextEvent"in window&&!Ts,WE=Ci&&(!Dg||Ts&&8<Ts&&11>=Ts),db=String.fromCharCode(32),fb=!1;function QE(t,e){switch(t){case"keyup":return aw.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ZE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var nl=!1;function lw(t,e){switch(t){case"compositionend":return ZE(e);case"keypress":return e.which!==32?null:(fb=!0,db);case"textInput":return t=e.data,t===db&&fb?null:t;default:return null}}function sw(t,e){if(nl)return t==="compositionend"||!Dg&&QE(t,e)?(t=GE(),Hu=Eg=ia=null,nl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return WE&&e.locale!=="ko"?null:e.data;default:return null}}var ow={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ow[t.type]:e==="textarea"}function XE(t,e,n,i){tl?fl?fl.push(i):fl=[i]:tl=i,e=mc(e,"onChange"),0<e.length&&(n=new Cc("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var _s=null,Ys=null;function uw(t){qS(t,0)}function _c(t){var e=Ds(t);if(YE(e))return t}function gb(t,e){if(t==="change")return e}var KE=!1;Ci&&(Ci?(Du="oninput"in document,Du||(Wf=document.createElement("div"),Wf.setAttribute("oninput","return;"),Du=typeof Wf.oninput=="function"),Su=Du):Su=!1,KE=Su&&(!document.documentMode||9<document.documentMode));var Su,Du,Wf;function pb(){_s&&(_s.detachEvent("onpropertychange",$E),Ys=_s=null)}function $E(t){if(t.propertyName==="value"&&_c(Ys)){var e=[];XE(e,Ys,t,bg(t)),qE(uw,e)}}function cw(t,e,n){t==="focusin"?(pb(),_s=e,Ys=n,_s.attachEvent("onpropertychange",$E)):t==="focusout"&&pb()}function dw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _c(Ys)}function fw(t,e){if(t==="click")return _c(e)}function hw(t,e){if(t==="input"||t==="change")return _c(e)}function gw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var on=typeof Object.is=="function"?Object.is:gw;function Vs(t,e){if(on(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var a=n[i];if(!Ch.call(e,a)||!on(t[a],e[a]))return!1}return!0}function mb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yb(t,e){var n=mb(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=mb(n)}}function JE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?JE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function e0(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=$u(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch(i){n=!1}if(n)t=e.contentWindow;else break;e=$u(t.document)}return e}function Ag(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var pw=Ci&&"documentMode"in document&&11>=document.documentMode,il=null,Oh=null,ws=null,Nh=!1;function vb(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Nh||il==null||il!==$u(i)||(i=il,"selectionStart"in i&&Ag(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ws&&Vs(ws,i)||(ws=i,i=mc(Oh,"onSelect"),0<i.length&&(e=new Cc("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=il)))}function qa(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var al={animationend:qa("Animation","AnimationEnd"),animationiteration:qa("Animation","AnimationIteration"),animationstart:qa("Animation","AnimationStart"),transitionrun:qa("Transition","TransitionRun"),transitionstart:qa("Transition","TransitionStart"),transitioncancel:qa("Transition","TransitionCancel"),transitionend:qa("Transition","TransitionEnd")},Qf={},t0={};Ci&&(t0=document.createElement("div").style,"AnimationEvent"in window||(delete al.animationend.animation,delete al.animationiteration.animation,delete al.animationstart.animation),"TransitionEvent"in window||delete al.transitionend.transition);function or(t){if(Qf[t])return Qf[t];if(!al[t])return t;var e=al[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in t0)return Qf[t]=e[n];return t}var n0=or("animationend"),i0=or("animationiteration"),a0=or("animationstart"),mw=or("transitionrun"),yw=or("transitionstart"),vw=or("transitioncancel"),r0=or("transitionend"),l0=new Map,kh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kh.push("scrollEnd");function kn(t,e){l0.set(t,e),lr(e,[t])}var Ju=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},mn=[],rl=0,Cg=0;function wc(){for(var t=rl,e=Cg=rl=0;e<t;){var n=mn[e];mn[e++]=null;var i=mn[e];mn[e++]=null;var a=mn[e];mn[e++]=null;var r=mn[e];if(mn[e++]=null,i!==null&&a!==null){var l=i.pending;l===null?a.next=a:(a.next=l.next,l.next=a),i.pending=a}r!==0&&s0(n,a,r)}}function xc(t,e,n,i){mn[rl++]=t,mn[rl++]=e,mn[rl++]=n,mn[rl++]=i,Cg|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function Tg(t,e,n,i){return xc(t,e,n,i),ec(t)}function ur(t,e){return xc(t,null,null,e),ec(t)}function s0(t,e,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n);for(var a=!1,r=t.return;r!==null;)r.childLanes|=n,i=r.alternate,i!==null&&(i.childLanes|=n),r.tag===22&&(t=r.stateNode,t===null||t._visibility&1||(a=!0)),t=r,r=r.return;return t.tag===3?(r=t.stateNode,a&&e!==null&&(a=31-ln(n),t=r.hiddenUpdates,i=t[a],i===null?t[a]=[e]:i.push(e),e.lane=n|536870912),r):null}function ec(t){if(50<Ls)throw Ls=0,eg=null,Error(O(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var ll={};function bw(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tn(t,e,n,i){return new bw(t,e,n,i)}function _g(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Si(t,e){var n=t.alternate;return n===null?(n=tn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function o0(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Bu(t,e,n,i,a,r){var l=0;if(i=t,typeof t=="function")_g(t)&&(l=1);else if(typeof t=="string")l=D1(t,n,Zn.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Eh:return t=tn(31,n,e,a),t.elementType=Eh,t.lanes=r,t;case $r:return Ka(n.children,a,r,e);case wE:l=8,a|=24;break;case yh:return t=tn(12,n,e,a|2),t.elementType=yh,t.lanes=r,t;case vh:return t=tn(13,n,e,a),t.elementType=vh,t.lanes=r,t;case bh:return t=tn(19,n,e,a),t.elementType=bh,t.lanes=r,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case vi:l=10;break e;case xE:l=9;break e;case fg:l=11;break e;case hg:l=14;break e;case Xi:l=16,i=null;break e}l=29,n=Error(O(130,t===null?"null":typeof t,"")),i=null}return e=tn(l,n,e,a),e.elementType=t,e.type=i,e.lanes=r,e}function Ka(t,e,n,i){return t=tn(7,t,i,e),t.lanes=n,t}function Zf(t,e,n){return t=tn(6,t,null,e),t.lanes=n,t}function u0(t){var e=tn(18,null,null,0);return e.stateNode=t,e}function Xf(t,e,n){return e=tn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var bb=new WeakMap;function Sn(t,e){if(typeof t=="object"&&t!==null){var n=bb.get(t);return n!==void 0?n:(e={value:t,source:e,stack:eb(e)},bb.set(t,e),e)}return{value:t,source:e,stack:eb(e)}}var sl=[],ol=0,tc=null,js=0,vn=[],bn=0,ma=null,Gn=1,Wn="";function mi(t,e){sl[ol++]=js,sl[ol++]=tc,tc=t,js=e}function c0(t,e,n){vn[bn++]=Gn,vn[bn++]=Wn,vn[bn++]=ma,ma=t;var i=Gn;t=Wn;var a=32-ln(i)-1;i&=~(1<<a),n+=1;var r=32-ln(e)+a;if(30<r){var l=a-a%5;r=(i&(1<<l)-1).toString(32),i>>=l,a-=l,Gn=1<<32-ln(e)+a|n<<a|i,Wn=r+t}else Gn=1<<r|n<<a|i,Wn=t}function wg(t){t.return!==null&&(mi(t,1),c0(t,1,0))}function xg(t){for(;t===tc;)tc=sl[--ol],sl[ol]=null,js=sl[--ol],sl[ol]=null;for(;t===ma;)ma=vn[--bn],vn[bn]=null,Wn=vn[--bn],vn[bn]=null,Gn=vn[--bn],vn[bn]=null}function d0(t,e){vn[bn++]=Gn,vn[bn++]=Wn,vn[bn++]=ma,Gn=e.id,Wn=e.overflow,ma=t}var _t=null,Ie=null,ce=!1,oa=null,Dn=!1,zh=Error(O(519));function ya(t){var e=Error(O(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ps(Sn(e,t)),zh}function Eb(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[Tt]=t,e[Gt]=i,n){case"dialog":ae("cancel",e),ae("close",e);break;case"iframe":case"object":case"embed":ae("load",e);break;case"video":case"audio":for(n=0;n<Ws.length;n++)ae(Ws[n],e);break;case"source":ae("error",e);break;case"img":case"image":case"link":ae("error",e),ae("load",e);break;case"details":ae("toggle",e);break;case"input":ae("invalid",e),VE(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":ae("invalid",e);break;case"textarea":ae("invalid",e),PE(e,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||i.suppressHydrationWarning===!0||WS(e.textContent,n)?(i.popover!=null&&(ae("beforetoggle",e),ae("toggle",e)),i.onScroll!=null&&ae("scroll",e),i.onScrollEnd!=null&&ae("scrollend",e),i.onClick!=null&&(e.onclick=bi),e=!0):e=!1,e||ya(t,!0)}function Sb(t){for(_t=t.return;_t;)switch(_t.tag){case 5:case 31:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:_t=_t.return}}function Qr(t){if(t!==_t)return!1;if(!ce)return Sb(t),ce=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||rg(t.type,t.memoizedProps)),n=!n),n&&Ie&&ya(t),Sb(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(O(317));Ie=uE(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(O(317));Ie=uE(t)}else e===27?(e=Ie,Sa(t.type)?(t=ug,ug=null,Ie=t):Ie=e):Ie=_t?Cn(t.stateNode.nextSibling):null;return!0}function tr(){Ie=_t=null,ce=!1}function Kf(){var t=oa;return t!==null&&(Ft===null?Ft=t:Ft.push.apply(Ft,t),oa=null),t}function Ps(t){oa===null?oa=[t]:oa.push(t)}var Hh=Xn(null),cr=null,Ei=null;function $i(t,e,n){ke(Hh,e._currentValue),e._currentValue=n}function Di(t){t._currentValue=Hh.current,yt(Hh)}function Lh(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Bh(t,e,n,i){var a=t.child;for(a!==null&&(a.return=t);a!==null;){var r=a.dependencies;if(r!==null){var l=a.child;r=r.firstContext;e:for(;r!==null;){var s=r;r=a;for(var o=0;o<e.length;o++)if(s.context===e[o]){r.lanes|=n,s=r.alternate,s!==null&&(s.lanes|=n),Lh(r.return,n,t),i||(l=null);break e}r=s.next}}else if(a.tag===18){if(l=a.return,l===null)throw Error(O(341));l.lanes|=n,r=l.alternate,r!==null&&(r.lanes|=n),Lh(l,n,t),l=null}else l=a.child;if(l!==null)l.return=a;else for(l=a;l!==null;){if(l===t){l=null;break}if(a=l.sibling,a!==null){a.return=l.return,l=a;break}l=l.return}a=l}}function Ml(t,e,n,i){t=null;for(var a=e,r=!1;a!==null;){if(!r){if(a.flags&524288)r=!0;else if(a.flags&262144)break}if(a.tag===10){var l=a.alternate;if(l===null)throw Error(O(387));if(l=l.memoizedProps,l!==null){var s=a.type;on(a.pendingProps.value,l.value)||(t!==null?t.push(s):t=[s])}}else if(a===Qu.current){if(l=a.alternate,l===null)throw Error(O(387));l.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(t!==null?t.push(Zs):t=[Zs])}a=a.return}t!==null&&Bh(e,t,n,i),e.flags|=262144}function nc(t){for(t=t.firstContext;t!==null;){if(!on(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function nr(t){cr=t,Ei=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function wt(t){return f0(cr,t)}function Au(t,e){return cr===null&&nr(t),f0(t,e)}function f0(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Ei===null){if(t===null)throw Error(O(308));Ei=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Ei=Ei.next=e;return n}var Ew=typeof AbortController!="undefined"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},Sw=ct.unstable_scheduleCallback,Dw=ct.unstable_NormalPriority,rt={$$typeof:vi,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rg(){return{controller:new Ew,data:new Map,refCount:0}}function ao(t){t.refCount--,t.refCount===0&&Sw(Dw,function(){t.controller.abort()})}var xs=null,Ih=0,El=0,hl=null;function Aw(t,e){if(xs===null){var n=xs=[];Ih=0,El=ep(),hl={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Ih++,e.then(Db,Db),e}function Db(){if(--Ih===0&&xs!==null){hl!==null&&(hl.status="fulfilled");var t=xs;xs=null,El=0,hl=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function Cw(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(a){n.push(a)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var a=0;a<n.length;a++)(0,n[a])(e)},function(a){for(i.status="rejected",i.reason=a,a=0;a<n.length;a++)(0,n[a])(void 0)}),i}var Ab=G.S;G.S=function(t,e){_S=an(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&Aw(t,e),Ab!==null&&Ab(t,e)};var $a=Xn(null);function Mg(){var t=$a.current;return t!==null?t:Oe.pooledCache}function Iu(t,e){e===null?ke($a,$a.current):ke($a,e.pool)}function h0(){var t=Mg();return t===null?null:{parent:rt._currentValue,pool:t}}var Ol=Error(O(460)),Og=Error(O(474)),Rc=Error(O(542)),ic={then:function(){}};function Cb(t){return t=t.status,t==="fulfilled"||t==="rejected"}function g0(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(bi,bi),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,_b(t),t;default:if(typeof e.status=="string")e.then(bi,bi);else{if(t=Oe,t!==null&&100<t.shellSuspendCounter)throw Error(O(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var a=e;a.status="fulfilled",a.value=i}},function(i){if(e.status==="pending"){var a=e;a.status="rejected",a.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,_b(t),t}throw Ja=e,Ol}}function Qa(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Ja=n,Ol):n}}var Ja=null;function Tb(){if(Ja===null)throw Error(O(459));var t=Ja;return Ja=null,t}function _b(t){if(t===Ol||t===Rc)throw Error(O(483))}var gl=null,Fs=0;function Cu(t){var e=Fs;return Fs+=1,gl===null&&(gl=[]),g0(gl,t,e)}function ps(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Tu(t,e){throw e.$$typeof===c_?Error(O(525)):(t=Object.prototype.toString.call(e),Error(O(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function p0(t){function e(g,m){if(t){var v=g.deletions;v===null?(g.deletions=[m],g.flags|=16):v.push(m)}}function n(g,m){if(!t)return null;for(;m!==null;)e(g,m),m=m.sibling;return null}function i(g){for(var m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function a(g,m){return g=Si(g,m),g.index=0,g.sibling=null,g}function r(g,m,v){return g.index=v,t?(v=g.alternate,v!==null?(v=v.index,v<m?(g.flags|=67108866,m):v):(g.flags|=67108866,m)):(g.flags|=1048576,m)}function l(g){return t&&g.alternate===null&&(g.flags|=67108866),g}function s(g,m,v,S){return m===null||m.tag!==6?(m=Zf(v,g.mode,S),m.return=g,m):(m=a(m,v),m.return=g,m)}function o(g,m,v,S){var A=v.type;return A===$r?c(g,m,v.props.children,S,v.key):m!==null&&(m.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Xi&&Qa(A)===m.type)?(m=a(m,v.props),ps(m,v),m.return=g,m):(m=Bu(v.type,v.key,v.props,null,g.mode,S),ps(m,v),m.return=g,m)}function u(g,m,v,S){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=Xf(v,g.mode,S),m.return=g,m):(m=a(m,v.children||[]),m.return=g,m)}function c(g,m,v,S,A){return m===null||m.tag!==7?(m=Ka(v,g.mode,S,A),m.return=g,m):(m=a(m,v),m.return=g,m)}function h(g,m,v){if(typeof m=="string"&&m!==""||typeof m=="number"||typeof m=="bigint")return m=Zf(""+m,g.mode,v),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case pu:return v=Bu(m.type,m.key,m.props,null,g.mode,v),ps(v,m),v.return=g,v;case Es:return m=Xf(m,g.mode,v),m.return=g,m;case Xi:return m=Qa(m),h(g,m,v)}if(Ss(m)||hs(m))return m=Ka(m,g.mode,v,null),m.return=g,m;if(typeof m.then=="function")return h(g,Cu(m),v);if(m.$$typeof===vi)return h(g,Au(g,m),v);Tu(g,m)}return null}function d(g,m,v,S){var A=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return A!==null?null:s(g,m,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case pu:return v.key===A?o(g,m,v,S):null;case Es:return v.key===A?u(g,m,v,S):null;case Xi:return v=Qa(v),d(g,m,v,S)}if(Ss(v)||hs(v))return A!==null?null:c(g,m,v,S,null);if(typeof v.then=="function")return d(g,m,Cu(v),S);if(v.$$typeof===vi)return d(g,m,Au(g,v),S);Tu(g,v)}return null}function f(g,m,v,S,A){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return g=g.get(v)||null,s(m,g,""+S,A);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case pu:return g=g.get(S.key===null?v:S.key)||null,o(m,g,S,A);case Es:return g=g.get(S.key===null?v:S.key)||null,u(m,g,S,A);case Xi:return S=Qa(S),f(g,m,v,S,A)}if(Ss(S)||hs(S))return g=g.get(v)||null,c(m,g,S,A,null);if(typeof S.then=="function")return f(g,m,v,Cu(S),A);if(S.$$typeof===vi)return f(g,m,v,Au(m,S),A);Tu(m,S)}return null}function p(g,m,v,S){for(var A=null,T=null,x=m,M=m=0,z=null;x!==null&&M<v.length;M++){x.index>M?(z=x,x=null):z=x.sibling;var I=d(g,x,v[M],S);if(I===null){x===null&&(x=z);break}t&&x&&I.alternate===null&&e(g,x),m=r(I,m,M),T===null?A=I:T.sibling=I,T=I,x=z}if(M===v.length)return n(g,x),ce&&mi(g,M),A;if(x===null){for(;M<v.length;M++)x=h(g,v[M],S),x!==null&&(m=r(x,m,M),T===null?A=x:T.sibling=x,T=x);return ce&&mi(g,M),A}for(x=i(x);M<v.length;M++)z=f(x,g,M,v[M],S),z!==null&&(t&&z.alternate!==null&&x.delete(z.key===null?M:z.key),m=r(z,m,M),T===null?A=z:T.sibling=z,T=z);return t&&x.forEach(function(ee){return e(g,ee)}),ce&&mi(g,M),A}function y(g,m,v,S){if(v==null)throw Error(O(151));for(var A=null,T=null,x=m,M=m=0,z=null,I=v.next();x!==null&&!I.done;M++,I=v.next()){x.index>M?(z=x,x=null):z=x.sibling;var ee=d(g,x,I.value,S);if(ee===null){x===null&&(x=z);break}t&&x&&ee.alternate===null&&e(g,x),m=r(ee,m,M),T===null?A=ee:T.sibling=ee,T=ee,x=z}if(I.done)return n(g,x),ce&&mi(g,M),A;if(x===null){for(;!I.done;M++,I=v.next())I=h(g,I.value,S),I!==null&&(m=r(I,m,M),T===null?A=I:T.sibling=I,T=I);return ce&&mi(g,M),A}for(x=i(x);!I.done;M++,I=v.next())I=f(x,g,M,I.value,S),I!==null&&(t&&I.alternate!==null&&x.delete(I.key===null?M:I.key),m=r(I,m,M),T===null?A=I:T.sibling=I,T=I);return t&&x.forEach(function(We){return e(g,We)}),ce&&mi(g,M),A}function b(g,m,v,S){if(typeof v=="object"&&v!==null&&v.type===$r&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case pu:e:{for(var A=v.key;m!==null;){if(m.key===A){if(A=v.type,A===$r){if(m.tag===7){n(g,m.sibling),S=a(m,v.props.children),S.return=g,g=S;break e}}else if(m.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Xi&&Qa(A)===m.type){n(g,m.sibling),S=a(m,v.props),ps(S,v),S.return=g,g=S;break e}n(g,m);break}else e(g,m);m=m.sibling}v.type===$r?(S=Ka(v.props.children,g.mode,S,v.key),S.return=g,g=S):(S=Bu(v.type,v.key,v.props,null,g.mode,S),ps(S,v),S.return=g,g=S)}return l(g);case Es:e:{for(A=v.key;m!==null;){if(m.key===A)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){n(g,m.sibling),S=a(m,v.children||[]),S.return=g,g=S;break e}else{n(g,m);break}else e(g,m);m=m.sibling}S=Xf(v,g.mode,S),S.return=g,g=S}return l(g);case Xi:return v=Qa(v),b(g,m,v,S)}if(Ss(v))return p(g,m,v,S);if(hs(v)){if(A=hs(v),typeof A!="function")throw Error(O(150));return v=A.call(v),y(g,m,v,S)}if(typeof v.then=="function")return b(g,m,Cu(v),S);if(v.$$typeof===vi)return b(g,m,Au(g,v),S);Tu(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint"?(v=""+v,m!==null&&m.tag===6?(n(g,m.sibling),S=a(m,v),S.return=g,g=S):(n(g,m),S=Zf(v,g.mode,S),S.return=g,g=S),l(g)):n(g,m)}return function(g,m,v,S){try{Fs=0;var A=b(g,m,v,S);return gl=null,A}catch(x){if(x===Ol||x===Rc)throw x;var T=tn(29,x,null,g.mode);return T.lanes=S,T.return=g,T}finally{}}}var ir=p0(!0),m0=p0(!1),Ki=!1;function Ng(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Uh(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ua(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ca(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,be&2){var a=i.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),i.pending=e,e=ec(t),s0(t,null,n),e}return xc(t,i,e,n),ec(t)}function Rs(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,zE(t,n)}}function $f(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var a=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var l={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};r===null?a=r=l:r=r.next=l,n=n.next}while(n!==null);r===null?a=r=e:r=r.next=e}else a=r=e;n={baseState:i.baseState,firstBaseUpdate:a,lastBaseUpdate:r,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var Yh=!1;function Ms(){if(Yh){var t=hl;if(t!==null)throw t}}function Os(t,e,n,i){Yh=!1;var a=t.updateQueue;Ki=!1;var r=a.firstBaseUpdate,l=a.lastBaseUpdate,s=a.shared.pending;if(s!==null){a.shared.pending=null;var o=s,u=o.next;o.next=null,l===null?r=u:l.next=u,l=o;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==l&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=o))}if(r!==null){var h=a.baseState;l=0,c=u=o=null,s=r;do{var d=s.lane&-536870913,f=d!==s.lane;if(f?(le&d)===d:(i&d)===d){d!==0&&d===El&&(Yh=!0),c!==null&&(c=c.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var p=t,y=s;d=e;var b=n;switch(y.tag){case 1:if(p=y.payload,typeof p=="function"){h=p.call(b,h,d);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=y.payload,d=typeof p=="function"?p.call(b,h,d):p,d==null)break e;h=Ue({},h,d);break e;case 2:Ki=!0}}d=s.callback,d!==null&&(t.flags|=64,f&&(t.flags|=8192),f=a.callbacks,f===null?a.callbacks=[d]:f.push(d))}else f={lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=f,o=h):c=c.next=f,l|=d;if(s=s.next,s===null){if(s=a.shared.pending,s===null)break;f=s,s=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(1);c===null&&(o=h),a.baseState=o,a.firstBaseUpdate=u,a.lastBaseUpdate=c,r===null&&(a.shared.lanes=0),ba|=l,t.lanes=l,t.memoizedState=h}}function y0(t,e){if(typeof t!="function")throw Error(O(191,t));t.call(e)}function v0(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)y0(n[t],e)}var Sl=Xn(null),ac=Xn(0);function wb(t,e){t=xi,ke(ac,t),ke(Sl,e),xi=t|e.baseLanes}function Vh(){ke(ac,xi),ke(Sl,Sl.current)}function kg(){xi=ac.current,yt(Sl),yt(ac)}var un=Xn(null),An=null;function Ji(t){var e=t.alternate;ke(Je,Je.current&1),ke(un,t),An===null&&(e===null||Sl.current!==null||e.memoizedState!==null)&&(An=t)}function jh(t){ke(Je,Je.current),ke(un,t),An===null&&(An=t)}function b0(t){t.tag===22?(ke(Je,Je.current),ke(un,t),An===null&&(An=t)):ea(t)}function ea(){ke(Je,Je.current),ke(un,un.current)}function en(t){yt(un),An===t&&(An=null),yt(Je)}var Je=Xn(0);function rc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||sg(n)||og(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ti=0,K=null,Re=null,it=null,lc=!1,pl=!1,ar=!1,sc=0,qs=0,ml=null,Tw=0;function Xe(){throw Error(O(321))}function zg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!on(t[n],e[n]))return!1;return!0}function Hg(t,e,n,i,a,r){return Ti=r,K=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,G.H=t===null||t.memoizedState===null?X0:Gg,ar=!1,r=n(i,a),ar=!1,pl&&(r=S0(e,n,i,a)),E0(t),r}function E0(t){G.H=Gs;var e=Re!==null&&Re.next!==null;if(Ti=0,it=Re=K=null,lc=!1,qs=0,ml=null,e)throw Error(O(300));t===null||lt||(t=t.dependencies,t!==null&&nc(t)&&(lt=!0))}function S0(t,e,n,i){K=t;var a=0;do{if(pl&&(ml=null),qs=0,pl=!1,25<=a)throw Error(O(301));if(a+=1,it=Re=null,t.updateQueue!=null){var r=t.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}G.H=K0,r=e(n,i)}while(pl);return r}function _w(){var t=G.H,e=t.useState()[0];return e=typeof e.then=="function"?ro(e):e,t=t.useState()[0],(Re!==null?Re.memoizedState:null)!==t&&(K.flags|=1024),e}function Lg(){var t=sc!==0;return sc=0,t}function Bg(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Ig(t){if(lc){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}lc=!1}Ti=0,it=Re=K=null,pl=!1,qs=sc=0,ml=null}function Lt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?K.memoizedState=it=t:it=it.next=t,it}function et(){if(Re===null){var t=K.alternate;t=t!==null?t.memoizedState:null}else t=Re.next;var e=it===null?K.memoizedState:it.next;if(e!==null)it=e,Re=t;else{if(t===null)throw K.alternate===null?Error(O(467)):Error(O(310));Re=t,t={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},it===null?K.memoizedState=it=t:it=it.next=t}return it}function Mc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ro(t){var e=qs;return qs+=1,ml===null&&(ml=[]),t=g0(ml,t,e),e=K,(it===null?e.memoizedState:it.next)===null&&(e=e.alternate,G.H=e===null||e.memoizedState===null?X0:Gg),t}function Oc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ro(t);if(t.$$typeof===vi)return wt(t)}throw Error(O(438,String(t)))}function Ug(t){var e=null,n=K.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var i=K.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(a){return a.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Mc(),K.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=d_;return e.index++,n}function _i(t,e){return typeof e=="function"?e(t):e}function Uu(t){var e=et();return Yg(e,Re,t)}function Yg(t,e,n){var i=t.queue;if(i===null)throw Error(O(311));i.lastRenderedReducer=n;var a=t.baseQueue,r=i.pending;if(r!==null){if(a!==null){var l=a.next;a.next=r.next,r.next=l}e.baseQueue=a=r,i.pending=null}if(r=t.baseState,a===null)t.memoizedState=r;else{e=a.next;var s=l=null,o=null,u=e,c=!1;do{var h=u.lane&-536870913;if(h!==u.lane?(le&h)===h:(Ti&h)===h){var d=u.revertLane;if(d===0)o!==null&&(o=o.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===El&&(c=!0);else if((Ti&d)===d){u=u.next,d===El&&(c=!0);continue}else h={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},o===null?(s=o=h,l=r):o=o.next=h,K.lanes|=d,ba|=d;h=u.action,ar&&n(r,h),r=u.hasEagerState?u.eagerState:n(r,h)}else d={lane:h,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},o===null?(s=o=d,l=r):o=o.next=d,K.lanes|=h,ba|=h;u=u.next}while(u!==null&&u!==e);if(o===null?l=r:o.next=s,!on(r,t.memoizedState)&&(lt=!0,c&&(n=hl,n!==null)))throw n;t.memoizedState=r,t.baseState=l,t.baseQueue=o,i.lastRenderedState=r}return a===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function Jf(t){var e=et(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var i=n.dispatch,a=n.pending,r=e.memoizedState;if(a!==null){n.pending=null;var l=a=a.next;do r=t(r,l.action),l=l.next;while(l!==a);on(r,e.memoizedState)||(lt=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),n.lastRenderedState=r}return[r,i]}function D0(t,e,n){var i=K,a=et(),r=ce;if(r){if(n===void 0)throw Error(O(407));n=n()}else n=e();var l=!on((Re||a).memoizedState,n);if(l&&(a.memoizedState=n,lt=!0),a=a.queue,Vg(T0.bind(null,i,a,t),[t]),a.getSnapshot!==e||l||it!==null&&it.memoizedState.tag&1){if(i.flags|=2048,Dl(9,{destroy:void 0},C0.bind(null,i,a,n,e),null),Oe===null)throw Error(O(349));r||Ti&127||A0(i,e,n)}return n}function A0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=K.updateQueue,e===null?(e=Mc(),K.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function C0(t,e,n,i){e.value=n,e.getSnapshot=i,_0(e)&&w0(t)}function T0(t,e,n){return n(function(){_0(e)&&w0(t)})}function _0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!on(t,n)}catch(i){return!0}}function w0(t){var e=ur(t,2);e!==null&&qt(e,t,2)}function Ph(t){var e=Lt();if(typeof t=="function"){var n=t;if(t=n(),ar){na(!0);try{n()}finally{na(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:t},e}function x0(t,e,n,i){return t.baseState=n,Yg(t,Re,typeof i=="function"?i:_i)}function ww(t,e,n,i,a){if(kc(t))throw Error(O(485));if(t=e.action,t!==null){var r={payload:a,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(l){r.listeners.push(l)}};G.T!==null?n(!0):r.isTransition=!1,i(r),n=e.pending,n===null?(r.next=e.pending=r,R0(e,r)):(r.next=n.next,e.pending=n.next=r)}}function R0(t,e){var n=e.action,i=e.payload,a=t.state;if(e.isTransition){var r=G.T,l={};G.T=l;try{var s=n(a,i),o=G.S;o!==null&&o(l,s),xb(t,e,s)}catch(u){Fh(t,e,u)}finally{r!==null&&l.types!==null&&(r.types=l.types),G.T=r}}else try{r=n(a,i),xb(t,e,r)}catch(u){Fh(t,e,u)}}function xb(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Rb(t,e,i)},function(i){return Fh(t,e,i)}):Rb(t,e,n)}function Rb(t,e,n){e.status="fulfilled",e.value=n,M0(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,R0(t,n)))}function Fh(t,e,n){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=n,M0(e),e=e.next;while(e!==i)}t.action=null}function M0(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function O0(t,e){return e}function Mb(t,e){if(ce){var n=Oe.formState;if(n!==null){e:{var i=K;if(ce){if(Ie){t:{for(var a=Ie,r=Dn;a.nodeType!==8;){if(!r){a=null;break t}if(a=Cn(a.nextSibling),a===null){a=null;break t}}r=a.data,a=r==="F!"||r==="F"?a:null}if(a){Ie=Cn(a.nextSibling),i=a.data==="F!";break e}}ya(i)}i=!1}i&&(e=n[0])}}return n=Lt(),n.memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:O0,lastRenderedState:e},n.queue=i,n=W0.bind(null,K,i),i.dispatch=n,i=Ph(!1),r=qg.bind(null,K,!1,i.queue),i=Lt(),a={state:e,dispatch:null,action:t,pending:null},i.queue=a,n=ww.bind(null,K,a,r,n),a.dispatch=n,i.memoizedState=t,[e,n,!1]}function Ob(t){var e=et();return N0(e,Re,t)}function N0(t,e,n){if(e=Yg(t,e,O0)[0],t=Uu(_i)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=ro(e)}catch(l){throw l===Ol?Rc:l}else i=e;e=et();var a=e.queue,r=a.dispatch;return n!==e.memoizedState&&(K.flags|=2048,Dl(9,{destroy:void 0},xw.bind(null,a,n),null)),[i,r,t]}function xw(t,e){t.action=e}function Nb(t){var e=et(),n=Re;if(n!==null)return N0(e,n,t);et(),e=e.memoizedState,n=et();var i=n.queue.dispatch;return n.memoizedState=t,[e,i,!1]}function Dl(t,e,n,i){return t={tag:t,create:n,deps:i,inst:e,next:null},e=K.updateQueue,e===null&&(e=Mc(),K.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function k0(){return et().memoizedState}function Yu(t,e,n,i){var a=Lt();K.flags|=t,a.memoizedState=Dl(1|e,{destroy:void 0},n,i===void 0?null:i)}function Nc(t,e,n,i){var a=et();i=i===void 0?null:i;var r=a.memoizedState.inst;Re!==null&&i!==null&&zg(i,Re.memoizedState.deps)?a.memoizedState=Dl(e,r,n,i):(K.flags|=t,a.memoizedState=Dl(1|e,r,n,i))}function kb(t,e){Yu(8390656,8,t,e)}function Vg(t,e){Nc(2048,8,t,e)}function Rw(t){K.flags|=4;var e=K.updateQueue;if(e===null)e=Mc(),K.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function z0(t){var e=et().memoizedState;return Rw({ref:e,nextImpl:t}),function(){if(be&2)throw Error(O(440));return e.impl.apply(void 0,arguments)}}function H0(t,e){return Nc(4,2,t,e)}function L0(t,e){return Nc(4,4,t,e)}function B0(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function I0(t,e,n){n=n!=null?n.concat([t]):null,Nc(4,4,B0.bind(null,e,t),n)}function jg(){}function U0(t,e){var n=et();e=e===void 0?null:e;var i=n.memoizedState;return e!==null&&zg(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function Y0(t,e){var n=et();e=e===void 0?null:e;var i=n.memoizedState;if(e!==null&&zg(e,i[1]))return i[0];if(i=t(),ar){na(!0);try{t()}finally{na(!1)}}return n.memoizedState=[i,e],i}function Pg(t,e,n){return n===void 0||Ti&1073741824&&!(le&261930)?t.memoizedState=e:(t.memoizedState=n,t=xS(),K.lanes|=t,ba|=t,n)}function V0(t,e,n,i){return on(n,e)?n:Sl.current!==null?(t=Pg(t,n,i),on(t,e)||(lt=!0),t):!(Ti&42)||Ti&1073741824&&!(le&261930)?(lt=!0,t.memoizedState=n):(t=xS(),K.lanes|=t,ba|=t,e)}function j0(t,e,n,i,a){var r=Ee.p;Ee.p=r!==0&&8>r?r:8;var l=G.T,s={};G.T=s,qg(t,!1,e,n);try{var o=a(),u=G.S;if(u!==null&&u(s,o),o!==null&&typeof o=="object"&&typeof o.then=="function"){var c=Cw(o,i);Ns(t,e,c,sn(t))}else Ns(t,e,i,sn(t))}catch(h){Ns(t,e,{then:function(){},status:"rejected",reason:h},sn())}finally{Ee.p=r,l!==null&&s.types!==null&&(l.types=s.types),G.T=l}}function Mw(){}function qh(t,e,n,i){if(t.tag!==5)throw Error(O(476));var a=P0(t).queue;j0(t,a,e,Xa,n===null?Mw:function(){return F0(t),n(i)})}function P0(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Xa,baseState:Xa,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:Xa},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function F0(t){var e=P0(t);e.next===null&&(e=t.alternate.memoizedState),Ns(t,e.next.queue,{},sn())}function Fg(){return wt(Zs)}function q0(){return et().memoizedState}function G0(){return et().memoizedState}function Ow(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=sn();t=ua(n);var i=ca(e,t,n);i!==null&&(qt(i,e,n),Rs(i,e,n)),e={cache:Rg()},t.payload=e;return}e=e.return}}function Nw(t,e,n){var i=sn();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},kc(t)?Q0(e,n):(n=Tg(t,e,n,i),n!==null&&(qt(n,t,i),Z0(n,e,i)))}function W0(t,e,n){var i=sn();Ns(t,e,n,i)}function Ns(t,e,n,i){var a={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(kc(t))Q0(e,a);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var l=e.lastRenderedState,s=r(l,n);if(a.hasEagerState=!0,a.eagerState=s,on(s,l))return xc(t,e,a,0),Oe===null&&wc(),!1}catch(o){}finally{}if(n=Tg(t,e,a,i),n!==null)return qt(n,t,i),Z0(n,e,i),!0}return!1}function qg(t,e,n,i){if(i={lane:2,revertLane:ep(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},kc(t)){if(e)throw Error(O(479))}else e=Tg(t,n,i,2),e!==null&&qt(e,t,2)}function kc(t){var e=t.alternate;return t===K||e!==null&&e===K}function Q0(t,e){pl=lc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Z0(t,e,n){if(n&4194048){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,zE(t,n)}}var Gs={readContext:wt,use:Oc,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useLayoutEffect:Xe,useInsertionEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useSyncExternalStore:Xe,useId:Xe,useHostTransitionStatus:Xe,useFormState:Xe,useActionState:Xe,useOptimistic:Xe,useMemoCache:Xe,useCacheRefresh:Xe};Gs.useEffectEvent=Xe;var X0={readContext:wt,use:Oc,useCallback:function(t,e){return Lt().memoizedState=[t,e===void 0?null:e],t},useContext:wt,useEffect:kb,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Yu(4194308,4,B0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Yu(4194308,4,t,e)},useInsertionEffect:function(t,e){Yu(4,2,t,e)},useMemo:function(t,e){var n=Lt();e=e===void 0?null:e;var i=t();if(ar){na(!0);try{t()}finally{na(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=Lt();if(n!==void 0){var a=n(e);if(ar){na(!0);try{n(e)}finally{na(!1)}}}else a=e;return i.memoizedState=i.baseState=a,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:a},i.queue=t,t=t.dispatch=Nw.bind(null,K,t),[i.memoizedState,t]},useRef:function(t){var e=Lt();return t={current:t},e.memoizedState=t},useState:function(t){t=Ph(t);var e=t.queue,n=W0.bind(null,K,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:jg,useDeferredValue:function(t,e){var n=Lt();return Pg(n,t,e)},useTransition:function(){var t=Ph(!1);return t=j0.bind(null,K,t.queue,!0,!1),Lt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=K,a=Lt();if(ce){if(n===void 0)throw Error(O(407));n=n()}else{if(n=e(),Oe===null)throw Error(O(349));le&127||A0(i,e,n)}a.memoizedState=n;var r={value:n,getSnapshot:e};return a.queue=r,kb(T0.bind(null,i,r,t),[t]),i.flags|=2048,Dl(9,{destroy:void 0},C0.bind(null,i,r,n,e),null),n},useId:function(){var t=Lt(),e=Oe.identifierPrefix;if(ce){var n=Wn,i=Gn;n=(i&~(1<<32-ln(i)-1)).toString(32)+n,e="_"+e+"R_"+n,n=sc++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=Tw++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:Fg,useFormState:Mb,useActionState:Mb,useOptimistic:function(t){var e=Lt();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=qg.bind(null,K,!0,n),n.dispatch=e,[t,e]},useMemoCache:Ug,useCacheRefresh:function(){return Lt().memoizedState=Ow.bind(null,K)},useEffectEvent:function(t){var e=Lt(),n={impl:t};return e.memoizedState=n,function(){if(be&2)throw Error(O(440));return n.impl.apply(void 0,arguments)}}},Gg={readContext:wt,use:Oc,useCallback:U0,useContext:wt,useEffect:Vg,useImperativeHandle:I0,useInsertionEffect:H0,useLayoutEffect:L0,useMemo:Y0,useReducer:Uu,useRef:k0,useState:function(){return Uu(_i)},useDebugValue:jg,useDeferredValue:function(t,e){var n=et();return V0(n,Re.memoizedState,t,e)},useTransition:function(){var t=Uu(_i)[0],e=et().memoizedState;return[typeof t=="boolean"?t:ro(t),e]},useSyncExternalStore:D0,useId:q0,useHostTransitionStatus:Fg,useFormState:Ob,useActionState:Ob,useOptimistic:function(t,e){var n=et();return x0(n,Re,t,e)},useMemoCache:Ug,useCacheRefresh:G0};Gg.useEffectEvent=z0;var K0={readContext:wt,use:Oc,useCallback:U0,useContext:wt,useEffect:Vg,useImperativeHandle:I0,useInsertionEffect:H0,useLayoutEffect:L0,useMemo:Y0,useReducer:Jf,useRef:k0,useState:function(){return Jf(_i)},useDebugValue:jg,useDeferredValue:function(t,e){var n=et();return Re===null?Pg(n,t,e):V0(n,Re.memoizedState,t,e)},useTransition:function(){var t=Jf(_i)[0],e=et().memoizedState;return[typeof t=="boolean"?t:ro(t),e]},useSyncExternalStore:D0,useId:q0,useHostTransitionStatus:Fg,useFormState:Nb,useActionState:Nb,useOptimistic:function(t,e){var n=et();return Re!==null?x0(n,Re,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Ug,useCacheRefresh:G0};K0.useEffectEvent=z0;function eh(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Ue({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Gh={enqueueSetState:function(t,e,n){t=t._reactInternals;var i=sn(),a=ua(i);a.payload=e,n!=null&&(a.callback=n),e=ca(t,a,i),e!==null&&(qt(e,t,i),Rs(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=sn(),a=ua(i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=ca(t,a,i),e!==null&&(qt(e,t,i),Rs(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=sn(),i=ua(n);i.tag=2,e!=null&&(i.callback=e),e=ca(t,i,n),e!==null&&(qt(e,t,n),Rs(e,t,n))}};function zb(t,e,n,i,a,r,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,r,l):e.prototype&&e.prototype.isPureReactComponent?!Vs(n,i)||!Vs(a,r):!0}function Hb(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Gh.enqueueReplaceState(e,e.state,null)}function rr(t,e){var n=e;if("ref"in e){n={};for(var i in e)i!=="ref"&&(n[i]=e[i])}if(t=t.defaultProps){n===e&&(n=Ue({},n));for(var a in t)n[a]===void 0&&(n[a]=t[a])}return n}function $0(t){Ju(t)}function J0(t){console.error(t)}function eS(t){Ju(t)}function oc(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function Lb(t,e,n){try{var i=t.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function Wh(t,e,n){return n=ua(n),n.tag=3,n.payload={element:null},n.callback=function(){oc(t,e)},n}function tS(t){return t=ua(t),t.tag=3,t}function nS(t,e,n,i){var a=n.type.getDerivedStateFromError;if(typeof a=="function"){var r=i.value;t.payload=function(){return a(r)},t.callback=function(){Lb(e,n,i)}}var l=n.stateNode;l!==null&&typeof l.componentDidCatch=="function"&&(t.callback=function(){Lb(e,n,i),typeof a!="function"&&(da===null?da=new Set([this]):da.add(this));var s=i.stack;this.componentDidCatch(i.value,{componentStack:s!==null?s:""})})}function kw(t,e,n,i,a){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=n.alternate,e!==null&&Ml(e,n,a,!0),n=un.current,n!==null){switch(n.tag){case 31:case 13:return An===null?hc():n.alternate===null&&Ke===0&&(Ke=3),n.flags&=-257,n.flags|=65536,n.lanes=a,i===ic?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([i]):e.add(i),dh(t,i,a)),!1;case 22:return n.flags|=65536,i===ic?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([i]):n.add(i)),dh(t,i,a)),!1}throw Error(O(435,n.tag))}return dh(t,i,a),hc(),!1}if(ce)return e=un.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=a,i!==zh&&(t=Error(O(422),{cause:i}),Ps(Sn(t,n)))):(i!==zh&&(e=Error(O(423),{cause:i}),Ps(Sn(e,n))),t=t.current.alternate,t.flags|=65536,a&=-a,t.lanes|=a,i=Sn(i,n),a=Wh(t.stateNode,i,a),$f(t,a),Ke!==4&&(Ke=2)),!1;var r=Error(O(520),{cause:i});if(r=Sn(r,n),Hs===null?Hs=[r]:Hs.push(r),Ke!==4&&(Ke=2),e===null)return!0;i=Sn(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=a&-a,n.lanes|=t,t=Wh(n.stateNode,i,t),$f(n,t),!1;case 1:if(e=n.type,r=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(da===null||!da.has(r))))return n.flags|=65536,a&=-a,n.lanes|=a,a=tS(a),nS(a,t,n,i),$f(n,a),!1}n=n.return}while(n!==null);return!1}var Wg=Error(O(461)),lt=!1;function Ct(t,e,n,i){e.child=t===null?m0(e,null,n,i):ir(e,t.child,n,i)}function Bb(t,e,n,i,a){n=n.render;var r=e.ref;if("ref"in i){var l={};for(var s in i)s!=="ref"&&(l[s]=i[s])}else l=i;return nr(e),i=Hg(t,e,n,l,r,a),s=Lg(),t!==null&&!lt?(Bg(t,e,a),wi(t,e,a)):(ce&&s&&wg(e),e.flags|=1,Ct(t,e,i,a),e.child)}function Ib(t,e,n,i,a){if(t===null){var r=n.type;return typeof r=="function"&&!_g(r)&&r.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=r,iS(t,e,r,i,a)):(t=Bu(n.type,null,i,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!Qg(t,a)){var l=r.memoizedProps;if(n=n.compare,n=n!==null?n:Vs,n(l,i)&&t.ref===e.ref)return wi(t,e,a)}return e.flags|=1,t=Si(r,i),t.ref=e.ref,t.return=e,e.child=t}function iS(t,e,n,i,a){if(t!==null){var r=t.memoizedProps;if(Vs(r,i)&&t.ref===e.ref)if(lt=!1,e.pendingProps=i=r,Qg(t,a))t.flags&131072&&(lt=!0);else return e.lanes=t.lanes,wi(t,e,a)}return Qh(t,e,n,i,a)}function aS(t,e,n,i){var a=i.children,r=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(e.flags&128){if(r=r!==null?r.baseLanes|n:n,t!==null){for(i=e.child=t.child,a=0;i!==null;)a=a|i.lanes|i.childLanes,i=i.sibling;i=a&~r}else i=0,e.child=null;return Ub(t,e,r,n,i)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Iu(e,r!==null?r.cachePool:null),r!==null?wb(e,r):Vh(),b0(e);else return i=e.lanes=536870912,Ub(t,e,r!==null?r.baseLanes|n:n,n,i)}else r!==null?(Iu(e,r.cachePool),wb(e,r),ea(e),e.memoizedState=null):(t!==null&&Iu(e,null),Vh(),ea(e));return Ct(t,e,a,n),e.child}function As(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function Ub(t,e,n,i,a){var r=Mg();return r=r===null?null:{parent:rt._currentValue,pool:r},e.memoizedState={baseLanes:n,cachePool:r},t!==null&&Iu(e,null),Vh(),b0(e),t!==null&&Ml(t,e,i,!0),e.childLanes=a,null}function Vu(t,e){return e=uc({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function Yb(t,e,n){return ir(e,t.child,null,n),t=Vu(e,e.pendingProps),t.flags|=2,en(e),e.memoizedState=null,t}function zw(t,e,n){var i=e.pendingProps,a=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(ce){if(i.mode==="hidden")return t=Vu(e,i),e.lanes=536870912,As(null,t);if(jh(e),(t=Ie)?(t=XS(t,Dn),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:ma!==null?{id:Gn,overflow:Wn}:null,retryLane:536870912,hydrationErrors:null},n=u0(t),n.return=e,e.child=n,_t=e,Ie=null)):t=null,t===null)throw ya(e);return e.lanes=536870912,null}return Vu(e,i)}var r=t.memoizedState;if(r!==null){var l=r.dehydrated;if(jh(e),a)if(e.flags&256)e.flags&=-257,e=Yb(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(O(558));else if(lt||Ml(t,e,n,!1),a=(n&t.childLanes)!==0,lt||a){if(i=Oe,i!==null&&(l=HE(i,n),l!==0&&l!==r.retryLane))throw r.retryLane=l,ur(t,l),qt(i,t,l),Wg;hc(),e=Yb(t,e,n)}else t=r.treeContext,Ie=Cn(l.nextSibling),_t=e,ce=!0,oa=null,Dn=!1,t!==null&&d0(e,t),e=Vu(e,i),e.flags|=4096;return e}return t=Si(t.child,{mode:i.mode,children:i.children}),t.ref=e.ref,e.child=t,t.return=e,t}function ju(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(O(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Qh(t,e,n,i,a){return nr(e),n=Hg(t,e,n,i,void 0,a),i=Lg(),t!==null&&!lt?(Bg(t,e,a),wi(t,e,a)):(ce&&i&&wg(e),e.flags|=1,Ct(t,e,n,a),e.child)}function Vb(t,e,n,i,a,r){return nr(e),e.updateQueue=null,n=S0(e,i,n,a),E0(t),i=Lg(),t!==null&&!lt?(Bg(t,e,r),wi(t,e,r)):(ce&&i&&wg(e),e.flags|=1,Ct(t,e,n,r),e.child)}function jb(t,e,n,i,a){if(nr(e),e.stateNode===null){var r=ll,l=n.contextType;typeof l=="object"&&l!==null&&(r=wt(l)),r=new n(i,r),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Gh,e.stateNode=r,r._reactInternals=e,r=e.stateNode,r.props=i,r.state=e.memoizedState,r.refs={},Ng(e),l=n.contextType,r.context=typeof l=="object"&&l!==null?wt(l):ll,r.state=e.memoizedState,l=n.getDerivedStateFromProps,typeof l=="function"&&(eh(e,n,l,i),r.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(l=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),l!==r.state&&Gh.enqueueReplaceState(r,r.state,null),Os(e,i,r,a),Ms(),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){r=e.stateNode;var s=e.memoizedProps,o=rr(n,s);r.props=o;var u=r.context,c=n.contextType;l=ll,typeof c=="object"&&c!==null&&(l=wt(c));var h=n.getDerivedStateFromProps;c=typeof h=="function"||typeof r.getSnapshotBeforeUpdate=="function",s=e.pendingProps!==s,c||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(s||u!==l)&&Hb(e,r,i,l),Ki=!1;var d=e.memoizedState;r.state=d,Os(e,i,r,a),Ms(),u=e.memoizedState,s||d!==u||Ki?(typeof h=="function"&&(eh(e,n,h,i),u=e.memoizedState),(o=Ki||zb(e,n,o,i,d,u,l))?(c||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(e.flags|=4194308)):(typeof r.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=u),r.props=i,r.state=u,r.context=l,i=o):(typeof r.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{r=e.stateNode,Uh(t,e),l=e.memoizedProps,c=rr(n,l),r.props=c,h=e.pendingProps,d=r.context,u=n.contextType,o=ll,typeof u=="object"&&u!==null&&(o=wt(u)),s=n.getDerivedStateFromProps,(u=typeof s=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(l!==h||d!==o)&&Hb(e,r,i,o),Ki=!1,d=e.memoizedState,r.state=d,Os(e,i,r,a),Ms();var f=e.memoizedState;l!==h||d!==f||Ki||t!==null&&t.dependencies!==null&&nc(t.dependencies)?(typeof s=="function"&&(eh(e,n,s,i),f=e.memoizedState),(c=Ki||zb(e,n,c,i,d,f,o)||t!==null&&t.dependencies!==null&&nc(t.dependencies))?(u||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(i,f,o),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(i,f,o)),typeof r.componentDidUpdate=="function"&&(e.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof r.componentDidUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=f),r.props=i,r.state=f,r.context=o,i=c):(typeof r.componentDidUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),i=!1)}return r=i,ju(t,e),i=(e.flags&128)!==0,r||i?(r=e.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:r.render(),e.flags|=1,t!==null&&i?(e.child=ir(e,t.child,null,a),e.child=ir(e,null,n,a)):Ct(t,e,n,a),e.memoizedState=r.state,t=e.child):t=wi(t,e,a),t}function Pb(t,e,n,i){return tr(),e.flags|=256,Ct(t,e,n,i),e.child}var th={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function nh(t){return{baseLanes:t,cachePool:h0()}}function ih(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=nn),t}function rS(t,e,n){var i=e.pendingProps,a=!1,r=(e.flags&128)!==0,l;if((l=r)||(l=t!==null&&t.memoizedState===null?!1:(Je.current&2)!==0),l&&(a=!0,e.flags&=-129),l=(e.flags&32)!==0,e.flags&=-33,t===null){if(ce){if(a?Ji(e):ea(e),(t=Ie)?(t=XS(t,Dn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:ma!==null?{id:Gn,overflow:Wn}:null,retryLane:536870912,hydrationErrors:null},n=u0(t),n.return=e,e.child=n,_t=e,Ie=null)):t=null,t===null)throw ya(e);return og(t)?e.lanes=32:e.lanes=536870912,null}var s=i.children;return i=i.fallback,a?(ea(e),a=e.mode,s=uc({mode:"hidden",children:s},a),i=Ka(i,a,n,null),s.return=e,i.return=e,s.sibling=i,e.child=s,i=e.child,i.memoizedState=nh(n),i.childLanes=ih(t,l,n),e.memoizedState=th,As(null,i)):(Ji(e),Zh(e,s))}var o=t.memoizedState;if(o!==null&&(s=o.dehydrated,s!==null)){if(r)e.flags&256?(Ji(e),e.flags&=-257,e=ah(t,e,n)):e.memoizedState!==null?(ea(e),e.child=t.child,e.flags|=128,e=null):(ea(e),s=i.fallback,a=e.mode,i=uc({mode:"visible",children:i.children},a),s=Ka(s,a,n,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,ir(e,t.child,null,n),i=e.child,i.memoizedState=nh(n),i.childLanes=ih(t,l,n),e.memoizedState=th,e=As(null,i));else if(Ji(e),og(s)){if(l=s.nextSibling&&s.nextSibling.dataset,l)var u=l.dgst;l=u,i=Error(O(419)),i.stack="",i.digest=l,Ps({value:i,source:null,stack:null}),e=ah(t,e,n)}else if(lt||Ml(t,e,n,!1),l=(n&t.childLanes)!==0,lt||l){if(l=Oe,l!==null&&(i=HE(l,n),i!==0&&i!==o.retryLane))throw o.retryLane=i,ur(t,i),qt(l,t,i),Wg;sg(s)||hc(),e=ah(t,e,n)}else sg(s)?(e.flags|=192,e.child=t.child,e=null):(t=o.treeContext,Ie=Cn(s.nextSibling),_t=e,ce=!0,oa=null,Dn=!1,t!==null&&d0(e,t),e=Zh(e,i.children),e.flags|=4096);return e}return a?(ea(e),s=i.fallback,a=e.mode,o=t.child,u=o.sibling,i=Si(o,{mode:"hidden",children:i.children}),i.subtreeFlags=o.subtreeFlags&65011712,u!==null?s=Si(u,s):(s=Ka(s,a,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,As(null,i),i=e.child,s=t.child.memoizedState,s===null?s=nh(n):(a=s.cachePool,a!==null?(o=rt._currentValue,a=a.parent!==o?{parent:o,pool:o}:a):a=h0(),s={baseLanes:s.baseLanes|n,cachePool:a}),i.memoizedState=s,i.childLanes=ih(t,l,n),e.memoizedState=th,As(t.child,i)):(Ji(e),n=t.child,t=n.sibling,n=Si(n,{mode:"visible",children:i.children}),n.return=e,n.sibling=null,t!==null&&(l=e.deletions,l===null?(e.deletions=[t],e.flags|=16):l.push(t)),e.child=n,e.memoizedState=null,n)}function Zh(t,e){return e=uc({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function uc(t,e){return t=tn(22,t,null,e),t.lanes=0,t}function ah(t,e,n){return ir(e,t.child,null,n),t=Zh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Fb(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Lh(t.return,e,n)}function rh(t,e,n,i,a,r){var l=t.memoizedState;l===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:a,treeForkCount:r}:(l.isBackwards=e,l.rendering=null,l.renderingStartTime=0,l.last=i,l.tail=n,l.tailMode=a,l.treeForkCount=r)}function lS(t,e,n){var i=e.pendingProps,a=i.revealOrder,r=i.tail;i=i.children;var l=Je.current,s=(l&2)!==0;if(s?(l=l&1|2,e.flags|=128):l&=1,ke(Je,l),Ct(t,e,i,n),i=ce?js:0,!s&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Fb(t,n,e);else if(t.tag===19)Fb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(a){case"forwards":for(n=e.child,a=null;n!==null;)t=n.alternate,t!==null&&rc(t)===null&&(a=n),n=n.sibling;n=a,n===null?(a=e.child,e.child=null):(a=n.sibling,n.sibling=null),rh(e,!1,a,n,r,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&rc(t)===null){e.child=a;break}t=a.sibling,a.sibling=n,n=a,a=t}rh(e,!0,n,null,r,i);break;case"together":rh(e,!1,null,null,void 0,i);break;default:e.memoizedState=null}return e.child}function wi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ba|=e.lanes,!(n&e.childLanes))if(t!==null){if(Ml(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(O(153));if(e.child!==null){for(t=e.child,n=Si(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Si(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Qg(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&nc(t)))}function Hw(t,e,n){switch(e.tag){case 3:Zu(e,e.stateNode.containerInfo),$i(e,rt,t.memoizedState.cache),tr();break;case 27:case 5:Ah(e);break;case 4:Zu(e,e.stateNode.containerInfo);break;case 10:$i(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,jh(e),null;break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(Ji(e),e.flags|=128,null):n&e.child.childLanes?rS(t,e,n):(Ji(e),t=wi(t,e,n),t!==null?t.sibling:null);Ji(e);break;case 19:var a=(t.flags&128)!==0;if(i=(n&e.childLanes)!==0,i||(Ml(t,e,n,!1),i=(n&e.childLanes)!==0),a){if(i)return lS(t,e,n);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ke(Je,Je.current),i)break;return null;case 22:return e.lanes=0,aS(t,e,n,e.pendingProps);case 24:$i(e,rt,t.memoizedState.cache)}return wi(t,e,n)}function sS(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)lt=!0;else{if(!Qg(t,n)&&!(e.flags&128))return lt=!1,Hw(t,e,n);lt=!!(t.flags&131072)}else lt=!1,ce&&e.flags&1048576&&c0(e,js,e.index);switch(e.lanes=0,e.tag){case 16:e:{var i=e.pendingProps;if(t=Qa(e.elementType),e.type=t,typeof t=="function")_g(t)?(i=rr(t,i),e.tag=1,e=jb(null,e,t,i,n)):(e.tag=0,e=Qh(null,e,t,i,n));else{if(t!=null){var a=t.$$typeof;if(a===fg){e.tag=11,e=Bb(null,e,t,i,n);break e}else if(a===hg){e.tag=14,e=Ib(null,e,t,i,n);break e}}throw e=Sh(t)||t,Error(O(306,e,""))}}return e;case 0:return Qh(t,e,e.type,e.pendingProps,n);case 1:return i=e.type,a=rr(i,e.pendingProps),jb(t,e,i,a,n);case 3:e:{if(Zu(e,e.stateNode.containerInfo),t===null)throw Error(O(387));i=e.pendingProps;var r=e.memoizedState;a=r.element,Uh(t,e),Os(e,i,null,n);var l=e.memoizedState;if(i=l.cache,$i(e,rt,i),i!==r.cache&&Bh(e,[rt],n,!0),Ms(),i=l.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:l.cache},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){e=Pb(t,e,i,n);break e}else if(i!==a){a=Sn(Error(O(424)),e),Ps(a),e=Pb(t,e,i,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ie=Cn(t.firstChild),_t=e,ce=!0,oa=null,Dn=!0,n=m0(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(tr(),i===a){e=wi(t,e,n);break e}Ct(t,e,i,n)}e=e.child}return e;case 26:return ju(t,e),t===null?(n=fE(e.type,null,e.pendingProps,null))?e.memoizedState=n:ce||(n=e.type,t=e.pendingProps,i=yc(sa.current).createElement(n),i[Tt]=e,i[Gt]=t,xt(i,n,t),mt(i),e.stateNode=i):e.memoizedState=fE(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Ah(e),t===null&&ce&&(i=e.stateNode=KS(e.type,e.pendingProps,sa.current),_t=e,Dn=!0,a=Ie,Sa(e.type)?(ug=a,Ie=Cn(i.firstChild)):Ie=a),Ct(t,e,e.pendingProps.children,n),ju(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&ce&&((a=i=Ie)&&(i=u1(i,e.type,e.pendingProps,Dn),i!==null?(e.stateNode=i,_t=e,Ie=Cn(i.firstChild),Dn=!1,a=!0):a=!1),a||ya(e)),Ah(e),a=e.type,r=e.pendingProps,l=t!==null?t.memoizedProps:null,i=r.children,rg(a,r)?i=null:l!==null&&rg(a,l)&&(e.flags|=32),e.memoizedState!==null&&(a=Hg(t,e,_w,null,null,n),Zs._currentValue=a),ju(t,e),Ct(t,e,i,n),e.child;case 6:return t===null&&ce&&((t=n=Ie)&&(n=c1(n,e.pendingProps,Dn),n!==null?(e.stateNode=n,_t=e,Ie=null,t=!0):t=!1),t||ya(e)),null;case 13:return rS(t,e,n);case 4:return Zu(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=ir(e,null,i,n):Ct(t,e,i,n),e.child;case 11:return Bb(t,e,e.type,e.pendingProps,n);case 7:return Ct(t,e,e.pendingProps,n),e.child;case 8:return Ct(t,e,e.pendingProps.children,n),e.child;case 12:return Ct(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,$i(e,e.type,i.value),Ct(t,e,i.children,n),e.child;case 9:return a=e.type._context,i=e.pendingProps.children,nr(e),a=wt(a),i=i(a),e.flags|=1,Ct(t,e,i,n),e.child;case 14:return Ib(t,e,e.type,e.pendingProps,n);case 15:return iS(t,e,e.type,e.pendingProps,n);case 19:return lS(t,e,n);case 31:return zw(t,e,n);case 22:return aS(t,e,n,e.pendingProps);case 24:return nr(e),i=wt(rt),t===null?(a=Mg(),a===null&&(a=Oe,r=Rg(),a.pooledCache=r,r.refCount++,r!==null&&(a.pooledCacheLanes|=n),a=r),e.memoizedState={parent:i,cache:a},Ng(e),$i(e,rt,a)):(t.lanes&n&&(Uh(t,e),Os(e,null,null,n),Ms()),a=t.memoizedState,r=e.memoizedState,a.parent!==i?(a={parent:i,cache:i},e.memoizedState=a,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=a),$i(e,rt,i)):(i=r.cache,$i(e,rt,i),i!==a.cache&&Bh(e,[rt],n,!0))),Ct(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(O(156,e.tag))}function fi(t){t.flags|=4}function lh(t,e,n,i,a){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(a&335544128)===a)if(t.stateNode.complete)t.flags|=8192;else if(OS())t.flags|=8192;else throw Ja=ic,Og}else t.flags&=-16777217}function qb(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!eD(e))if(OS())t.flags|=8192;else throw Ja=ic,Og}function _u(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?NE():536870912,t.lanes|=e,Al|=e)}function ms(t,e){if(!ce)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Be(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var a=t.child;a!==null;)n|=a.lanes|a.childLanes,i|=a.subtreeFlags&65011712,i|=a.flags&65011712,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)n|=a.lanes|a.childLanes,i|=a.subtreeFlags,i|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function Lw(t,e,n){var i=e.pendingProps;switch(xg(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(e),null;case 1:return Be(e),null;case 3:return n=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),Di(rt),yl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Qr(e)?fi(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Kf())),Be(e),null;case 26:var a=e.type,r=e.memoizedState;return t===null?(fi(e),r!==null?(Be(e),qb(e,r)):(Be(e),lh(e,a,null,i,n))):r?r!==t.memoizedState?(fi(e),Be(e),qb(e,r)):(Be(e),e.flags&=-16777217):(t=t.memoizedProps,t!==i&&fi(e),Be(e),lh(e,a,t,i,n)),null;case 27:if(Xu(e),n=sa.current,a=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&fi(e);else{if(!i){if(e.stateNode===null)throw Error(O(166));return Be(e),null}t=Zn.current,Qr(e)?Eb(e,t):(t=KS(a,i,n),e.stateNode=t,fi(e))}return Be(e),null;case 5:if(Xu(e),a=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&fi(e);else{if(!i){if(e.stateNode===null)throw Error(O(166));return Be(e),null}if(r=Zn.current,Qr(e))Eb(e,r);else{var l=yc(sa.current);switch(r){case 1:r=l.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:r=l.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":r=l.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":r=l.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":r=l.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof i.is=="string"?l.createElement("select",{is:i.is}):l.createElement("select"),i.multiple?r.multiple=!0:i.size&&(r.size=i.size);break;default:r=typeof i.is=="string"?l.createElement(a,{is:i.is}):l.createElement(a)}}r[Tt]=e,r[Gt]=i;e:for(l=e.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.tag!==27&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===e)break e;for(;l.sibling===null;){if(l.return===null||l.return===e)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}e.stateNode=r;e:switch(xt(r,a,i),a){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&fi(e)}}return Be(e),lh(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==i&&fi(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(O(166));if(t=sa.current,Qr(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,a=_t,a!==null)switch(a.tag){case 27:case 5:i=a.memoizedProps}t[Tt]=e,t=!!(t.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||WS(t.nodeValue,n)),t||ya(e,!0)}else t=yc(t).createTextNode(i),t[Tt]=e,e.stateNode=t}return Be(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(i=Qr(e),n!==null){if(t===null){if(!i)throw Error(O(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(O(557));t[Tt]=e}else tr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Be(e),t=!1}else n=Kf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(en(e),e):(en(e),null);if(e.flags&128)throw Error(O(558))}return Be(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(a=Qr(e),i!==null&&i.dehydrated!==null){if(t===null){if(!a)throw Error(O(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(O(317));a[Tt]=e}else tr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Be(e),a=!1}else a=Kf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),a=!0;if(!a)return e.flags&256?(en(e),e):(en(e),null)}return en(e),e.flags&128?(e.lanes=n,e):(n=i!==null,t=t!==null&&t.memoizedState!==null,n&&(i=e.child,a=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(a=i.alternate.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==a&&(i.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),_u(e,e.updateQueue),Be(e),null);case 4:return yl(),t===null&&tp(e.stateNode.containerInfo),Be(e),null;case 10:return Di(e.type),Be(e),null;case 19:if(yt(Je),i=e.memoizedState,i===null)return Be(e),null;if(a=(e.flags&128)!==0,r=i.rendering,r===null)if(a)ms(i,!1);else{if(Ke!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(r=rc(t),r!==null){for(e.flags|=128,ms(i,!1),t=r.updateQueue,e.updateQueue=t,_u(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)o0(n,t),n=n.sibling;return ke(Je,Je.current&1|2),ce&&mi(e,i.treeForkCount),e.child}t=t.sibling}i.tail!==null&&an()>dc&&(e.flags|=128,a=!0,ms(i,!1),e.lanes=4194304)}else{if(!a)if(t=rc(r),t!==null){if(e.flags|=128,a=!0,t=t.updateQueue,e.updateQueue=t,_u(e,t),ms(i,!0),i.tail===null&&i.tailMode==="hidden"&&!r.alternate&&!ce)return Be(e),null}else 2*an()-i.renderingStartTime>dc&&n!==536870912&&(e.flags|=128,a=!0,ms(i,!1),e.lanes=4194304);i.isBackwards?(r.sibling=e.child,e.child=r):(t=i.last,t!==null?t.sibling=r:e.child=r,i.last=r)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=an(),t.sibling=null,n=Je.current,ke(Je,a?n&1|2:n&1),ce&&mi(e,i.treeForkCount),t):(Be(e),null);case 22:case 23:return en(e),kg(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?n&536870912&&!(e.flags&128)&&(Be(e),e.subtreeFlags&6&&(e.flags|=8192)):Be(e),n=e.updateQueue,n!==null&&_u(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),t!==null&&yt($a),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Di(rt),Be(e),null;case 25:return null;case 30:return null}throw Error(O(156,e.tag))}function Bw(t,e){switch(xg(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Di(rt),yl(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Xu(e),null;case 31:if(e.memoizedState!==null){if(en(e),e.alternate===null)throw Error(O(340));tr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(en(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(O(340));tr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return yt(Je),null;case 4:return yl(),null;case 10:return Di(e.type),null;case 22:case 23:return en(e),kg(),t!==null&&yt($a),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Di(rt),null;case 25:return null;default:return null}}function oS(t,e){switch(xg(e),e.tag){case 3:Di(rt),yl();break;case 26:case 27:case 5:Xu(e);break;case 4:yl();break;case 31:e.memoizedState!==null&&en(e);break;case 13:en(e);break;case 19:yt(Je);break;case 10:Di(e.type);break;case 22:case 23:en(e),kg(),t!==null&&yt($a);break;case 24:Di(rt)}}function lo(t,e){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var a=i.next;n=a;do{if((n.tag&t)===t){i=void 0;var r=n.create,l=n.inst;i=r(),l.destroy=i}n=n.next}while(n!==a)}}catch(s){Te(e,e.return,s)}}function va(t,e,n){try{var i=e.updateQueue,a=i!==null?i.lastEffect:null;if(a!==null){var r=a.next;i=r;do{if((i.tag&t)===t){var l=i.inst,s=l.destroy;if(s!==void 0){l.destroy=void 0,a=e;var o=n,u=s;try{u()}catch(c){Te(a,o,c)}}}i=i.next}while(i!==r)}}catch(c){Te(e,e.return,c)}}function uS(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{v0(e,n)}catch(i){Te(t,t.return,i)}}}function cS(t,e,n){n.props=rr(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){Te(t,e,i)}}function ks(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof n=="function"?t.refCleanup=n(i):n.current=i}}catch(a){Te(t,e,a)}}function Qn(t,e){var n=t.ref,i=t.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(a){Te(t,e,a)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(a){Te(t,e,a)}else n.current=null}function dS(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(a){Te(t,t.return,a)}}function sh(t,e,n){try{var i=t.stateNode;i1(i,t.type,n,e),i[Gt]=e}catch(a){Te(t,t.return,a)}}function fS(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Sa(t.type)||t.tag===4}function oh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||fS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Sa(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Xh(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=bi));else if(i!==4&&(i===27&&Sa(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(Xh(t,e,n),t=t.sibling;t!==null;)Xh(t,e,n),t=t.sibling}function cc(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(i===27&&Sa(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(cc(t,e,n),t=t.sibling;t!==null;)cc(t,e,n),t=t.sibling}function hS(t){var e=t.stateNode,n=t.memoizedProps;try{for(var i=t.type,a=e.attributes;a.length;)e.removeAttributeNode(a[0]);xt(e,i,n),e[Tt]=t,e[Gt]=n}catch(r){Te(t,t.return,r)}}var yi=!1,at=!1,uh=!1,Gb=typeof WeakSet=="function"?WeakSet:Set,pt=null;function Iw(t,e){if(t=t.containerInfo,ig=Sc,t=e0(t),Ag(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var a=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch(y){n=null;break e}var l=0,s=-1,o=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var f;h!==n||a!==0&&h.nodeType!==3||(s=l+a),h!==r||i!==0&&h.nodeType!==3||(o=l+i),h.nodeType===3&&(l+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===t)break t;if(d===n&&++u===a&&(s=l),d===r&&++c===i&&(o=l),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}n=s===-1||o===-1?null:{start:s,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(ag={focusedElem:t,selectionRange:n},Sc=!1,pt=e;pt!==null;)if(e=pt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,pt=t;else for(;pt!==null;){switch(e=pt,r=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)a=t[n],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&r!==null){t=void 0,n=e,a=r.memoizedProps,r=r.memoizedState,i=n.stateNode;try{var p=rr(n.type,a);t=i.getSnapshotBeforeUpdate(p,r),i.__reactInternalSnapshotBeforeUpdate=t}catch(y){Te(n,n.return,y)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)lg(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":lg(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(O(163))}if(t=e.sibling,t!==null){t.return=e.return,pt=t;break}pt=e.return}}function gS(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:gi(t,n),i&4&&lo(5,n);break;case 1:if(gi(t,n),i&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(l){Te(n,n.return,l)}else{var a=rr(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(a,e,t.__reactInternalSnapshotBeforeUpdate)}catch(l){Te(n,n.return,l)}}i&64&&uS(n),i&512&&ks(n,n.return);break;case 3:if(gi(t,n),i&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{v0(t,e)}catch(l){Te(n,n.return,l)}}break;case 27:e===null&&i&4&&hS(n);case 26:case 5:gi(t,n),e===null&&i&4&&dS(n),i&512&&ks(n,n.return);break;case 12:gi(t,n);break;case 31:gi(t,n),i&4&&yS(t,n);break;case 13:gi(t,n),i&4&&vS(t,n),i&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=Ww.bind(null,n),d1(t,n))));break;case 22:if(i=n.memoizedState!==null||yi,!i){e=e!==null&&e.memoizedState!==null||at,a=yi;var r=at;yi=i,(at=e)&&!r?pi(t,n,(n.subtreeFlags&8772)!==0):gi(t,n),yi=a,at=r}break;case 30:break;default:gi(t,n)}}function pS(t){var e=t.alternate;e!==null&&(t.alternate=null,pS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&yg(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ve=null,Pt=!1;function hi(t,e,n){for(n=n.child;n!==null;)mS(t,e,n),n=n.sibling}function mS(t,e,n){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(Js,n)}catch(r){}switch(n.tag){case 26:at||Qn(n,e),hi(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:at||Qn(n,e);var i=Ve,a=Pt;Sa(n.type)&&(Ve=n.stateNode,Pt=!1),hi(t,e,n),Bs(n.stateNode),Ve=i,Pt=a;break;case 5:at||Qn(n,e);case 6:if(i=Ve,a=Pt,Ve=null,hi(t,e,n),Ve=i,Pt=a,Ve!==null)if(Pt)try{(Ve.nodeType===9?Ve.body:Ve.nodeName==="HTML"?Ve.ownerDocument.body:Ve).removeChild(n.stateNode)}catch(r){Te(n,e,r)}else try{Ve.removeChild(n.stateNode)}catch(r){Te(n,e,r)}break;case 18:Ve!==null&&(Pt?(t=Ve,sE(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),wl(t)):sE(Ve,n.stateNode));break;case 4:i=Ve,a=Pt,Ve=n.stateNode.containerInfo,Pt=!0,hi(t,e,n),Ve=i,Pt=a;break;case 0:case 11:case 14:case 15:va(2,n,e),at||va(4,n,e),hi(t,e,n);break;case 1:at||(Qn(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"&&cS(n,e,i)),hi(t,e,n);break;case 21:hi(t,e,n);break;case 22:at=(i=at)||n.memoizedState!==null,hi(t,e,n),at=i;break;default:hi(t,e,n)}}function yS(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{wl(t)}catch(n){Te(e,e.return,n)}}}function vS(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{wl(t)}catch(n){Te(e,e.return,n)}}function Uw(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Gb),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Gb),e;default:throw Error(O(435,t.tag))}}function wu(t,e){var n=Uw(t);e.forEach(function(i){if(!n.has(i)){n.add(i);var a=Qw.bind(null,t,i);i.then(a,a)}})}function Vt(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var a=n[i],r=t,l=e,s=l;e:for(;s!==null;){switch(s.tag){case 27:if(Sa(s.type)){Ve=s.stateNode,Pt=!1;break e}break;case 5:Ve=s.stateNode,Pt=!1;break e;case 3:case 4:Ve=s.stateNode.containerInfo,Pt=!0;break e}s=s.return}if(Ve===null)throw Error(O(160));mS(r,l,a),Ve=null,Pt=!1,r=a.alternate,r!==null&&(r.return=null),a.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)bS(e,t),e=e.sibling}var Nn=null;function bS(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Vt(e,t),jt(t),i&4&&(va(3,t,t.return),lo(3,t),va(5,t,t.return));break;case 1:Vt(e,t),jt(t),i&512&&(at||n===null||Qn(n,n.return)),i&64&&yi&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var a=Nn;if(Vt(e,t),jt(t),i&512&&(at||n===null||Qn(n,n.return)),i&4){var r=n!==null?n.memoizedState:null;if(i=t.memoizedState,n===null)if(i===null)if(t.stateNode===null){e:{i=t.type,n=t.memoizedProps,a=a.ownerDocument||a;t:switch(i){case"title":r=a.getElementsByTagName("title")[0],(!r||r[no]||r[Tt]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=a.createElement(i),a.head.insertBefore(r,a.querySelector("head > title"))),xt(r,i,n),r[Tt]=t,mt(r),i=r;break e;case"link":var l=gE("link","href",a).get(i+(n.href||""));if(l){for(var s=0;s<l.length;s++)if(r=l[s],r.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&r.getAttribute("rel")===(n.rel==null?null:n.rel)&&r.getAttribute("title")===(n.title==null?null:n.title)&&r.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){l.splice(s,1);break t}}r=a.createElement(i),xt(r,i,n),a.head.appendChild(r);break;case"meta":if(l=gE("meta","content",a).get(i+(n.content||""))){for(s=0;s<l.length;s++)if(r=l[s],r.getAttribute("content")===(n.content==null?null:""+n.content)&&r.getAttribute("name")===(n.name==null?null:n.name)&&r.getAttribute("property")===(n.property==null?null:n.property)&&r.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&r.getAttribute("charset")===(n.charSet==null?null:n.charSet)){l.splice(s,1);break t}}r=a.createElement(i),xt(r,i,n),a.head.appendChild(r);break;default:throw Error(O(468,i))}r[Tt]=t,mt(r),i=r}t.stateNode=i}else pE(a,t.type,t.stateNode);else t.stateNode=hE(a,i,t.memoizedProps);else r!==i?(r===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):r.count--,i===null?pE(a,t.type,t.stateNode):hE(a,i,t.memoizedProps)):i===null&&t.stateNode!==null&&sh(t,t.memoizedProps,n.memoizedProps)}break;case 27:Vt(e,t),jt(t),i&512&&(at||n===null||Qn(n,n.return)),n!==null&&i&4&&sh(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Vt(e,t),jt(t),i&512&&(at||n===null||Qn(n,n.return)),t.flags&32){a=t.stateNode;try{bl(a,"")}catch(p){Te(t,t.return,p)}}i&4&&t.stateNode!=null&&(a=t.memoizedProps,sh(t,a,n!==null?n.memoizedProps:a)),i&1024&&(uh=!0);break;case 6:if(Vt(e,t),jt(t),i&4){if(t.stateNode===null)throw Error(O(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(p){Te(t,t.return,p)}}break;case 3:if(qu=null,a=Nn,Nn=vc(e.containerInfo),Vt(e,t),Nn=a,jt(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{wl(e.containerInfo)}catch(p){Te(t,t.return,p)}uh&&(uh=!1,ES(t));break;case 4:i=Nn,Nn=vc(t.stateNode.containerInfo),Vt(e,t),jt(t),Nn=i;break;case 12:Vt(e,t),jt(t);break;case 31:Vt(e,t),jt(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,wu(t,i)));break;case 13:Vt(e,t),jt(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(zc=an()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,wu(t,i)));break;case 22:a=t.memoizedState!==null;var o=n!==null&&n.memoizedState!==null,u=yi,c=at;if(yi=u||a,at=c||o,Vt(e,t),at=c,yi=u,jt(t),i&8192)e:for(e=t.stateNode,e._visibility=a?e._visibility&-2:e._visibility|1,a&&(n===null||o||yi||at||Za(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){o=n=e;try{if(r=o.stateNode,a)l=r.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none";else{s=o.stateNode;var h=o.memoizedProps.style,d=h!=null&&h.hasOwnProperty("display")?h.display:null;s.style.display=d==null||typeof d=="boolean"?"":(""+d).trim()}}catch(p){Te(o,o.return,p)}}}else if(e.tag===6){if(n===null){o=e;try{o.stateNode.nodeValue=a?"":o.memoizedProps}catch(p){Te(o,o.return,p)}}}else if(e.tag===18){if(n===null){o=e;try{var f=o.stateNode;a?oE(f,!0):oE(o.stateNode,!1)}catch(p){Te(o,o.return,p)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=t.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,wu(t,n))));break;case 19:Vt(e,t),jt(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,wu(t,i)));break;case 30:break;case 21:break;default:Vt(e,t),jt(t)}}function jt(t){var e=t.flags;if(e&2){try{for(var n,i=t.return;i!==null;){if(fS(i)){n=i;break}i=i.return}if(n==null)throw Error(O(160));switch(n.tag){case 27:var a=n.stateNode,r=oh(t);cc(t,r,a);break;case 5:var l=n.stateNode;n.flags&32&&(bl(l,""),n.flags&=-33);var s=oh(t);cc(t,s,l);break;case 3:case 4:var o=n.stateNode.containerInfo,u=oh(t);Xh(t,u,o);break;default:throw Error(O(161))}}catch(c){Te(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ES(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;ES(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function gi(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)gS(t,e.alternate,e),e=e.sibling}function Za(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:va(4,e,e.return),Za(e);break;case 1:Qn(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&cS(e,e.return,n),Za(e);break;case 27:Bs(e.stateNode);case 26:case 5:Qn(e,e.return),Za(e);break;case 22:e.memoizedState===null&&Za(e);break;case 30:Za(e);break;default:Za(e)}t=t.sibling}}function pi(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,a=t,r=e,l=r.flags;switch(r.tag){case 0:case 11:case 15:pi(a,r,n),lo(4,r);break;case 1:if(pi(a,r,n),i=r,a=i.stateNode,typeof a.componentDidMount=="function")try{a.componentDidMount()}catch(u){Te(i,i.return,u)}if(i=r,a=i.updateQueue,a!==null){var s=i.stateNode;try{var o=a.shared.hiddenCallbacks;if(o!==null)for(a.shared.hiddenCallbacks=null,a=0;a<o.length;a++)y0(o[a],s)}catch(u){Te(i,i.return,u)}}n&&l&64&&uS(r),ks(r,r.return);break;case 27:hS(r);case 26:case 5:pi(a,r,n),n&&i===null&&l&4&&dS(r),ks(r,r.return);break;case 12:pi(a,r,n);break;case 31:pi(a,r,n),n&&l&4&&yS(a,r);break;case 13:pi(a,r,n),n&&l&4&&vS(a,r);break;case 22:r.memoizedState===null&&pi(a,r,n),ks(r,r.return);break;case 30:break;default:pi(a,r,n)}e=e.sibling}}function Zg(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&ao(n))}function Xg(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&ao(t))}function On(t,e,n,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)SS(t,e,n,i),e=e.sibling}function SS(t,e,n,i){var a=e.flags;switch(e.tag){case 0:case 11:case 15:On(t,e,n,i),a&2048&&lo(9,e);break;case 1:On(t,e,n,i);break;case 3:On(t,e,n,i),a&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&ao(t)));break;case 12:if(a&2048){On(t,e,n,i),t=e.stateNode;try{var r=e.memoizedProps,l=r.id,s=r.onPostCommit;typeof s=="function"&&s(l,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(o){Te(e,e.return,o)}}else On(t,e,n,i);break;case 31:On(t,e,n,i);break;case 13:On(t,e,n,i);break;case 23:break;case 22:r=e.stateNode,l=e.alternate,e.memoizedState!==null?r._visibility&2?On(t,e,n,i):zs(t,e):r._visibility&2?On(t,e,n,i):(r._visibility|=2,Xr(t,e,n,i,(e.subtreeFlags&10256)!==0||!1)),a&2048&&Zg(l,e);break;case 24:On(t,e,n,i),a&2048&&Xg(e.alternate,e);break;default:On(t,e,n,i)}}function Xr(t,e,n,i,a){for(a=a&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var r=t,l=e,s=n,o=i,u=l.flags;switch(l.tag){case 0:case 11:case 15:Xr(r,l,s,o,a),lo(8,l);break;case 23:break;case 22:var c=l.stateNode;l.memoizedState!==null?c._visibility&2?Xr(r,l,s,o,a):zs(r,l):(c._visibility|=2,Xr(r,l,s,o,a)),a&&u&2048&&Zg(l.alternate,l);break;case 24:Xr(r,l,s,o,a),a&&u&2048&&Xg(l.alternate,l);break;default:Xr(r,l,s,o,a)}e=e.sibling}}function zs(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,i=e,a=i.flags;switch(i.tag){case 22:zs(n,i),a&2048&&Zg(i.alternate,i);break;case 24:zs(n,i),a&2048&&Xg(i.alternate,i);break;default:zs(n,i)}e=e.sibling}}var Cs=8192;function Zr(t,e,n){if(t.subtreeFlags&Cs)for(t=t.child;t!==null;)DS(t,e,n),t=t.sibling}function DS(t,e,n){switch(t.tag){case 26:Zr(t,e,n),t.flags&Cs&&t.memoizedState!==null&&A1(n,Nn,t.memoizedState,t.memoizedProps);break;case 5:Zr(t,e,n);break;case 3:case 4:var i=Nn;Nn=vc(t.stateNode.containerInfo),Zr(t,e,n),Nn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Cs,Cs=16777216,Zr(t,e,n),Cs=i):Zr(t,e,n));break;default:Zr(t,e,n)}}function AS(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function ys(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];pt=i,TS(i,t)}AS(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)CS(t),t=t.sibling}function CS(t){switch(t.tag){case 0:case 11:case 15:ys(t),t.flags&2048&&va(9,t,t.return);break;case 3:ys(t);break;case 12:ys(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Pu(t)):ys(t);break;default:ys(t)}}function Pu(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];pt=i,TS(i,t)}AS(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:va(8,e,e.return),Pu(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Pu(e));break;default:Pu(e)}t=t.sibling}}function TS(t,e){for(;pt!==null;){var n=pt;switch(n.tag){case 0:case 11:case 15:va(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:ao(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,pt=i;else e:for(n=t;pt!==null;){i=pt;var a=i.sibling,r=i.return;if(pS(i),i===n){pt=null;break e}if(a!==null){a.return=r,pt=a;break e}pt=r}}}var Yw={getCacheForType:function(t){var e=wt(rt),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return wt(rt).controller.signal}},Vw=typeof WeakMap=="function"?WeakMap:Map,be=0,Oe=null,re=null,le=0,Ce=0,Jt=null,aa=!1,Nl=!1,Kg=!1,xi=0,Ke=0,ba=0,er=0,$g=0,nn=0,Al=0,Hs=null,Ft=null,Kh=!1,zc=0,_S=0,dc=1/0,fc=null,da=null,ut=0,fa=null,Cl=null,Ai=0,$h=0,Jh=null,wS=null,Ls=0,eg=null;function sn(){return be&2&&le!==0?le&-le:G.T!==null?ep():LE()}function xS(){if(nn===0)if(!(le&536870912)||ce){var t=yu;yu<<=1,!(yu&3932160)&&(yu=262144),nn=t}else nn=536870912;return t=un.current,t!==null&&(t.flags|=32),nn}function qt(t,e,n){(t===Oe&&(Ce===2||Ce===9)||t.cancelPendingCommit!==null)&&(Tl(t,0),ra(t,le,nn,!1)),to(t,n),(!(be&2)||t!==Oe)&&(t===Oe&&(!(be&2)&&(er|=n),Ke===4&&ra(t,le,nn,!1)),Kn(t))}function RS(t,e,n){if(be&6)throw Error(O(327));var i=!n&&(e&127)===0&&(e&t.expiredLanes)===0||eo(t,e),a=i?Fw(t,e):ch(t,e,!0),r=i;do{if(a===0){Nl&&!i&&ra(t,e,0,!1);break}else{if(n=t.current.alternate,r&&!jw(n)){a=ch(t,e,!1),r=!1;continue}if(a===2){if(r=e,t.errorRecoveryDisabledLanes&r)var l=0;else l=t.pendingLanes&-536870913,l=l!==0?l:l&536870912?536870912:0;if(l!==0){e=l;e:{var s=t;a=Hs;var o=s.current.memoizedState.isDehydrated;if(o&&(Tl(s,l).flags|=256),l=ch(s,l,!1),l!==2){if(Kg&&!o){s.errorRecoveryDisabledLanes|=r,er|=r,a=4;break e}r=Ft,Ft=a,r!==null&&(Ft===null?Ft=r:Ft.push.apply(Ft,r))}a=l}if(r=!1,a!==2)continue}}if(a===1){Tl(t,0),ra(t,e,0,!0);break}e:{switch(i=t,r=a,r){case 0:case 1:throw Error(O(345));case 4:if((e&4194048)!==e)break;case 6:ra(i,e,nn,!aa);break e;case 2:Ft=null;break;case 3:case 5:break;default:throw Error(O(329))}if((e&62914560)===e&&(a=zc+300-an(),10<a)){if(ra(i,e,nn,!aa),Ac(i,0,!0)!==0)break e;Ai=e,i.timeoutHandle=ZS(Wb.bind(null,i,n,Ft,fc,Kh,e,nn,er,Al,aa,r,"Throttled",-0,0),a);break e}Wb(i,n,Ft,fc,Kh,e,nn,er,Al,aa,r,null,-0,0)}}break}while(1);Kn(t)}function Wb(t,e,n,i,a,r,l,s,o,u,c,h,d,f){if(t.timeoutHandle=-1,h=e.subtreeFlags,h&8192||(h&16785408)===16785408){h={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:bi},DS(e,r,h);var p=(r&62914560)===r?zc-an():(r&4194048)===r?_S-an():0;if(p=C1(h,p),p!==null){Ai=r,t.cancelPendingCommit=p(Zb.bind(null,t,e,r,n,i,a,l,s,o,c,h,null,d,f)),ra(t,r,l,!u);return}}Zb(t,e,r,n,i,a,l,s,o)}function jw(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var a=n[i],r=a.getSnapshot;a=a.value;try{if(!on(r(),a))return!1}catch(l){return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ra(t,e,n,i){e&=~$g,e&=~er,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var a=e;0<a;){var r=31-ln(a),l=1<<r;i[r]=-1,a&=~l}n!==0&&kE(t,n,e)}function Hc(){return be&6?!0:(so(0,!1),!1)}function Jg(){if(re!==null){if(Ce===0)var t=re.return;else t=re,Ei=cr=null,Ig(t),gl=null,Fs=0,t=re;for(;t!==null;)oS(t.alternate,t),t=t.return;re=null}}function Tl(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,l1(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Ai=0,Jg(),Oe=t,re=n=Si(t.current,null),le=e,Ce=0,Jt=null,aa=!1,Nl=eo(t,e),Kg=!1,Al=nn=$g=er=ba=Ke=0,Ft=Hs=null,Kh=!1,e&8&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var a=31-ln(i),r=1<<a;e|=t[a],i&=~r}return xi=e,wc(),n}function MS(t,e){K=null,G.H=Gs,e===Ol||e===Rc?(e=Tb(),Ce=3):e===Og?(e=Tb(),Ce=4):Ce=e===Wg?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Jt=e,re===null&&(Ke=1,oc(t,Sn(e,t.current)))}function OS(){var t=un.current;return t===null?!0:(le&4194048)===le?An===null:(le&62914560)===le||le&536870912?t===An:!1}function NS(){var t=G.H;return G.H=Gs,t===null?Gs:t}function kS(){var t=G.A;return G.A=Yw,t}function hc(){Ke=4,aa||(le&4194048)!==le&&un.current!==null||(Nl=!0),!(ba&134217727)&&!(er&134217727)||Oe===null||ra(Oe,le,nn,!1)}function ch(t,e,n){var i=be;be|=2;var a=NS(),r=kS();(Oe!==t||le!==e)&&(fc=null,Tl(t,e)),e=!1;var l=Ke;e:do try{if(Ce!==0&&re!==null){var s=re,o=Jt;switch(Ce){case 8:Jg(),l=6;break e;case 3:case 2:case 9:case 6:un.current===null&&(e=!0);var u=Ce;if(Ce=0,Jt=null,ul(t,s,o,u),n&&Nl){l=0;break e}break;default:u=Ce,Ce=0,Jt=null,ul(t,s,o,u)}}Pw(),l=Ke;break}catch(c){MS(t,c)}while(1);return e&&t.shellSuspendCounter++,Ei=cr=null,be=i,G.H=a,G.A=r,re===null&&(Oe=null,le=0,wc()),l}function Pw(){for(;re!==null;)zS(re)}function Fw(t,e){var n=be;be|=2;var i=NS(),a=kS();Oe!==t||le!==e?(fc=null,dc=an()+500,Tl(t,e)):Nl=eo(t,e);e:do try{if(Ce!==0&&re!==null){e=re;var r=Jt;t:switch(Ce){case 1:Ce=0,Jt=null,ul(t,e,r,1);break;case 2:case 9:if(Cb(r)){Ce=0,Jt=null,Qb(e);break}e=function(){Ce!==2&&Ce!==9||Oe!==t||(Ce=7),Kn(t)},r.then(e,e);break e;case 3:Ce=7;break e;case 4:Ce=5;break e;case 7:Cb(r)?(Ce=0,Jt=null,Qb(e)):(Ce=0,Jt=null,ul(t,e,r,7));break;case 5:var l=null;switch(re.tag){case 26:l=re.memoizedState;case 5:case 27:var s=re;if(l?eD(l):s.stateNode.complete){Ce=0,Jt=null;var o=s.sibling;if(o!==null)re=o;else{var u=s.return;u!==null?(re=u,Lc(u)):re=null}break t}}Ce=0,Jt=null,ul(t,e,r,5);break;case 6:Ce=0,Jt=null,ul(t,e,r,6);break;case 8:Jg(),Ke=6;break e;default:throw Error(O(462))}}qw();break}catch(c){MS(t,c)}while(1);return Ei=cr=null,G.H=i,G.A=a,be=n,re!==null?0:(Oe=null,le=0,wc(),Ke)}function qw(){for(;re!==null&&!g_();)zS(re)}function zS(t){var e=sS(t.alternate,t,xi);t.memoizedProps=t.pendingProps,e===null?Lc(t):re=e}function Qb(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Vb(n,e,e.pendingProps,e.type,void 0,le);break;case 11:e=Vb(n,e,e.pendingProps,e.type.render,e.ref,le);break;case 5:Ig(e);default:oS(n,e),e=re=o0(e,xi),e=sS(n,e,xi)}t.memoizedProps=t.pendingProps,e===null?Lc(t):re=e}function ul(t,e,n,i){Ei=cr=null,Ig(e),gl=null,Fs=0;var a=e.return;try{if(kw(t,a,e,n,le)){Ke=1,oc(t,Sn(n,t.current)),re=null;return}}catch(r){if(a!==null)throw re=a,r;Ke=1,oc(t,Sn(n,t.current)),re=null;return}e.flags&32768?(ce||i===1?t=!0:Nl||le&536870912?t=!1:(aa=t=!0,(i===2||i===9||i===3||i===6)&&(i=un.current,i!==null&&i.tag===13&&(i.flags|=16384))),HS(e,t)):Lc(e)}function Lc(t){var e=t;do{if(e.flags&32768){HS(e,aa);return}t=e.return;var n=Lw(e.alternate,e,xi);if(n!==null){re=n;return}if(e=e.sibling,e!==null){re=e;return}re=e=t}while(e!==null);Ke===0&&(Ke=5)}function HS(t,e){do{var n=Bw(t.alternate,t);if(n!==null){n.flags&=32767,re=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){re=t;return}re=t=n}while(t!==null);Ke=6,re=null}function Zb(t,e,n,i,a,r,l,s,o){t.cancelPendingCommit=null;do Bc();while(ut!==0);if(be&6)throw Error(O(327));if(e!==null){if(e===t.current)throw Error(O(177));if(r=e.lanes|e.childLanes,r|=Cg,C_(t,n,r,l,s,o),t===Oe&&(re=Oe=null,le=0),Cl=e,fa=t,Ai=n,$h=r,Jh=a,wS=i,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,Zw(Ku,function(){return YS(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(e.flags&13878)!==0,e.subtreeFlags&13878||i){i=G.T,G.T=null,a=Ee.p,Ee.p=2,l=be,be|=4;try{Iw(t,e,n)}finally{be=l,Ee.p=a,G.T=i}}ut=1,LS(),BS(),IS()}}function LS(){if(ut===1){ut=0;var t=fa,e=Cl,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=G.T,G.T=null;var i=Ee.p;Ee.p=2;var a=be;be|=4;try{bS(e,t);var r=ag,l=e0(t.containerInfo),s=r.focusedElem,o=r.selectionRange;if(l!==s&&s&&s.ownerDocument&&JE(s.ownerDocument.documentElement,s)){if(o!==null&&Ag(s)){var u=o.start,c=o.end;if(c===void 0&&(c=u),"selectionStart"in s)s.selectionStart=u,s.selectionEnd=Math.min(c,s.value.length);else{var h=s.ownerDocument||document,d=h&&h.defaultView||window;if(d.getSelection){var f=d.getSelection(),p=s.textContent.length,y=Math.min(o.start,p),b=o.end===void 0?y:Math.min(o.end,p);!f.extend&&y>b&&(l=b,b=y,y=l);var g=yb(s,y),m=yb(s,b);if(g&&m&&(f.rangeCount!==1||f.anchorNode!==g.node||f.anchorOffset!==g.offset||f.focusNode!==m.node||f.focusOffset!==m.offset)){var v=h.createRange();v.setStart(g.node,g.offset),f.removeAllRanges(),y>b?(f.addRange(v),f.extend(m.node,m.offset)):(v.setEnd(m.node,m.offset),f.addRange(v))}}}}for(h=[],f=s;f=f.parentNode;)f.nodeType===1&&h.push({element:f,left:f.scrollLeft,top:f.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<h.length;s++){var S=h[s];S.element.scrollLeft=S.left,S.element.scrollTop=S.top}}Sc=!!ig,ag=ig=null}finally{be=a,Ee.p=i,G.T=n}}t.current=e,ut=2}}function BS(){if(ut===2){ut=0;var t=fa,e=Cl,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=G.T,G.T=null;var i=Ee.p;Ee.p=2;var a=be;be|=4;try{gS(t,e.alternate,e)}finally{be=a,Ee.p=i,G.T=n}}ut=3}}function IS(){if(ut===4||ut===3){ut=0,p_();var t=fa,e=Cl,n=Ai,i=wS;e.subtreeFlags&10256||e.flags&10256?ut=5:(ut=0,Cl=fa=null,US(t,t.pendingLanes));var a=t.pendingLanes;if(a===0&&(da=null),mg(n),e=e.stateNode,rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(Js,e,void 0,(e.current.flags&128)===128)}catch(o){}if(i!==null){e=G.T,a=Ee.p,Ee.p=2,G.T=null;try{for(var r=t.onRecoverableError,l=0;l<i.length;l++){var s=i[l];r(s.value,{componentStack:s.stack})}}finally{G.T=e,Ee.p=a}}Ai&3&&Bc(),Kn(t),a=t.pendingLanes,n&261930&&a&42?t===eg?Ls++:(Ls=0,eg=t):Ls=0,so(0,!1)}}function US(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,ao(e)))}function Bc(){return LS(),BS(),IS(),YS()}function YS(){if(ut!==5)return!1;var t=fa,e=$h;$h=0;var n=mg(Ai),i=G.T,a=Ee.p;try{Ee.p=32>n?32:n,G.T=null,n=Jh,Jh=null;var r=fa,l=Ai;if(ut=0,Cl=fa=null,Ai=0,be&6)throw Error(O(331));var s=be;if(be|=4,CS(r.current),SS(r,r.current,l,n),be=s,so(0,!1),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(Js,r)}catch(o){}return!0}finally{Ee.p=a,G.T=i,US(t,e)}}function Xb(t,e,n){e=Sn(n,e),e=Wh(t.stateNode,e,2),t=ca(t,e,2),t!==null&&(to(t,2),Kn(t))}function Te(t,e,n){if(t.tag===3)Xb(t,t,n);else for(;e!==null;){if(e.tag===3){Xb(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(da===null||!da.has(i))){t=Sn(n,t),n=tS(2),i=ca(e,n,2),i!==null&&(nS(n,i,e,t),to(i,2),Kn(i));break}}e=e.return}}function dh(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new Vw;var a=new Set;i.set(e,a)}else a=i.get(e),a===void 0&&(a=new Set,i.set(e,a));a.has(n)||(Kg=!0,a.add(n),t=Gw.bind(null,t,e,n),e.then(t,t))}function Gw(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,Oe===t&&(le&n)===n&&(Ke===4||Ke===3&&(le&62914560)===le&&300>an()-zc?!(be&2)&&Tl(t,0):$g|=n,Al===le&&(Al=0)),Kn(t)}function VS(t,e){e===0&&(e=NE()),t=ur(t,e),t!==null&&(to(t,e),Kn(t))}function Ww(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),VS(t,n)}function Qw(t,e){var n=0;switch(t.tag){case 31:case 13:var i=t.stateNode,a=t.memoizedState;a!==null&&(n=a.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(O(314))}i!==null&&i.delete(e),VS(t,n)}function Zw(t,e){return gg(t,e)}var gc=null,Kr=null,tg=!1,pc=!1,fh=!1,la=0;function Kn(t){t!==Kr&&t.next===null&&(Kr===null?gc=Kr=t:Kr=Kr.next=t),pc=!0,tg||(tg=!0,Kw())}function so(t,e){if(!fh&&pc){fh=!0;do for(var n=!1,i=gc;i!==null;){if(!e)if(t!==0){var a=i.pendingLanes;if(a===0)var r=0;else{var l=i.suspendedLanes,s=i.pingedLanes;r=(1<<31-ln(42|t)+1)-1,r&=a&~(l&~s),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(n=!0,Kb(i,r))}else r=le,r=Ac(i,i===Oe?r:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(r&3)||eo(i,r)||(n=!0,Kb(i,r));i=i.next}while(n);fh=!1}}function Xw(){jS()}function jS(){pc=tg=!1;var t=0;la!==0&&r1()&&(t=la);for(var e=an(),n=null,i=gc;i!==null;){var a=i.next,r=PS(i,e);r===0?(i.next=null,n===null?gc=a:n.next=a,a===null&&(Kr=n)):(n=i,(t!==0||r&3)&&(pc=!0)),i=a}ut!==0&&ut!==5||so(t,!1),la!==0&&(la=0)}function PS(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,a=t.expirationTimes,r=t.pendingLanes&-62914561;0<r;){var l=31-ln(r),s=1<<l,o=a[l];o===-1?(!(s&n)||s&i)&&(a[l]=A_(s,e)):o<=e&&(t.expiredLanes|=s),r&=~s}if(e=Oe,n=le,n=Ac(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,n===0||t===e&&(Ce===2||Ce===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&Vf(i),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||eo(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(i!==null&&Vf(i),mg(n)){case 2:case 8:n=ME;break;case 32:n=Ku;break;case 268435456:n=OE;break;default:n=Ku}return i=FS.bind(null,t),n=gg(n,i),t.callbackPriority=e,t.callbackNode=n,e}return i!==null&&i!==null&&Vf(i),t.callbackPriority=2,t.callbackNode=null,2}function FS(t,e){if(ut!==0&&ut!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Bc()&&t.callbackNode!==n)return null;var i=le;return i=Ac(t,t===Oe?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(RS(t,i,e),PS(t,an()),t.callbackNode!=null&&t.callbackNode===n?FS.bind(null,t):null)}function Kb(t,e){if(Bc())return null;RS(t,e,!0)}function Kw(){s1(function(){be&6?gg(RE,Xw):jS()})}function ep(){if(la===0){var t=El;t===0&&(t=mu,mu<<=1,!(mu&261888)&&(mu=256)),la=t}return la}function $b(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:zu(""+t)}function Jb(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function $w(t,e,n,i,a){if(e==="submit"&&n&&n.stateNode===a){var r=$b((a[Gt]||null).action),l=i.submitter;l&&(e=(e=l[Gt]||null)?$b(e.formAction):l.getAttribute("formAction"),e!==null&&(r=e,l=null));var s=new Cc("action","action",null,i,a);t.push({event:s,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(la!==0){var o=l?Jb(a,l):new FormData(a);qh(n,{pending:!0,data:o,method:a.method,action:r},null,o)}}else typeof r=="function"&&(s.preventDefault(),o=l?Jb(a,l):new FormData(a),qh(n,{pending:!0,data:o,method:a.method,action:r},r,o))},currentTarget:a}]})}}for(xu=0;xu<kh.length;xu++)Ru=kh[xu],eE=Ru.toLowerCase(),tE=Ru[0].toUpperCase()+Ru.slice(1),kn(eE,"on"+tE);var Ru,eE,tE,xu;kn(n0,"onAnimationEnd");kn(i0,"onAnimationIteration");kn(a0,"onAnimationStart");kn("dblclick","onDoubleClick");kn("focusin","onFocus");kn("focusout","onBlur");kn(mw,"onTransitionRun");kn(yw,"onTransitionStart");kn(vw,"onTransitionCancel");kn(r0,"onTransitionEnd");vl("onMouseEnter",["mouseout","mouseover"]);vl("onMouseLeave",["mouseout","mouseover"]);vl("onPointerEnter",["pointerout","pointerover"]);vl("onPointerLeave",["pointerout","pointerover"]);lr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));lr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));lr("onBeforeInput",["compositionend","keypress","textInput","paste"]);lr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));lr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));lr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ws="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ws));function qS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],a=i.event;i=i.listeners;e:{var r=void 0;if(e)for(var l=i.length-1;0<=l;l--){var s=i[l],o=s.instance,u=s.currentTarget;if(s=s.listener,o!==r&&a.isPropagationStopped())break e;r=s,a.currentTarget=u;try{r(a)}catch(c){Ju(c)}a.currentTarget=null,r=o}else for(l=0;l<i.length;l++){if(s=i[l],o=s.instance,u=s.currentTarget,s=s.listener,o!==r&&a.isPropagationStopped())break e;r=s,a.currentTarget=u;try{r(a)}catch(c){Ju(c)}a.currentTarget=null,r=o}}}}function ae(t,e){var n=e[Th];n===void 0&&(n=e[Th]=new Set);var i=t+"__bubble";n.has(i)||(GS(e,t,2,!1),n.add(i))}function hh(t,e,n){var i=0;e&&(i|=4),GS(n,t,i,e)}var Mu="_reactListening"+Math.random().toString(36).slice(2);function tp(t){if(!t[Mu]){t[Mu]=!0,BE.forEach(function(n){n!=="selectionchange"&&(Jw.has(n)||hh(n,!1,t),hh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Mu]||(e[Mu]=!0,hh("selectionchange",!1,e))}}function GS(t,e,n,i){switch(rD(e)){case 2:var a=w1;break;case 8:a=x1;break;default:a=rp}n=a.bind(null,e,n,t),a=void 0,!Mh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),i?a!==void 0?t.addEventListener(e,n,{capture:!0,passive:a}):t.addEventListener(e,n,!0):a!==void 0?t.addEventListener(e,n,{passive:a}):t.addEventListener(e,n,!1)}function gh(t,e,n,i,a){var r=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var l=i.tag;if(l===3||l===4){var s=i.stateNode.containerInfo;if(s===a)break;if(l===4)for(l=i.return;l!==null;){var o=l.tag;if((o===3||o===4)&&l.stateNode.containerInfo===a)return;l=l.return}for(;s!==null;){if(l=el(s),l===null)return;if(o=l.tag,o===5||o===6||o===26||o===27){i=r=l;continue e}s=s.parentNode}}i=i.return}qE(function(){var u=r,c=bg(n),h=[];e:{var d=l0.get(t);if(d!==void 0){var f=Cc,p=t;switch(t){case"keypress":if(Lu(n)===0)break e;case"keydown":case"keyup":f=Q_;break;case"focusin":p="focus",f=Gf;break;case"focusout":p="blur",f=Gf;break;case"beforeblur":case"afterblur":f=Gf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=ob;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=L_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=K_;break;case n0:case i0:case a0:f=U_;break;case r0:f=J_;break;case"scroll":case"scrollend":f=z_;break;case"wheel":f=tw;break;case"copy":case"cut":case"paste":f=V_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=cb;break;case"toggle":case"beforetoggle":f=iw}var y=(e&4)!==0,b=!y&&(t==="scroll"||t==="scrollend"),g=y?d!==null?d+"Capture":null:d;y=[];for(var m=u,v;m!==null;){var S=m;if(v=S.stateNode,S=S.tag,S!==5&&S!==26&&S!==27||v===null||g===null||(S=Us(m,g),S!=null&&y.push(Qs(m,S,v))),b)break;m=m.return}0<y.length&&(d=new f(d,p,null,n,c),h.push({event:d,listeners:y}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",d&&n!==Rh&&(p=n.relatedTarget||n.fromElement)&&(el(p)||p[xl]))break e;if((f||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=u,p=p?el(p):null,p!==null&&(b=$s(p),y=p.tag,p!==b||y!==5&&y!==27&&y!==6)&&(p=null)):(f=null,p=u),f!==p)){if(y=ob,S="onMouseLeave",g="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(y=cb,S="onPointerLeave",g="onPointerEnter",m="pointer"),b=f==null?d:Ds(f),v=p==null?d:Ds(p),d=new y(S,m+"leave",f,n,c),d.target=b,d.relatedTarget=v,S=null,el(c)===u&&(y=new y(g,m+"enter",p,n,c),y.target=v,y.relatedTarget=b,S=y),b=S,f&&p)t:{for(y=e1,g=f,m=p,v=0,S=g;S;S=y(S))v++;S=0;for(var A=m;A;A=y(A))S++;for(;0<v-S;)g=y(g),v--;for(;0<S-v;)m=y(m),S--;for(;v--;){if(g===m||m!==null&&g===m.alternate){y=g;break t}g=y(g),m=y(m)}y=null}else y=null;f!==null&&nE(h,d,f,y,!1),p!==null&&b!==null&&nE(h,b,p,y,!0)}}e:{if(d=u?Ds(u):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var T=gb;else if(hb(d))if(KE)T=hw;else{T=dw;var x=cw}else f=d.nodeName,!f||f.toLowerCase()!=="input"||d.type!=="checkbox"&&d.type!=="radio"?u&&vg(u.elementType)&&(T=gb):T=fw;if(T&&(T=T(t,u))){XE(h,T,n,c);break e}x&&x(t,d,u),t==="focusout"&&u&&d.type==="number"&&u.memoizedProps.value!=null&&xh(d,"number",d.value)}switch(x=u?Ds(u):window,t){case"focusin":(hb(x)||x.contentEditable==="true")&&(il=x,Oh=u,ws=null);break;case"focusout":ws=Oh=il=null;break;case"mousedown":Nh=!0;break;case"contextmenu":case"mouseup":case"dragend":Nh=!1,vb(h,n,c);break;case"selectionchange":if(pw)break;case"keydown":case"keyup":vb(h,n,c)}var M;if(Dg)e:{switch(t){case"compositionstart":var z="onCompositionStart";break e;case"compositionend":z="onCompositionEnd";break e;case"compositionupdate":z="onCompositionUpdate";break e}z=void 0}else nl?QE(t,n)&&(z="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(z="onCompositionStart");z&&(WE&&n.locale!=="ko"&&(nl||z!=="onCompositionStart"?z==="onCompositionEnd"&&nl&&(M=GE()):(ia=c,Eg="value"in ia?ia.value:ia.textContent,nl=!0)),x=mc(u,z),0<x.length&&(z=new ub(z,t,null,n,c),h.push({event:z,listeners:x}),M?z.data=M:(M=ZE(n),M!==null&&(z.data=M)))),(M=rw?lw(t,n):sw(t,n))&&(z=mc(u,"onBeforeInput"),0<z.length&&(x=new ub("onBeforeInput","beforeinput",null,n,c),h.push({event:x,listeners:z}),x.data=M)),$w(h,t,u,n,c)}qS(h,e)})}function Qs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function mc(t,e){for(var n=e+"Capture",i=[];t!==null;){var a=t,r=a.stateNode;if(a=a.tag,a!==5&&a!==26&&a!==27||r===null||(a=Us(t,n),a!=null&&i.unshift(Qs(t,a,r)),a=Us(t,e),a!=null&&i.push(Qs(t,a,r))),t.tag===3)return i;t=t.return}return[]}function e1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function nE(t,e,n,i,a){for(var r=e._reactName,l=[];n!==null&&n!==i;){var s=n,o=s.alternate,u=s.stateNode;if(s=s.tag,o!==null&&o===i)break;s!==5&&s!==26&&s!==27||u===null||(o=u,a?(u=Us(n,r),u!=null&&l.unshift(Qs(n,u,o))):a||(u=Us(n,r),u!=null&&l.push(Qs(n,u,o)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var t1=/\r\n?/g,n1=/\u0000|\uFFFD/g;function iE(t){return(typeof t=="string"?t:""+t).replace(t1,`
`).replace(n1,"")}function WS(t,e){return e=iE(e),iE(t)===e}function xe(t,e,n,i,a,r){switch(n){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||bl(t,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&bl(t,""+i);break;case"className":bu(t,"class",i);break;case"tabIndex":bu(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":bu(t,n,i);break;case"style":FE(t,i,r);break;case"data":if(e!=="object"){bu(t,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=zu(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(n==="formAction"?(e!=="input"&&xe(t,e,"name",a.name,a,null),xe(t,e,"formEncType",a.formEncType,a,null),xe(t,e,"formMethod",a.formMethod,a,null),xe(t,e,"formTarget",a.formTarget,a,null)):(xe(t,e,"encType",a.encType,a,null),xe(t,e,"method",a.method,a,null),xe(t,e,"target",a.target,a,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=zu(""+i),t.setAttribute(n,i);break;case"onClick":i!=null&&(t.onclick=bi);break;case"onScroll":i!=null&&ae("scroll",t);break;case"onScrollEnd":i!=null&&ae("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(O(61));if(n=i.__html,n!=null){if(a.children!=null)throw Error(O(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}n=zu(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":i===!0?t.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":ae("beforetoggle",t),ae("toggle",t),ku(t,"popover",i);break;case"xlinkActuate":di(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":di(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":di(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":di(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":di(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":di(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":di(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":di(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":di(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":ku(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=N_.get(n)||n,ku(t,n,i))}}function ng(t,e,n,i,a,r){switch(n){case"style":FE(t,i,r);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(O(61));if(n=i.__html,n!=null){if(a.children!=null)throw Error(O(60));t.innerHTML=n}}break;case"children":typeof i=="string"?bl(t,i):(typeof i=="number"||typeof i=="bigint")&&bl(t,""+i);break;case"onScroll":i!=null&&ae("scroll",t);break;case"onScrollEnd":i!=null&&ae("scrollend",t);break;case"onClick":i!=null&&(t.onclick=bi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!IE.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(a=n.endsWith("Capture"),e=n.slice(2,a?n.length-7:void 0),r=t[Gt]||null,r=r!=null?r[n]:null,typeof r=="function"&&t.removeEventListener(e,r,a),typeof i=="function")){typeof r!="function"&&r!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,a);break e}n in t?t[n]=i:i===!0?t.setAttribute(n,""):ku(t,n,i)}}}function xt(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ae("error",t),ae("load",t);var i=!1,a=!1,r;for(r in n)if(n.hasOwnProperty(r)){var l=n[r];if(l!=null)switch(r){case"src":i=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(O(137,e));default:xe(t,e,r,l,n,null)}}a&&xe(t,e,"srcSet",n.srcSet,n,null),i&&xe(t,e,"src",n.src,n,null);return;case"input":ae("invalid",t);var s=r=l=a=null,o=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var c=n[i];if(c!=null)switch(i){case"name":a=c;break;case"type":l=c;break;case"checked":o=c;break;case"defaultChecked":u=c;break;case"value":r=c;break;case"defaultValue":s=c;break;case"children":case"dangerouslySetInnerHTML":if(c!=null)throw Error(O(137,e));break;default:xe(t,e,i,c,n,null)}}VE(t,r,s,o,u,l,a,!1);return;case"select":ae("invalid",t),i=l=r=null;for(a in n)if(n.hasOwnProperty(a)&&(s=n[a],s!=null))switch(a){case"value":r=s;break;case"defaultValue":l=s;break;case"multiple":i=s;default:xe(t,e,a,s,n,null)}e=r,n=l,t.multiple=!!i,e!=null?dl(t,!!i,e,!1):n!=null&&dl(t,!!i,n,!0);return;case"textarea":ae("invalid",t),r=a=i=null;for(l in n)if(n.hasOwnProperty(l)&&(s=n[l],s!=null))switch(l){case"value":i=s;break;case"defaultValue":a=s;break;case"children":r=s;break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(O(91));break;default:xe(t,e,l,s,n,null)}PE(t,i,a,r);return;case"option":for(o in n)if(n.hasOwnProperty(o)&&(i=n[o],i!=null))switch(o){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:xe(t,e,o,i,n,null)}return;case"dialog":ae("beforetoggle",t),ae("toggle",t),ae("cancel",t),ae("close",t);break;case"iframe":case"object":ae("load",t);break;case"video":case"audio":for(i=0;i<Ws.length;i++)ae(Ws[i],t);break;case"image":ae("error",t),ae("load",t);break;case"details":ae("toggle",t);break;case"embed":case"source":case"link":ae("error",t),ae("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(O(137,e));default:xe(t,e,u,i,n,null)}return;default:if(vg(e)){for(c in n)n.hasOwnProperty(c)&&(i=n[c],i!==void 0&&ng(t,e,c,i,n,void 0));return}}for(s in n)n.hasOwnProperty(s)&&(i=n[s],i!=null&&xe(t,e,s,i,n,null))}function i1(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,r=null,l=null,s=null,o=null,u=null,c=null;for(f in n){var h=n[f];if(n.hasOwnProperty(f)&&h!=null)switch(f){case"checked":break;case"value":break;case"defaultValue":o=h;default:i.hasOwnProperty(f)||xe(t,e,f,null,i,h)}}for(var d in i){var f=i[d];if(h=n[d],i.hasOwnProperty(d)&&(f!=null||h!=null))switch(d){case"type":r=f;break;case"name":a=f;break;case"checked":u=f;break;case"defaultChecked":c=f;break;case"value":l=f;break;case"defaultValue":s=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(O(137,e));break;default:f!==h&&xe(t,e,d,f,i,h)}}wh(t,l,s,o,u,c,r,a);return;case"select":f=l=s=d=null;for(r in n)if(o=n[r],n.hasOwnProperty(r)&&o!=null)switch(r){case"value":break;case"multiple":f=o;default:i.hasOwnProperty(r)||xe(t,e,r,null,i,o)}for(a in i)if(r=i[a],o=n[a],i.hasOwnProperty(a)&&(r!=null||o!=null))switch(a){case"value":d=r;break;case"defaultValue":s=r;break;case"multiple":l=r;default:r!==o&&xe(t,e,a,r,i,o)}e=s,n=l,i=f,d!=null?dl(t,!!n,d,!1):!!i!=!!n&&(e!=null?dl(t,!!n,e,!0):dl(t,!!n,n?[]:"",!1));return;case"textarea":f=d=null;for(s in n)if(a=n[s],n.hasOwnProperty(s)&&a!=null&&!i.hasOwnProperty(s))switch(s){case"value":break;case"children":break;default:xe(t,e,s,null,i,a)}for(l in i)if(a=i[l],r=n[l],i.hasOwnProperty(l)&&(a!=null||r!=null))switch(l){case"value":d=a;break;case"defaultValue":f=a;break;case"children":break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(O(91));break;default:a!==r&&xe(t,e,l,a,i,r)}jE(t,d,f);return;case"option":for(var p in n)if(d=n[p],n.hasOwnProperty(p)&&d!=null&&!i.hasOwnProperty(p))switch(p){case"selected":t.selected=!1;break;default:xe(t,e,p,null,i,d)}for(o in i)if(d=i[o],f=n[o],i.hasOwnProperty(o)&&d!==f&&(d!=null||f!=null))switch(o){case"selected":t.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:xe(t,e,o,d,i,f)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var y in n)d=n[y],n.hasOwnProperty(y)&&d!=null&&!i.hasOwnProperty(y)&&xe(t,e,y,null,i,d);for(u in i)if(d=i[u],f=n[u],i.hasOwnProperty(u)&&d!==f&&(d!=null||f!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(O(137,e));break;default:xe(t,e,u,d,i,f)}return;default:if(vg(e)){for(var b in n)d=n[b],n.hasOwnProperty(b)&&d!==void 0&&!i.hasOwnProperty(b)&&ng(t,e,b,void 0,i,d);for(c in i)d=i[c],f=n[c],!i.hasOwnProperty(c)||d===f||d===void 0&&f===void 0||ng(t,e,c,d,i,f);return}}for(var g in n)d=n[g],n.hasOwnProperty(g)&&d!=null&&!i.hasOwnProperty(g)&&xe(t,e,g,null,i,d);for(h in i)d=i[h],f=n[h],!i.hasOwnProperty(h)||d===f||d==null&&f==null||xe(t,e,h,d,i,f)}function aE(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function a1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var a=n[i],r=a.transferSize,l=a.initiatorType,s=a.duration;if(r&&s&&aE(l)){for(l=0,s=a.responseEnd,i+=1;i<n.length;i++){var o=n[i],u=o.startTime;if(u>s)break;var c=o.transferSize,h=o.initiatorType;c&&aE(h)&&(o=o.responseEnd,l+=c*(o<s?1:(s-u)/(o-u)))}if(--i,e+=8*(r+l)/(a.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var ig=null,ag=null;function yc(t){return t.nodeType===9?t:t.ownerDocument}function rE(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function QS(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function rg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ph=null;function r1(){var t=window.event;return t&&t.type==="popstate"?t===ph?!1:(ph=t,!0):(ph=null,!1)}var ZS=typeof setTimeout=="function"?setTimeout:void 0,l1=typeof clearTimeout=="function"?clearTimeout:void 0,lE=typeof Promise=="function"?Promise:void 0,s1=typeof queueMicrotask=="function"?queueMicrotask:typeof lE!="undefined"?function(t){return lE.resolve(null).then(t).catch(o1)}:ZS;function o1(t){setTimeout(function(){throw t})}function Sa(t){return t==="head"}function sE(t,e){var n=e,i=0;do{var a=n.nextSibling;if(t.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"||n==="/&"){if(i===0){t.removeChild(a),wl(e);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")Bs(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,Bs(n);for(var r=n.firstChild;r;){var l=r.nextSibling,s=r.nodeName;r[no]||s==="SCRIPT"||s==="STYLE"||s==="LINK"&&r.rel.toLowerCase()==="stylesheet"||n.removeChild(r),r=l}}else n==="body"&&Bs(t.ownerDocument.body);n=a}while(n);wl(e)}function oE(t,e){var n=t;t=0;do{var i=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=i}while(n)}function lg(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":lg(n),yg(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function u1(t,e,n,i){for(;t.nodeType===1;){var a=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[no])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(r=t.getAttribute("rel"),r==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(r!==a.rel||t.getAttribute("href")!==(a.href==null||a.href===""?null:a.href)||t.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin)||t.getAttribute("title")!==(a.title==null?null:a.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(r=t.getAttribute("src"),(r!==(a.src==null?null:a.src)||t.getAttribute("type")!==(a.type==null?null:a.type)||t.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin))&&r&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var r=a.name==null?null:""+a.name;if(a.type==="hidden"&&t.getAttribute("name")===r)return t}else return t;if(t=Cn(t.nextSibling),t===null)break}return null}function c1(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Cn(t.nextSibling),t===null))return null;return t}function XS(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Cn(t.nextSibling),t===null))return null;return t}function sg(t){return t.data==="$?"||t.data==="$~"}function og(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function d1(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var i=function(){e(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function Cn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var ug=null;function uE(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return Cn(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function cE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function KS(t,e,n){switch(e=yc(n),t){case"html":if(t=e.documentElement,!t)throw Error(O(452));return t;case"head":if(t=e.head,!t)throw Error(O(453));return t;case"body":if(t=e.body,!t)throw Error(O(454));return t;default:throw Error(O(451))}}function Bs(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);yg(t)}var Tn=new Map,dE=new Set;function vc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ri=Ee.d;Ee.d={f:f1,r:h1,D:g1,C:p1,L:m1,m:y1,X:b1,S:v1,M:E1};function f1(){var t=Ri.f(),e=Hc();return t||e}function h1(t){var e=Rl(t);e!==null&&e.tag===5&&e.type==="form"?F0(e):Ri.r(t)}var kl=typeof document=="undefined"?null:document;function $S(t,e,n){var i=kl;if(i&&typeof e=="string"&&e){var a=En(e);a='link[rel="'+t+'"][href="'+a+'"]',typeof n=="string"&&(a+='[crossorigin="'+n+'"]'),dE.has(a)||(dE.add(a),t={rel:t,crossOrigin:n,href:e},i.querySelector(a)===null&&(e=i.createElement("link"),xt(e,"link",t),mt(e),i.head.appendChild(e)))}}function g1(t){Ri.D(t),$S("dns-prefetch",t,null)}function p1(t,e){Ri.C(t,e),$S("preconnect",t,e)}function m1(t,e,n){Ri.L(t,e,n);var i=kl;if(i&&t&&e){var a='link[rel="preload"][as="'+En(e)+'"]';e==="image"&&n&&n.imageSrcSet?(a+='[imagesrcset="'+En(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(a+='[imagesizes="'+En(n.imageSizes)+'"]')):a+='[href="'+En(t)+'"]';var r=a;switch(e){case"style":r=_l(t);break;case"script":r=zl(t)}Tn.has(r)||(t=Ue({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),Tn.set(r,t),i.querySelector(a)!==null||e==="style"&&i.querySelector(oo(r))||e==="script"&&i.querySelector(uo(r))||(e=i.createElement("link"),xt(e,"link",t),mt(e),i.head.appendChild(e)))}}function y1(t,e){Ri.m(t,e);var n=kl;if(n&&t){var i=e&&typeof e.as=="string"?e.as:"script",a='link[rel="modulepreload"][as="'+En(i)+'"][href="'+En(t)+'"]',r=a;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=zl(t)}if(!Tn.has(r)&&(t=Ue({rel:"modulepreload",href:t},e),Tn.set(r,t),n.querySelector(a)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(uo(r)))return}i=n.createElement("link"),xt(i,"link",t),mt(i),n.head.appendChild(i)}}}function v1(t,e,n){Ri.S(t,e,n);var i=kl;if(i&&t){var a=cl(i).hoistableStyles,r=_l(t);e=e||"default";var l=a.get(r);if(!l){var s={loading:0,preload:null};if(l=i.querySelector(oo(r)))s.loading=5;else{t=Ue({rel:"stylesheet",href:t,"data-precedence":e},n),(n=Tn.get(r))&&np(t,n);var o=l=i.createElement("link");mt(o),xt(o,"link",t),o._p=new Promise(function(u,c){o.onload=u,o.onerror=c}),o.addEventListener("load",function(){s.loading|=1}),o.addEventListener("error",function(){s.loading|=2}),s.loading|=4,Fu(l,e,i)}l={type:"stylesheet",instance:l,count:1,state:s},a.set(r,l)}}}function b1(t,e){Ri.X(t,e);var n=kl;if(n&&t){var i=cl(n).hoistableScripts,a=zl(t),r=i.get(a);r||(r=n.querySelector(uo(a)),r||(t=Ue({src:t,async:!0},e),(e=Tn.get(a))&&ip(t,e),r=n.createElement("script"),mt(r),xt(r,"link",t),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(a,r))}}function E1(t,e){Ri.M(t,e);var n=kl;if(n&&t){var i=cl(n).hoistableScripts,a=zl(t),r=i.get(a);r||(r=n.querySelector(uo(a)),r||(t=Ue({src:t,async:!0,type:"module"},e),(e=Tn.get(a))&&ip(t,e),r=n.createElement("script"),mt(r),xt(r,"link",t),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(a,r))}}function fE(t,e,n,i){var a=(a=sa.current)?vc(a):null;if(!a)throw Error(O(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=_l(n.href),n=cl(a).hoistableStyles,i=n.get(e),i||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=_l(n.href);var r=cl(a).hoistableStyles,l=r.get(t);if(l||(a=a.ownerDocument||a,l={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(t,l),(r=a.querySelector(oo(t)))&&!r._p&&(l.instance=r,l.state.loading=5),Tn.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Tn.set(t,n),r||S1(a,t,n,l.state))),e&&i===null)throw Error(O(528,""));return l}if(e&&i!==null)throw Error(O(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=zl(n),n=cl(a).hoistableScripts,i=n.get(e),i||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(O(444,t))}}function _l(t){return'href="'+En(t)+'"'}function oo(t){return'link[rel="stylesheet"]['+t+"]"}function JS(t){return Ue({},t,{"data-precedence":t.precedence,precedence:null})}function S1(t,e,n,i){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=t.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),xt(e,"link",n),mt(e),t.head.appendChild(e))}function zl(t){return'[src="'+En(t)+'"]'}function uo(t){return"script[async]"+t}function hE(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+En(n.href)+'"]');if(i)return e.instance=i,mt(i),i;var a=Ue({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),mt(i),xt(i,"style",a),Fu(i,n.precedence,t),e.instance=i;case"stylesheet":a=_l(n.href);var r=t.querySelector(oo(a));if(r)return e.state.loading|=4,e.instance=r,mt(r),r;i=JS(n),(a=Tn.get(a))&&np(i,a),r=(t.ownerDocument||t).createElement("link"),mt(r);var l=r;return l._p=new Promise(function(s,o){l.onload=s,l.onerror=o}),xt(r,"link",i),e.state.loading|=4,Fu(r,n.precedence,t),e.instance=r;case"script":return r=zl(n.src),(a=t.querySelector(uo(r)))?(e.instance=a,mt(a),a):(i=n,(a=Tn.get(r))&&(i=Ue({},n),ip(i,a)),t=t.ownerDocument||t,a=t.createElement("script"),mt(a),xt(a,"link",i),t.head.appendChild(a),e.instance=a);case"void":return null;default:throw Error(O(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,Fu(i,n.precedence,t));return e.instance}function Fu(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=i.length?i[i.length-1]:null,r=a,l=0;l<i.length;l++){var s=i[l];if(s.dataset.precedence===e)r=s;else if(r!==a)break}r?r.parentNode.insertBefore(t,r.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function np(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function ip(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var qu=null;function gE(t,e,n){if(qu===null){var i=new Map,a=qu=new Map;a.set(n,i)}else a=qu,i=a.get(n),i||(i=new Map,a.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),a=0;a<n.length;a++){var r=n[a];if(!(r[no]||r[Tt]||t==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var l=r.getAttribute(e)||"";l=t+l;var s=i.get(l);s?s.push(r):i.set(l,[r])}}return i}function pE(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function D1(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function eD(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function A1(t,e,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var a=_l(i.href),r=e.querySelector(oo(a));if(r){e=r._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=bc.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=r,mt(r);return}r=e.ownerDocument||e,i=JS(i),(a=Tn.get(a))&&np(i,a),r=r.createElement("link"),mt(r);var l=r;l._p=new Promise(function(s,o){l.onload=s,l.onerror=o}),xt(r,"link",i),n.instance=r}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=bc.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var mh=0;function C1(t,e){return t.stylesheets&&t.count===0&&Gu(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var i=setTimeout(function(){if(t.stylesheets&&Gu(t,t.stylesheets),t.unsuspend){var r=t.unsuspend;t.unsuspend=null,r()}},6e4+e);0<t.imgBytes&&mh===0&&(mh=62500*a1());var a=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Gu(t,t.stylesheets),t.unsuspend)){var r=t.unsuspend;t.unsuspend=null,r()}},(t.imgBytes>mh?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(i),clearTimeout(a)}}:null}function bc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Gu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ec=null;function Gu(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ec=new Map,e.forEach(T1,t),Ec=null,bc.call(t))}function T1(t,e){if(!(e.state.loading&4)){var n=Ec.get(t);if(n)var i=n.get(null);else{n=new Map,Ec.set(t,n);for(var a=t.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<a.length;r++){var l=a[r];(l.nodeName==="LINK"||l.getAttribute("media")!=="not all")&&(n.set(l.dataset.precedence,l),i=l)}i&&n.set(null,i)}a=e.instance,l=a.getAttribute("data-precedence"),r=n.get(l)||i,r===i&&n.set(null,a),n.set(l,a),this.count++,i=bc.bind(this),a.addEventListener("load",i),a.addEventListener("error",i),r?r.parentNode.insertBefore(a,r.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(a,t.firstChild)),e.state.loading|=4}}var Zs={$$typeof:vi,Provider:null,Consumer:null,_currentValue:Xa,_currentValue2:Xa,_threadCount:0};function _1(t,e,n,i,a,r,l,s,o){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=jf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jf(0),this.hiddenUpdates=jf(null),this.identifierPrefix=i,this.onUncaughtError=a,this.onCaughtError=r,this.onRecoverableError=l,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function tD(t,e,n,i,a,r,l,s,o,u,c,h){return t=new _1(t,e,n,l,o,u,c,h,s),e=1,r===!0&&(e|=24),r=tn(3,null,null,e),t.current=r,r.stateNode=t,e=Rg(),e.refCount++,t.pooledCache=e,e.refCount++,r.memoizedState={element:i,isDehydrated:n,cache:e},Ng(r),t}function nD(t){return t?(t=ll,t):ll}function iD(t,e,n,i,a,r){a=nD(a),i.context===null?i.context=a:i.pendingContext=a,i=ua(e),i.payload={element:n},r=r===void 0?null:r,r!==null&&(i.callback=r),n=ca(t,i,e),n!==null&&(qt(n,t,e),Rs(n,t,e))}function mE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ap(t,e){mE(t,e),(t=t.alternate)&&mE(t,e)}function aD(t){if(t.tag===13||t.tag===31){var e=ur(t,67108864);e!==null&&qt(e,t,67108864),ap(t,67108864)}}function yE(t){if(t.tag===13||t.tag===31){var e=sn();e=pg(e);var n=ur(t,e);n!==null&&qt(n,t,e),ap(t,e)}}var Sc=!0;function w1(t,e,n,i){var a=G.T;G.T=null;var r=Ee.p;try{Ee.p=2,rp(t,e,n,i)}finally{Ee.p=r,G.T=a}}function x1(t,e,n,i){var a=G.T;G.T=null;var r=Ee.p;try{Ee.p=8,rp(t,e,n,i)}finally{Ee.p=r,G.T=a}}function rp(t,e,n,i){if(Sc){var a=cg(i);if(a===null)gh(t,e,i,Dc,n),vE(t,i);else if(M1(a,t,e,n,i))i.stopPropagation();else if(vE(t,i),e&4&&-1<R1.indexOf(t)){for(;a!==null;){var r=Rl(a);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var l=Wa(r.pendingLanes);if(l!==0){var s=r;for(s.pendingLanes|=2,s.entangledLanes|=2;l;){var o=1<<31-ln(l);s.entanglements[1]|=o,l&=~o}Kn(r),!(be&6)&&(dc=an()+500,so(0,!1))}}break;case 31:case 13:s=ur(r,2),s!==null&&qt(s,r,2),Hc(),ap(r,2)}if(r=cg(i),r===null&&gh(t,e,i,Dc,n),r===a)break;a=r}a!==null&&i.stopPropagation()}else gh(t,e,i,null,n)}}function cg(t){return t=bg(t),lp(t)}var Dc=null;function lp(t){if(Dc=null,t=el(t),t!==null){var e=$s(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=CE(e),t!==null)return t;t=null}else if(n===31){if(t=TE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Dc=t,null}function rD(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(m_()){case RE:return 2;case ME:return 8;case Ku:case y_:return 32;case OE:return 268435456;default:return 32}default:return 32}}var dg=!1,ha=null,ga=null,pa=null,Xs=new Map,Ks=new Map,ta=[],R1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vE(t,e){switch(t){case"focusin":case"focusout":ha=null;break;case"dragenter":case"dragleave":ga=null;break;case"mouseover":case"mouseout":pa=null;break;case"pointerover":case"pointerout":Xs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ks.delete(e.pointerId)}}function vs(t,e,n,i,a,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[a]},e!==null&&(e=Rl(e),e!==null&&aD(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function M1(t,e,n,i,a){switch(e){case"focusin":return ha=vs(ha,t,e,n,i,a),!0;case"dragenter":return ga=vs(ga,t,e,n,i,a),!0;case"mouseover":return pa=vs(pa,t,e,n,i,a),!0;case"pointerover":var r=a.pointerId;return Xs.set(r,vs(Xs.get(r)||null,t,e,n,i,a)),!0;case"gotpointercapture":return r=a.pointerId,Ks.set(r,vs(Ks.get(r)||null,t,e,n,i,a)),!0}return!1}function lD(t){var e=el(t.target);if(e!==null){var n=$s(e);if(n!==null){if(e=n.tag,e===13){if(e=CE(n),e!==null){t.blockedOn=e,tb(t.priority,function(){yE(n)});return}}else if(e===31){if(e=TE(n),e!==null){t.blockedOn=e,tb(t.priority,function(){yE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=cg(t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Rh=i,n.target.dispatchEvent(i),Rh=null}else return e=Rl(n),e!==null&&aD(e),t.blockedOn=n,!1;e.shift()}return!0}function bE(t,e,n){Wu(t)&&n.delete(e)}function O1(){dg=!1,ha!==null&&Wu(ha)&&(ha=null),ga!==null&&Wu(ga)&&(ga=null),pa!==null&&Wu(pa)&&(pa=null),Xs.forEach(bE),Ks.forEach(bE)}function Ou(t,e){t.blockedOn===e&&(t.blockedOn=null,dg||(dg=!0,ct.unstable_scheduleCallback(ct.unstable_NormalPriority,O1)))}var Nu=null;function EE(t){Nu!==t&&(Nu=t,ct.unstable_scheduleCallback(ct.unstable_NormalPriority,function(){Nu===t&&(Nu=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],a=t[e+2];if(typeof i!="function"){if(lp(i||n)===null)continue;break}var r=Rl(n);r!==null&&(t.splice(e,3),e-=3,qh(r,{pending:!0,data:a,method:n.method,action:i},i,a))}}))}function wl(t){function e(o){return Ou(o,t)}ha!==null&&Ou(ha,t),ga!==null&&Ou(ga,t),pa!==null&&Ou(pa,t),Xs.forEach(e),Ks.forEach(e);for(var n=0;n<ta.length;n++){var i=ta[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<ta.length&&(n=ta[0],n.blockedOn===null);)lD(n),n.blockedOn===null&&ta.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var a=n[i],r=n[i+1],l=a[Gt]||null;if(typeof r=="function")l||EE(n);else if(l){var s=null;if(r&&r.hasAttribute("formAction")){if(a=r,l=r[Gt]||null)s=l.formAction;else if(lp(a)!==null)continue}else s=l.action;typeof s=="function"?n[i+1]=s:(n.splice(i,3),i-=3),EE(n)}}}function sD(){function t(r){r.canIntercept&&r.info==="react-transition"&&r.intercept({handler:function(){return new Promise(function(l){return a=l})},focusReset:"manual",scroll:"manual"})}function e(){a!==null&&(a(),a=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var r=navigation.currentEntry;r&&r.url!=null&&navigation.navigate(r.url,{state:r.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,a=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),a!==null&&(a(),a=null)}}}function sp(t){this._internalRoot=t}Ic.prototype.render=sp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(O(409));var n=e.current,i=sn();iD(n,i,t,e,null,null)};Ic.prototype.unmount=sp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;iD(t.current,2,null,t,null,null),Hc(),e[xl]=null}};function Ic(t){this._internalRoot=t}Ic.prototype.unstable_scheduleHydration=function(t){if(t){var e=LE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ta.length&&e!==0&&e<ta[n].priority;n++);ta.splice(n,0,t),n===0&&lD(t)}};var SE=DE.version;if(SE!=="19.2.0")throw Error(O(527,SE,"19.2.0"));Ee.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(O(188)):(t=Object.keys(t).join(","),Error(O(268,t)));return t=u_(e),t=t!==null?_E(t):null,t=t===null?null:t.stateNode,t};var N1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"&&(bs=__REACT_DEVTOOLS_GLOBAL_HOOK__,!bs.isDisabled&&bs.supportsFiber))try{Js=bs.inject(N1),rn=bs}catch(t){}var bs;Uc.createRoot=function(t,e){if(!AE(t))throw Error(O(299));var n=!1,i="",a=$0,r=J0,l=eS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(a=e.onUncaughtError),e.onCaughtError!==void 0&&(r=e.onCaughtError),e.onRecoverableError!==void 0&&(l=e.onRecoverableError)),e=tD(t,1,!1,null,null,n,i,null,a,r,l,sD),t[xl]=e.current,tp(t),new sp(e)};Uc.hydrateRoot=function(t,e,n){if(!AE(t))throw Error(O(299));var i=!1,a="",r=$0,l=J0,s=eS,o=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onUncaughtError!==void 0&&(r=n.onUncaughtError),n.onCaughtError!==void 0&&(l=n.onCaughtError),n.onRecoverableError!==void 0&&(s=n.onRecoverableError),n.formState!==void 0&&(o=n.formState)),e=tD(t,1,!0,e,n!=null?n:null,i,a,o,r,l,s,sD),e.context=nD(null),n=e.current,i=sn(),i=pg(i),a=ua(i),a.callback=null,ca(n,a,i),n=i,e.current.lanes=n,to(e,n),Kn(e),t[xl]=e.current,tp(t),new Ic(e)};Uc.version="19.2.0"});var dD=Fn((vk,cD)=>{"use strict";function uD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uD)}catch(t){console.error(t)}}uD(),cD.exports=oD()});var PC=Fn(Xd=>{"use strict";var dN=Symbol.for("react.transitional.element"),fN=Symbol.for("react.fragment");function jC(t,e,n){var i=null;if(n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),"key"in e){n={};for(var a in e)a!=="key"&&(n[a]=e[a])}else n=e;return e=n.ref,{$$typeof:dN,type:t,key:i,ref:e!==void 0?e:null,props:n}}Xd.Fragment=fN;Xd.jsx=jC;Xd.jsxs=jC});var Jo=Fn((zz,FC)=>{"use strict";FC.exports=PC()});var KN={};YT(KN,{default:()=>bf});module.exports=VT(KN);var ze=require("obsidian");var J=require("obsidian"),uT=gn(Wi(),1),cT=gn(dD(),1);var k=gn(Wi(),1);var WC=gn(gu(),1);var ri=gn(Wi(),1),Xo=gn(gu(),1);var Fc,V,mD,up,Hl,dr,fD,yD,vD,Vc={},bD=[],k1=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Da(t,e){for(var n in e)t[n]=e[n];return t}function ED(t){var e=t.parentNode;e&&e.removeChild(t)}function E(t,e,n){var i,a,r,l={};for(r in e)r=="key"?i=e[r]:r=="ref"?a=e[r]:l[r]=e[r];if(arguments.length>2&&(l.children=arguments.length>3?Fc.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(r in t.defaultProps)l[r]===void 0&&(l[r]=t.defaultProps[r]);return Yc(t,l,i,a,null)}function Yc(t,e,n,i,a){var r={type:t,props:e,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:a==null?++mD:a};return a==null&&V.vnode!=null&&V.vnode(r),r}function st(){return{current:null}}function me(t){return t.children}function z1(t,e,n,i,a){var r;for(r in n)r==="children"||r==="key"||r in e||jc(t,r,null,n[r],i);for(r in e)a&&typeof e[r]!="function"||r==="children"||r==="key"||r==="value"||r==="checked"||n[r]===e[r]||jc(t,r,e[r],n[r],i)}function hD(t,e,n){e[0]==="-"?t.setProperty(e,n==null?"":n):t[e]=n==null?"":typeof n!="number"||k1.test(e)?n:n+"px"}function jc(t,e,n,i,a){var r;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof i=="string"&&(t.style.cssText=i=""),i)for(e in i)n&&e in n||hD(t.style,e,"");if(n)for(e in n)i&&n[e]===i[e]||hD(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")r=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+r]=n,n?i||t.addEventListener(e,r?pD:gD,r):t.removeEventListener(e,r?pD:gD,r);else if(e!=="dangerouslySetInnerHTML"){if(a)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=n==null?"":n;break e}catch(l){}typeof n=="function"||(n==null||n===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,n))}}function gD(t){Hl=!0;try{return this.l[t.type+!1](V.event?V.event(t):t)}finally{Hl=!1}}function pD(t){Hl=!0;try{return this.l[t.type+!0](V.event?V.event(t):t)}finally{Hl=!1}}function Rt(t,e){this.props=t,this.context=e}function co(t,e){if(e==null)return t.__?co(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?co(t):null}function SD(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return SD(t)}}function H1(t){Hl?setTimeout(t):yD(t)}function op(t){(!t.__d&&(t.__d=!0)&&dr.push(t)&&!Pc.__r++||fD!==V.debounceRendering)&&((fD=V.debounceRendering)||H1)(Pc)}function Pc(){var t,e,n,i,a,r,l,s;for(dr.sort(function(o,u){return o.__v.__b-u.__v.__b});t=dr.shift();)t.__d&&(e=dr.length,i=void 0,a=void 0,l=(r=(n=t).__v).__e,(s=n.__P)&&(i=[],(a=Da({},r)).__v=r.__v+1,cp(s,r,a,n.__n,s.ownerSVGElement!==void 0,r.__h!=null?[l]:null,i,l==null?co(r):l,r.__h),_D(i,r),r.__e!=l&&SD(r)),dr.length>e&&dr.sort(function(o,u){return o.__v.__b-u.__v.__b}));Pc.__r=0}function DD(t,e,n,i,a,r,l,s,o,u){var c,h,d,f,p,y,b,g=i&&i.__k||bD,m=g.length;for(n.__k=[],c=0;c<e.length;c++)if((f=n.__k[c]=(f=e[c])==null||typeof f=="boolean"?null:typeof f=="string"||typeof f=="number"||typeof f=="bigint"?Yc(null,f,null,null,f):Array.isArray(f)?Yc(me,{children:f},null,null,null):f.__b>0?Yc(f.type,f.props,f.key,f.ref?f.ref:null,f.__v):f)!=null){if(f.__=n,f.__b=n.__b+1,(d=g[c])===null||d&&f.key==d.key&&f.type===d.type)g[c]=void 0;else for(h=0;h<m;h++){if((d=g[h])&&f.key==d.key&&f.type===d.type){g[h]=void 0;break}d=null}cp(t,f,d=d||Vc,a,r,l,s,o,u),p=f.__e,(h=f.ref)&&d.ref!=h&&(b||(b=[]),d.ref&&b.push(d.ref,null,f),b.push(h,f.__c||p,f)),p!=null?(y==null&&(y=p),typeof f.type=="function"&&f.__k===d.__k?f.__d=o=AD(f,o,t):o=CD(t,f,d,g,p,o),typeof n.type=="function"&&(n.__d=o)):o&&d.__e==o&&o.parentNode!=t&&(o=co(d))}for(n.__e=y,c=m;c--;)g[c]!=null&&(typeof n.type=="function"&&g[c].__e!=null&&g[c].__e==n.__d&&(n.__d=TD(i).nextSibling),xD(g[c],g[c]));if(b)for(c=0;c<b.length;c++)wD(b[c],b[++c],b[++c])}function AD(t,e,n){for(var i,a=t.__k,r=0;a&&r<a.length;r++)(i=a[r])&&(i.__=t,e=typeof i.type=="function"?AD(i,e,n):CD(n,i,i,a,i.__e,e));return e}function fo(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(n){fo(n,e)}):e.push(t)),e}function CD(t,e,n,i,a,r){var l,s,o;if(e.__d!==void 0)l=e.__d,e.__d=void 0;else if(n==null||a!=r||a.parentNode==null)e:if(r==null||r.parentNode!==t)t.appendChild(a),l=null;else{for(s=r,o=0;(s=s.nextSibling)&&o<i.length;o+=1)if(s==a)break e;t.insertBefore(a,r),l=r}return l!==void 0?l:a.nextSibling}function TD(t){var e,n,i;if(t.type==null||typeof t.type=="string")return t.__e;if(t.__k){for(e=t.__k.length-1;e>=0;e--)if((n=t.__k[e])&&(i=TD(n)))return i}return null}function cp(t,e,n,i,a,r,l,s,o){var u,c,h,d,f,p,y,b,g,m,v,S,A,T,x,M=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(o=n.__h,s=e.__e=n.__e,e.__h=null,r=[s]),(u=V.__b)&&u(e);try{e:if(typeof M=="function"){if(b=e.props,g=(u=M.contextType)&&i[u.__c],m=u?g?g.props.value:u.__:i,n.__c?y=(c=e.__c=n.__c).__=c.__E:("prototype"in M&&M.prototype.render?e.__c=c=new M(b,m):(e.__c=c=new Rt(b,m),c.constructor=M,c.render=B1),g&&g.sub(c),c.props=b,c.state||(c.state={}),c.context=m,c.__n=i,h=c.__d=!0,c.__h=[],c._sb=[]),c.__s==null&&(c.__s=c.state),M.getDerivedStateFromProps!=null&&(c.__s==c.state&&(c.__s=Da({},c.__s)),Da(c.__s,M.getDerivedStateFromProps(b,c.__s))),d=c.props,f=c.state,c.__v=e,h)M.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),c.componentDidMount!=null&&c.__h.push(c.componentDidMount);else{if(M.getDerivedStateFromProps==null&&b!==d&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(b,m),!c.__e&&c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(b,c.__s,m)===!1||e.__v===n.__v){for(e.__v!==n.__v&&(c.props=b,c.state=c.__s,c.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(z){z&&(z.__=e)}),v=0;v<c._sb.length;v++)c.__h.push(c._sb[v]);c._sb=[],c.__h.length&&l.push(c);break e}c.componentWillUpdate!=null&&c.componentWillUpdate(b,c.__s,m),c.componentDidUpdate!=null&&c.__h.push(function(){c.componentDidUpdate(d,f,p)})}if(c.context=m,c.props=b,c.__P=t,S=V.__r,A=0,"prototype"in M&&M.prototype.render){for(c.state=c.__s,c.__d=!1,S&&S(e),u=c.render(c.props,c.state,c.context),T=0;T<c._sb.length;T++)c.__h.push(c._sb[T]);c._sb=[]}else do c.__d=!1,S&&S(e),u=c.render(c.props,c.state,c.context),c.state=c.__s;while(c.__d&&++A<25);c.state=c.__s,c.getChildContext!=null&&(i=Da(Da({},i),c.getChildContext())),h||c.getSnapshotBeforeUpdate==null||(p=c.getSnapshotBeforeUpdate(d,f)),x=u!=null&&u.type===me&&u.key==null?u.props.children:u,DD(t,Array.isArray(x)?x:[x],e,n,i,a,r,l,s,o),c.base=e.__e,e.__h=null,c.__h.length&&l.push(c),y&&(c.__E=c.__=null),c.__e=!1}else r==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=L1(n.__e,e,n,i,a,r,l,o);(u=V.diffed)&&u(e)}catch(z){e.__v=null,(o||r!=null)&&(e.__e=s,e.__h=!!o,r[r.indexOf(s)]=null),V.__e(z,e,n)}}function _D(t,e){V.__c&&V.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(i){i.call(n)})}catch(i){V.__e(i,n.__v)}})}function L1(t,e,n,i,a,r,l,s){var o,u,c,h=n.props,d=e.props,f=e.type,p=0;if(f==="svg"&&(a=!0),r!=null){for(;p<r.length;p++)if((o=r[p])&&"setAttribute"in o==!!f&&(f?o.localName===f:o.nodeType===3)){t=o,r[p]=null;break}}if(t==null){if(f===null)return document.createTextNode(d);t=a?document.createElementNS("http://www.w3.org/2000/svg",f):document.createElement(f,d.is&&d),r=null,s=!1}if(f===null)h===d||s&&t.data===d||(t.data=d);else{if(r=r&&Fc.call(t.childNodes),u=(h=n.props||Vc).dangerouslySetInnerHTML,c=d.dangerouslySetInnerHTML,!s){if(r!=null)for(h={},p=0;p<t.attributes.length;p++)h[t.attributes[p].name]=t.attributes[p].value;(c||u)&&(c&&(u&&c.__html==u.__html||c.__html===t.innerHTML)||(t.innerHTML=c&&c.__html||""))}if(z1(t,d,h,a,s),c)e.__k=[];else if(p=e.props.children,DD(t,Array.isArray(p)?p:[p],e,n,i,a&&f!=="foreignObject",r,l,r?r[0]:n.__k&&co(n,0),s),r!=null)for(p=r.length;p--;)r[p]!=null&&ED(r[p]);s||("value"in d&&(p=d.value)!==void 0&&(p!==t.value||f==="progress"&&!p||f==="option"&&p!==h.value)&&jc(t,"value",p,h.value,!1),"checked"in d&&(p=d.checked)!==void 0&&p!==t.checked&&jc(t,"checked",p,h.checked,!1))}return t}function wD(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(i){V.__e(i,n)}}function xD(t,e,n){var i,a;if(V.unmount&&V.unmount(t),(i=t.ref)&&(i.current&&i.current!==t.__e||wD(i,null,e)),(i=t.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(r){V.__e(r,e)}i.base=i.__P=null,t.__c=void 0}if(i=t.__k)for(a=0;a<i.length;a++)i[a]&&xD(i[a],e,n||typeof t.type!="function");n||t.__e==null||ED(t.__e),t.__=t.__e=t.__d=void 0}function B1(t,e,n){return this.constructor(t,n)}function Aa(t,e,n){var i,a,r;V.__&&V.__(t,e),a=(i=typeof n=="function")?null:n&&n.__k||e.__k,r=[],cp(e,t=(!i&&n||e).__k=E(me,null,[t]),a||Vc,Vc,e.ownerSVGElement!==void 0,!i&&n?[n]:a?null:e.firstChild?Fc.call(e.childNodes):null,r,!i&&n?n:a?a.__e:e.firstChild,i),_D(r,t)}function qc(t,e){var n={__c:e="__cC"+vD++,__:t,Consumer:function(i,a){return i.children(a)},Provider:function(i){var a,r;return this.getChildContext||(a=[],(r={})[e]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(l){this.props.value!==l.value&&a.some(function(s){s.__e=!0,op(s)})},this.sub=function(l){a.push(l);var s=l.componentWillUnmount;l.componentWillUnmount=function(){a.splice(a.indexOf(l),1),s&&s.call(l)}}),i.children}};return n.Provider.__=n.Consumer.contextType=n}Fc=bD.slice,V={__e:function(t,e,n,i){for(var a,r,l;e=e.__;)if((a=e.__c)&&!a.__)try{if((r=a.constructor)&&r.getDerivedStateFromError!=null&&(a.setState(r.getDerivedStateFromError(t)),l=a.__d),a.componentDidCatch!=null&&(a.componentDidCatch(t,i||{}),l=a.__d),l)return a.__E=a}catch(s){t=s}throw t}},mD=0,up=function(t){return t!=null&&t.constructor===void 0},Hl=!1,Rt.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Da({},this.state),typeof t=="function"&&(t=t(Da({},n),this.props)),t&&Da(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),op(this))},Rt.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),op(this))},Rt.prototype.render=me,dr=[],yD=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Pc.__r=0,vD=0;var U1,$n,dp,RD;var LD=[],fp=[],MD=V.__b,OD=V.__r,ND=V.diffed,kD=V.__c,zD=V.unmount;function Y1(){for(var t;t=LD.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Gc),t.__H.__h.forEach(hp),t.__H.__h=[]}catch(e){t.__H.__h=[],V.__e(e,t.__v)}}V.__b=function(t){$n=null,MD&&MD(t)},V.__r=function(t){OD&&OD(t),U1=0;var e=($n=t.__c).__H;e&&(dp===$n?(e.__h=[],$n.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=fp,n.__N=n.i=void 0})):(e.__h.forEach(Gc),e.__h.forEach(hp),e.__h=[])),dp=$n},V.diffed=function(t){ND&&ND(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(LD.push(e)!==1&&RD===V.requestAnimationFrame||((RD=V.requestAnimationFrame)||V1)(Y1)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==fp&&(n.__=n.__V),n.i=void 0,n.__V=fp})),dp=$n=null},V.__c=function(t,e){e.some(function(n){try{n.__h.forEach(Gc),n.__h=n.__h.filter(function(i){return!i.__||hp(i)})}catch(i){e.some(function(a){a.__h&&(a.__h=[])}),e=[],V.__e(i,n.__v)}}),kD&&kD(t,e)},V.unmount=function(t){zD&&zD(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(i){try{Gc(i)}catch(a){e=a}}),n.__H=void 0,e&&V.__e(e,n.__v))};var HD=typeof requestAnimationFrame=="function";function V1(t){var e,n=function(){clearTimeout(i),HD&&cancelAnimationFrame(e),setTimeout(t)},i=setTimeout(n,100);HD&&(e=requestAnimationFrame(n))}function Gc(t){var e=$n,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),$n=e}function hp(t){var e=$n;t.__c=t.__(),$n=e}function j1(t,e){for(var n in e)t[n]=e[n];return t}function BD(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var i in e)if(i!=="__source"&&t[i]!==e[i])return!0;return!1}function ID(t){this.props=t}(ID.prototype=new Rt).isPureReactComponent=!0,ID.prototype.shouldComponentUpdate=function(t,e){return BD(this.props,t)||BD(this.state,e)};var UD=V.__b;V.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),UD&&UD(t)};var Ik=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;var P1=V.__e;V.__e=function(t,e,n,i){if(t.then){for(var a,r=e;r=r.__;)if((a=r.__c)&&a.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),a.__c(t,e)}P1(t,e,n,i)};var YD=V.unmount;function GD(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(i){typeof i.__c=="function"&&i.__c()}),t.__c.__H=null),(t=j1({},t)).__c!=null&&(t.__c.__P===n&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(i){return GD(i,e,n)})),t}function WD(t,e,n){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(i){return WD(i,e,n)}),t.__c&&t.__c.__P===e&&(t.__e&&n.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=n)),t}function gp(){this.__u=0,this.t=null,this.__b=null}function QD(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function Wc(){this.u=null,this.o=null}V.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),YD&&YD(t)},(gp.prototype=new Rt).__c=function(t,e){var n=e.__c,i=this;i.t==null&&(i.t=[]),i.t.push(n);var a=QD(i.__v),r=!1,l=function(){r||(r=!0,n.__R=null,a?a(s):s())};n.__R=l;var s=function(){if(!--i.__u){if(i.state.__a){var u=i.state.__a;i.__v.__k[0]=WD(u,u.__c.__P,u.__c.__O)}var c;for(i.setState({__a:i.__b=null});c=i.t.pop();)c.forceUpdate()}},o=e.__h===!0;i.__u++||o||i.setState({__a:i.__b=i.__v.__k[0]}),t.then(l,l)},gp.prototype.componentWillUnmount=function(){this.t=[]},gp.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=GD(this.__b,n,i.__O=i.__P)}this.__b=null}var a=e.__a&&E(me,null,t.fallback);return a&&(a.__h=null),[E(me,null,e.__a?null:t.children),a]};var VD=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function F1(t){return this.getChildContext=function(){return t.context},t.children}function q1(t){var e=this,n=t.i;e.componentWillUnmount=function(){Aa(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),t.__v?(e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(i){this.childNodes.push(i),e.i.appendChild(i)},insertBefore:function(i,a){this.childNodes.push(i),e.i.appendChild(i)},removeChild:function(i){this.childNodes.splice(this.childNodes.indexOf(i)>>>1,1),e.i.removeChild(i)}}),Aa(E(F1,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}function ZD(t,e){var n=E(q1,{__v:t,i:e});return n.containerInfo=e,n}(Wc.prototype=new Rt).__a=function(t){var e=this,n=QD(e.__v),i=e.o.get(t);return i[0]++,function(a){var r=function(){e.props.revealOrder?(i.push(a),VD(e,t,i)):a()};n?n(r):r()}},Wc.prototype.render=function(t){this.u=null,this.o=new Map;var e=fo(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},Wc.prototype.componentDidUpdate=Wc.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,n){VD(t,n,e)})};var G1=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,W1=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Q1=typeof document!="undefined",Z1=function(t){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(t)};Rt.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(Rt.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var jD=V.event;function X1(){}function K1(){return this.cancelBubble}function $1(){return this.defaultPrevented}V.event=function(t){return jD&&(t=jD(t)),t.persist=X1,t.isPropagationStopped=K1,t.isDefaultPrevented=$1,t.nativeEvent=t};var J1,PD={configurable:!0,get:function(){return this.class}},FD=V.vnode;V.vnode=function(t){var e=t.type,n=t.props,i=n;if(typeof e=="string"){var a=e.indexOf("-")===-1;for(var r in i={},n){var l=n[r];Q1&&r==="children"&&e==="noscript"||r==="value"&&"defaultValue"in n&&l==null||(r==="defaultValue"&&"value"in n&&n.value==null?r="value":r==="download"&&l===!0?l="":/ondoubleclick/i.test(r)?r="ondblclick":/^onchange(textarea|input)/i.test(r+e)&&!Z1(n.type)?r="oninput":/^onfocus$/i.test(r)?r="onfocusin":/^onblur$/i.test(r)?r="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(r)?r=r.toLowerCase():a&&W1.test(r)?r=r.replace(/[A-Z0-9]/g,"-$&").toLowerCase():l===null&&(l=void 0),/^oninput$/i.test(r)&&(r=r.toLowerCase(),i[r]&&(r="oninputCapture")),i[r]=l)}e=="select"&&i.multiple&&Array.isArray(i.value)&&(i.value=fo(n.children).forEach(function(s){s.props.selected=i.value.indexOf(s.props.value)!=-1})),e=="select"&&i.defaultValue!=null&&(i.value=fo(n.children).forEach(function(s){s.props.selected=i.multiple?i.defaultValue.indexOf(s.props.value)!=-1:i.defaultValue==s.props.value})),t.props=i,n.class!=n.className&&(PD.enumerable="className"in n,n.className!=null&&(i.class=n.className),Object.defineProperty(i,"className",PD))}t.$$typeof=G1,FD&&FD(t)};var qD=V.__r;V.__r=function(t){qD&&qD(t),J1=t.__c};var uA=[],Tp=new Map;function Il(t){uA.push(t),Tp.forEach(e=>{fA(e,t)})}function cA(t){t.isConnected&&t.getRootNode&&dA(t.getRootNode())}function dA(t){let e=Tp.get(t);if(!e||!e.isConnected){if(e=t.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");let n=tx();n&&(e.nonce=n);let i=t===document?document.head:t,a=t===document?i.querySelector("script,link[rel=stylesheet],link[as=style],style"):i.firstChild;i.insertBefore(e,a)}Tp.set(t,e),ex(e)}}function ex(t){for(let e of uA)fA(t,e)}function fA(t,e){let{sheet:n}=t,i=n.cssRules.length;e.split("}").forEach((a,r)=>{a=a.trim(),a&&n.insertRule(a+"}",i+r)})}var pp;function tx(){return pp===void 0&&(pp=nx()),pp}function nx(){let t=document.querySelector('meta[name="csp-nonce"]');if(t&&t.hasAttribute("content"))return t.getAttribute("content");let e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document!="undefined"&&dA(document);var ix=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';Il(ix);var gr=class{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:n}=this;n[e]=(n[e]||0)+1,this.clearTimeout()}resume(e="",n){let{pauseDepths:i}=this;e in i&&(n?delete i[e]:(i[e]-=1,i[e]<=0&&delete i[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}};function Mo(t){t.parentNode&&t.parentNode.removeChild(t)}function dt(t,e){if(t.closest)return t.closest(e);if(!document.documentElement.contains(t))return null;do{if(Lp(t,e))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1);return null}function Lp(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector).call(t,e)}function hA(t,e){let n=t instanceof HTMLElement?[t]:t,i=[];for(let a=0;a<n.length;a+=1){let r=n[a].querySelectorAll(e);for(let l=0;l<r.length;l+=1)i.push(r[l])}return i}var ax=/(top|left|right|bottom|width|height)$/i;function _r(t,e){for(let n in e)Bp(t,n,e[n])}function Bp(t,e,n){n==null?t.style[e]="":typeof n=="number"&&ax.test(e)?t.style[e]=`${n}px`:t.style[e]=n}function hd(t){var e,n;return(n=(e=t.composedPath)===null||e===void 0?void 0:e.call(t)[0])!==null&&n!==void 0?n:t.target}var XD=0;function wr(){return XD+=1,"fc-dom-"+XD}function Oo(t){t.preventDefault()}function rx(t,e){return n=>{let i=dt(n.target,t);i&&e.call(i,n,i)}}function Ip(t,e,n,i){let a=rx(n,i);return t.addEventListener(e,a),()=>{t.removeEventListener(e,a)}}function gA(t,e,n,i){let a;return Ip(t,"mouseover",e,(r,l)=>{if(l!==a){a=l,n(r,l);let s=o=>{a=null,i(o,l),l.removeEventListener("mouseleave",s)};l.addEventListener("mouseleave",s)}})}var KD=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function Up(t,e){let n=i=>{e(i),KD.forEach(a=>{t.removeEventListener(a,n)})};KD.forEach(i=>{t.addEventListener(i,n)})}function pA(t){return Object.assign({onClick:t},mA(t))}function mA(t){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(t(e),e.preventDefault())}}}var $D=0;function zi(){return $D+=1,String($D)}function No(){document.body.classList.add("fc-not-allowed")}function ko(){document.body.classList.remove("fc-not-allowed")}function Yp(t){t.style.userSelect="none",t.style.webkitUserSelect="none",t.addEventListener("selectstart",Oo)}function Vp(t){t.style.userSelect="",t.style.webkitUserSelect="",t.removeEventListener("selectstart",Oo)}function jp(t){t.addEventListener("contextmenu",Oo)}function Pp(t){t.removeEventListener("contextmenu",Oo)}function yA(t){let e=[],n=[],i,a;for(typeof t=="string"?n=t.split(/\s*,\s*/):typeof t=="function"?n=[t]:Array.isArray(t)&&(n=t),i=0;i<n.length;i+=1)a=n[i],typeof a=="string"?e.push(a.charAt(0)==="-"?{field:a.substring(1),order:-1}:{field:a,order:1}):typeof a=="function"&&e.push({func:a});return e}function vA(t,e,n){let i,a;for(i=0;i<n.length;i+=1)if(a=lx(t,e,n[i]),a)return a;return 0}function lx(t,e,n){return n.func?n.func(t,e):bA(t[n.field],e[n.field])*(n.order||1)}function bA(t,e){return!t&&!e?0:e==null?-1:t==null?1:typeof t=="string"||typeof e=="string"?String(t).localeCompare(String(e)):t-e}function hr(t,e){let n=String(t);return"000".substr(0,e-n.length)+n}function Ul(t,e,n){return typeof t=="function"?t(...e):typeof t=="string"?e.reduce((i,a,r)=>i.replace("$"+r,a||""),t):n}function Fp(t,e){return t-e}function ho(t){return t%1===0}function sx(t){let e=t.querySelector(".fc-scrollgrid-shrink-frame"),n=t.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!n)throw new Error("needs fc-scrollgrid-shrink-cushion className");return t.getBoundingClientRect().width-e.getBoundingClientRect().width+n.getBoundingClientRect().width}var JD=["years","months","days","milliseconds"],ox=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function te(t,e){return typeof t=="string"?ux(t):typeof t=="object"&&t?eA(t):typeof t=="number"?eA({[e||"milliseconds"]:t}):null}function ux(t){let e=ox.exec(t);if(e){let n=e[1]?-1:1;return{years:0,months:0,days:n*(e[2]?parseInt(e[2],10):0),milliseconds:n*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function eA(t){let e={years:t.years||t.year||0,months:t.months||t.month||0,days:t.days||t.day||0,milliseconds:(t.hours||t.hour||0)*60*60*1e3+(t.minutes||t.minute||0)*60*1e3+(t.seconds||t.second||0)*1e3+(t.milliseconds||t.millisecond||t.ms||0)},n=t.weeks||t.week;return n&&(e.days+=n*7,e.specifiedWeeks=!0),e}function cx(t,e){return t.years===e.years&&t.months===e.months&&t.days===e.days&&t.milliseconds===e.milliseconds}function zo(t,e){return{years:t.years+e.years,months:t.months+e.months,days:t.days+e.days,milliseconds:t.milliseconds+e.milliseconds}}function EA(t,e){return{years:t.years-e.years,months:t.months-e.months,days:t.days-e.days,milliseconds:t.milliseconds-e.milliseconds}}function qp(t,e){return{years:t.years*e,months:t.months*e,days:t.days*e,milliseconds:t.milliseconds*e}}function dx(t){return Ll(t)/365}function fx(t){return Ll(t)/30}function Ll(t){return cn(t)/864e5}function cn(t){return t.years*(365*864e5)+t.months*(30*864e5)+t.days*864e5+t.milliseconds}function Ho(t,e){let n=null;for(let i=0;i<JD.length;i+=1){let a=JD[i];if(e[a]){let r=t[a]/e[a];if(!ho(r)||n!==null&&n!==r)return null;n=r}else if(t[a])return null}return n}function go(t){let e=t.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return t.days?t.specifiedWeeks&&t.days%7===0?{unit:"week",value:t.days/7}:{unit:"day",value:t.days}:t.months?{unit:"month",value:t.months}:t.years?{unit:"year",value:t.years}:{unit:"millisecond",value:0}}function ni(t,e,n){if(t===e)return!0;let i=t.length,a;if(i!==e.length)return!1;for(a=0;a<i;a+=1)if(!(n?n(t[a],e[a]):t[a]===e[a]))return!1;return!0}var hx=["sun","mon","tue","wed","thu","fri","sat"];function gd(t,e){let n=Ta(t);return n[2]+=e*7,Qt(n)}function tt(t,e){let n=Ta(t);return n[2]+=e,Qt(n)}function Jn(t,e){let n=Ta(t);return n[6]+=e,Qt(n)}function Gp(t,e){return Hi(t,e)/7}function Hi(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60*24)}function gx(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60)}function px(t,e){return(e.valueOf()-t.valueOf())/(1e3*60)}function mx(t,e){return(e.valueOf()-t.valueOf())/1e3}function SA(t,e){let n=De(t),i=De(e);return{years:0,months:0,days:Math.round(Hi(n,i)),milliseconds:e.valueOf()-i.valueOf()-(t.valueOf()-n.valueOf())}}function DA(t,e){let n=Bl(t,e);return n!==null&&n%7===0?n/7:null}function Bl(t,e){return _a(t)===_a(e)?Math.round(Hi(t,e)):null}function De(t){return Qt([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()])}function yx(t){return Qt([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours()])}function vx(t){return Qt([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes()])}function bx(t){return Qt([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds()])}function Ex(t,e,n){let i=t.getUTCFullYear(),a=mp(t,i,e,n);if(a<1)return mp(t,i-1,e,n);let r=mp(t,i+1,e,n);return r>=1?Math.min(a,r):a}function mp(t,e,n,i){let a=Qt([e,0,1+Sx(e,n,i)]),r=De(t),l=Math.round(Hi(a,r));return Math.floor(l/7)+1}function Sx(t,e,n){let i=7+e-n;return-((7+Qt([t,0,i]).getUTCDay()-e)%7)+i-1}function tA(t){return[t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()]}function nA(t){return new Date(t[0],t[1]||0,t[2]==null?1:t[2],t[3]||0,t[4]||0,t[5]||0)}function Ta(t){return[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()]}function Qt(t){return t.length===1&&(t=t.concat([0])),new Date(Date.UTC(...t))}function Wp(t){return!isNaN(t.valueOf())}function _a(t){return t.getUTCHours()*1e3*60*60+t.getUTCMinutes()*1e3*60+t.getUTCSeconds()*1e3+t.getUTCMilliseconds()}function pd(t,e,n=!1){let i=t.toISOString();return i=i.replace(".000",""),n&&(i=i.replace("T00:00:00Z","")),i.length>10&&(e==null?i=i.replace("Z",""):e!==0&&(i=i.replace("Z",Xp(e,!0)))),i}function Lo(t){return t.toISOString().replace(/T.*$/,"")}function Qp(t){return t.toISOString().match(/^\d{4}-\d{2}/)[0]}function Zp(t){return hr(t.getUTCHours(),2)+":"+hr(t.getUTCMinutes(),2)+":"+hr(t.getUTCSeconds(),2)}function Xp(t,e=!1){let n=t<0?"-":"+",i=Math.abs(t),a=Math.floor(i/60),r=Math.round(i%60);return e?`${n+hr(a,2)}:${hr(r,2)}`:`GMT${n}${a}${r?`:${hr(r,2)}`:""}`}function j(t,e,n){let i,a;return function(...r){if(!i)a=t.apply(this,r);else if(!ni(i,r)){n&&n(a);let l=t.apply(this,r);(!e||!e(l,a))&&(a=l)}return i=r,a}}function Yl(t,e,n){let i,a;return r=>{if(!i)a=t.call(this,r);else if(!Zt(i,r)){n&&n(a);let l=t.call(this,r);(!e||!e(l,a))&&(a=l)}return i=r,a}}var yp={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},td={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},Qc=/\s*([ap])\.?m\.?/i,Dx=/,/g,Ax=/\s+/g,Cx=/\u200e/g,Tx=/UTC|GMT/,_p=class{constructor(e){let n={},i={},a=9;for(let r in e)r in yp?(i[r]=e[r],yp[r]<9&&(a=Math.min(yp[r],a))):(n[r]=e[r],r in td&&(a=Math.min(td[r],a)));this.standardDateProps=n,this.extendedSettings=i,this.smallestUnitNum=a,this.buildFormattingFunc=j(iA)}format(e,n){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,n)(e)}formatRange(e,n,i,a){let{standardDateProps:r,extendedSettings:l}=this,s=Ox(e.marker,n.marker,i.calendarSystem);if(!s)return this.format(e,i);let o=s;o>1&&(r.year==="numeric"||r.year==="2-digit")&&(r.month==="numeric"||r.month==="2-digit")&&(r.day==="numeric"||r.day==="2-digit")&&(o=1);let u=this.format(e,i),c=this.format(n,i);if(u===c)return u;let h=Nx(r,o),d=iA(h,l,i),f=d(e),p=d(n),y=kx(u,f,c,p),b=l.separator||a||i.defaultSeparator||"";return y?y.before+f+b+p+y.after:u+b+c}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}};function iA(t,e,n){let i=Object.keys(t).length;return i===1&&t.timeZoneName==="short"?a=>Xp(a.timeZoneOffset):i===0&&e.week?a=>Mx(n.computeWeekNumber(a.marker),n.weekText,n.weekTextLong,n.locale,e.week):_x(t,e,n)}function _x(t,e,n){t=Object.assign({},t),e=Object.assign({},e),wx(t,e),t.timeZone="UTC";let i=new Intl.DateTimeFormat(n.locale.codes,t),a;if(e.omitZeroMinute){let r=Object.assign({},t);delete r.minute,a=new Intl.DateTimeFormat(n.locale.codes,r)}return r=>{let{marker:l}=r,s;a&&!l.getUTCMinutes()?s=a:s=i;let o=s.format(l);return xx(o,r,t,e,n)}}function wx(t,e){t.timeZoneName&&(t.hour||(t.hour="2-digit"),t.minute||(t.minute="2-digit")),t.timeZoneName==="long"&&(t.timeZoneName="short"),e.omitZeroMinute&&(t.second||t.millisecond)&&delete e.omitZeroMinute}function xx(t,e,n,i,a){return t=t.replace(Cx,""),n.timeZoneName==="short"&&(t=Rx(t,a.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":Xp(e.timeZoneOffset))),i.omitCommas&&(t=t.replace(Dx,"").trim()),i.omitZeroMinute&&(t=t.replace(":00","")),i.meridiem===!1?t=t.replace(Qc,"").trim():i.meridiem==="narrow"?t=t.replace(Qc,(r,l)=>l.toLocaleLowerCase()):i.meridiem==="short"?t=t.replace(Qc,(r,l)=>`${l.toLocaleLowerCase()}m`):i.meridiem==="lowercase"&&(t=t.replace(Qc,r=>r.toLocaleLowerCase())),t=t.replace(Ax," "),t=t.trim(),t}function Rx(t,e){let n=!1;return t=t.replace(Tx,()=>(n=!0,e)),n||(t+=` ${e}`),t}function Mx(t,e,n,i,a){let r=[];return a==="long"?r.push(n):(a==="short"||a==="narrow")&&r.push(e),(a==="long"||a==="short")&&r.push(" "),r.push(i.simpleNumberFormat.format(t)),i.options.direction==="rtl"&&r.reverse(),r.join("")}function Ox(t,e,n){return n.getMarkerYear(t)!==n.getMarkerYear(e)?5:n.getMarkerMonth(t)!==n.getMarkerMonth(e)?4:n.getMarkerDay(t)!==n.getMarkerDay(e)?2:_a(t)!==_a(e)?1:0}function Nx(t,e){let n={};for(let i in t)(!(i in td)||td[i]<=e)&&(n[i]=t[i]);return n}function kx(t,e,n,i){let a=0;for(;a<t.length;){let r=t.indexOf(e,a);if(r===-1)break;let l=t.substr(0,r);a=r+e.length;let s=t.substr(a),o=0;for(;o<n.length;){let u=n.indexOf(i,o);if(u===-1)break;let c=n.substr(0,u);o=u+i.length;let h=n.substr(o);if(l===c&&s===h)return{before:l,after:s}}}return null}function aA(t,e){let n=e.markerToArray(t.marker);return{marker:t.marker,timeZoneOffset:t.timeZoneOffset,array:n,year:n[0],month:n[1],day:n[2],hour:n[3],minute:n[4],second:n[5],millisecond:n[6]}}function nd(t,e,n,i){let a=aA(t,n.calendarSystem),r=e?aA(e,n.calendarSystem):null;return{date:a,start:a,end:r,timeZone:n.timeZone,localeCodes:n.locale.codes,defaultSeparator:i||n.defaultSeparator}}var wp=class{constructor(e){this.cmdStr=e}format(e,n,i){return n.cmdFormatter(this.cmdStr,nd(e,null,n,i))}formatRange(e,n,i,a){return i.cmdFormatter(this.cmdStr,nd(e,n,i,a))}},xp=class{constructor(e){this.func=e}format(e,n,i){return this.func(nd(e,null,n,i))}formatRange(e,n,i,a){return this.func(nd(e,n,i,a))}};function Ne(t){return typeof t=="object"&&t?new _p(t):typeof t=="string"?new wp(t):typeof t=="function"?new xp(t):null}var Kp={navLinkDayClick:w,navLinkWeekClick:w,duration:te,bootstrapFontAwesome:w,buttonIcons:w,customButtons:w,defaultAllDayEventDuration:te,defaultTimedEventDuration:te,nextDayThreshold:te,scrollTime:te,scrollTimeReset:Boolean,slotMinTime:te,slotMaxTime:te,dayPopoverFormat:Ne,slotDuration:te,snapDuration:te,headerToolbar:w,footerToolbar:w,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:Ne,dayHeaderClassNames:w,dayHeaderContent:w,dayHeaderDidMount:w,dayHeaderWillUnmount:w,dayCellClassNames:w,dayCellContent:w,dayCellDidMount:w,dayCellWillUnmount:w,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:w,weekNumbers:Boolean,weekNumberClassNames:w,weekNumberContent:w,weekNumberDidMount:w,weekNumberWillUnmount:w,editable:Boolean,viewClassNames:w,viewDidMount:w,viewWillUnmount:w,nowIndicator:Boolean,nowIndicatorSnap:w,nowIndicatorClassNames:w,nowIndicatorContent:w,nowIndicatorDidMount:w,nowIndicatorWillUnmount:w,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:w,locale:w,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:w,eventOrder:yA,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:w,contentHeight:w,direction:String,weekNumberFormat:Ne,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:w,initialDate:w,now:w,eventDataTransform:w,stickyHeaderDates:w,stickyFooterScrollbar:w,viewHeight:w,defaultAllDay:Boolean,eventSourceFailure:w,eventSourceSuccess:w,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:w,eventConstraint:w,eventAllow:w,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:w,eventContent:w,eventDidMount:w,eventWillUnmount:w,selectConstraint:w,selectOverlap:w,selectAllow:w,droppable:Boolean,unselectCancel:String,slotLabelFormat:w,slotLaneClassNames:w,slotLaneContent:w,slotLaneDidMount:w,slotLaneWillUnmount:w,slotLabelClassNames:w,slotLabelContent:w,slotLabelDidMount:w,slotLabelWillUnmount:w,dayMaxEvents:w,dayMaxEventRows:w,dayMinWidth:Number,slotLabelInterval:te,allDayText:String,allDayClassNames:w,allDayContent:w,allDayDidMount:w,allDayWillUnmount:w,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:Ne,rerenderDelay:Number,moreLinkText:w,moreLinkHint:w,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:w,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:te,hiddenDays:w,fixedWeekCount:Boolean,validRange:w,visibleRange:w,titleFormat:w,eventInteractive:Boolean,noEventsText:String,viewHint:w,navLinkHint:w,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:w,moreLinkClassNames:w,moreLinkContent:w,moreLinkDidMount:w,moreLinkWillUnmount:w,monthStartFormat:Ne,handleCustomRendering:w,customRenderingMetaMap:w,customRenderingReplaces:Boolean},Oa={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" \u2013 ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"},nowIndicatorSnap:"auto"},$p={datesSet:w,eventsSet:w,eventAdd:w,eventChange:w,eventRemove:w,windowResize:w,eventClick:w,eventMouseEnter:w,eventMouseLeave:w,select:w,unselect:w,loading:w,_unmount:w,_beforeprint:w,_afterprint:w,_noEventDrop:w,_noEventResize:w,_resize:w,_scrollRequest:w},Jp={buttonText:w,buttonHints:w,views:w,plugins:w,initialEvents:w,events:w,eventSources:w},Na={headerToolbar:fr,footerToolbar:fr,buttonText:fr,buttonHints:fr,buttonIcons:fr,dateIncrement:fr,plugins:Zc,events:Zc,eventSources:Zc,resources:Zc};function fr(t,e){return typeof t=="object"&&typeof e=="object"&&t&&e?Zt(t,e):t===e}function Zc(t,e){return Array.isArray(t)&&Array.isArray(e)?ni(t,e):t===e}var AA={type:String,component:w,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:w,usesMinMaxTime:Boolean,classNames:w,content:w,didMount:w,willUnmount:w};function md(t){return vd(t,Na)}function yd(t,e){let n={},i={};for(let a in e)a in t&&(n[a]=e[a](t[a]));for(let a in t)a in e||(i[a]=t[a]);return{refined:n,extra:i}}function w(t){return t}var{hasOwnProperty:id}=Object.prototype;function vd(t,e){let n={};if(e){for(let i in e)if(e[i]===fr){let a=[];for(let r=t.length-1;r>=0;r-=1){let l=t[r][i];if(typeof l=="object"&&l)a.unshift(l);else if(l!==void 0){n[i]=l;break}}a.length&&(n[i]=vd(a))}}for(let i=t.length-1;i>=0;i-=1){let a=t[i];for(let r in a)r in n||(n[r]=a[r])}return n}function Mi(t,e){let n={};for(let i in t)e(t[i],i)&&(n[i]=t[i]);return n}function wn(t,e){let n={};for(let i in t)n[i]=e(t[i],i);return n}function em(t){let e={};for(let n of t)e[n]=!0;return e}function bd(t){let e=[];for(let n in t)e.push(t[n]);return e}function Zt(t,e){if(t===e)return!0;for(let n in t)if(id.call(t,n)&&!(n in e))return!1;for(let n in e)if(id.call(e,n)&&t[n]!==e[n])return!1;return!0}var zx=/^on[A-Z]/;function Hx(t,e){let n=Lx(t,e);for(let i of n)if(!zx.test(i))return!1;return!0}function Lx(t,e){let n=[];for(let i in t)id.call(t,i)&&(i in e||n.push(i));for(let i in e)id.call(e,i)&&t[i]!==e[i]&&n.push(i);return n}function Jc(t,e,n={}){if(t===e)return!0;for(let i in e)if(!(i in t&&Bx(t[i],e[i],n[i])))return!1;for(let i in t)if(!(i in e))return!1;return!0}function Bx(t,e,n){return t===e||n===!0?!0:n?n(t,e):!1}function CA(t,e=0,n,i=1){let a=[];n==null&&(n=Object.keys(t).length);for(let r=e;r<n;r+=i){let l=t[r];l!==void 0&&a.push(l)}return a}var TA={};function Ix(t,e){TA[t]=e}function Ux(t){return new TA[t]}var Rp=class{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return Qt(e)}markerToArray(e){return Ta(e)}};Ix("gregory",Rp);var Yx=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function _A(t){let e=Yx.exec(t);if(e){let n=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?Number(`0.${e[12]}`)*1e3:0));if(Wp(n)){let i=null;return e[13]&&(i=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:n,isTimeUnspecified:!e[6],timeZoneOffset:i}}}return null}var po=class{constructor(e){let n=this.timeZone=e.timeZone,i=n!=="local"&&n!=="UTC";e.namedTimeZoneImpl&&i&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(n)),this.canComputeOffset=Boolean(!i||this.namedTimeZoneImpl),this.calendarSystem=Ux(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let n=this.createMarkerMeta(e);return n===null?null:n.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):Qt(tA(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let n=null;return typeof e=="number"?n=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(n=this.timestampToMarker(e))):Array.isArray(e)&&(n=Qt(e)),n===null||!Wp(n)?null:{marker:n,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let n=_A(e);if(n===null)return null;let{marker:i}=n,a=null;return n.timeZoneOffset!==null&&(this.canComputeOffset?i=this.timestampToMarker(i.valueOf()-n.timeZoneOffset*60*1e3):a=n.timeZoneOffset),{marker:i,isTimeUnspecified:n.isTimeUnspecified,forcedTzo:a}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,n){let i=this.calendarSystem.markerToArray(e);return i[0]+=n.years,i[1]+=n.months,i[2]+=n.days,i[6]+=n.milliseconds,this.calendarSystem.arrayToMarker(i)}subtract(e,n){let i=this.calendarSystem.markerToArray(e);return i[0]-=n.years,i[1]-=n.months,i[2]-=n.days,i[6]-=n.milliseconds,this.calendarSystem.arrayToMarker(i)}addYears(e,n){let i=this.calendarSystem.markerToArray(e);return i[0]+=n,this.calendarSystem.arrayToMarker(i)}addMonths(e,n){let i=this.calendarSystem.markerToArray(e);return i[1]+=n,this.calendarSystem.arrayToMarker(i)}diffWholeYears(e,n){let{calendarSystem:i}=this;return _a(e)===_a(n)&&i.getMarkerDay(e)===i.getMarkerDay(n)&&i.getMarkerMonth(e)===i.getMarkerMonth(n)?i.getMarkerYear(n)-i.getMarkerYear(e):null}diffWholeMonths(e,n){let{calendarSystem:i}=this;return _a(e)===_a(n)&&i.getMarkerDay(e)===i.getMarkerDay(n)?i.getMarkerMonth(n)-i.getMarkerMonth(e)+(i.getMarkerYear(n)-i.getMarkerYear(e))*12:null}greatestWholeUnit(e,n){let i=this.diffWholeYears(e,n);return i!==null?{unit:"year",value:i}:(i=this.diffWholeMonths(e,n),i!==null?{unit:"month",value:i}:(i=DA(e,n),i!==null?{unit:"week",value:i}:(i=Bl(e,n),i!==null?{unit:"day",value:i}:(i=gx(e,n),ho(i)?{unit:"hour",value:i}:(i=px(e,n),ho(i)?{unit:"minute",value:i}:(i=mx(e,n),ho(i)?{unit:"second",value:i}:{unit:"millisecond",value:n.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,n,i){let a;return i.years&&(a=this.diffWholeYears(e,n),a!==null)?a/dx(i):i.months&&(a=this.diffWholeMonths(e,n),a!==null)?a/fx(i):i.days&&(a=Bl(e,n),a!==null)?a/Ll(i):(n.valueOf()-e.valueOf())/cn(i)}startOf(e,n){return n==="year"?this.startOfYear(e):n==="month"?this.startOfMonth(e):n==="week"?this.startOfWeek(e):n==="day"?De(e):n==="hour"?yx(e):n==="minute"?vx(e):n==="second"?bx(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):Ex(e,this.weekDow,this.weekDoy)}format(e,n,i={}){return n.format({marker:e,timeZoneOffset:i.forcedTzo!=null?i.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,n,i,a={}){return a.isEndExclusive&&(n=Jn(n,-1)),i.formatRange({marker:e,timeZoneOffset:a.forcedStartTzo!=null?a.forcedStartTzo:this.offsetForMarker(e)},{marker:n,timeZoneOffset:a.forcedEndTzo!=null?a.forcedEndTzo:this.offsetForMarker(n)},this,a.defaultSeparator)}formatIso(e,n={}){let i=null;return n.omitTimeZoneOffset||(n.forcedTzo!=null?i=n.forcedTzo:i=this.offsetForMarker(e)),pd(e,i,n.omitTime)}timestampToMarker(e){return this.timeZone==="local"?Qt(tA(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):Qt(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-nA(Ta(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(Ta(e)):null}toDate(e,n){return this.timeZone==="local"?nA(Ta(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(Ta(e))*1e3*60):new Date(e.valueOf()-(n||0))}},Oi=class{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let n,i;if(typeof e=="object"&&e){n=Object.assign({},this.iconClasses);for(i in e)n[i]=this.applyIconOverridePrefix(e[i]);this.iconClasses=n}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let n=this.iconOverridePrefix;return n&&e.indexOf(n)!==0&&(e=n+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,n){let i;return n&&this.rtlIconClasses?i=this.rtlIconClasses[e]||this.iconClasses[e]:i=this.iconClasses[e],i?`${this.baseIconClass} ${i}`:""}getCustomButtonIconClass(e){let n;return this.iconOverrideCustomButtonOption&&(n=e[this.iconOverrideCustomButtonOption],n)?`${this.baseIconClass} ${this.applyIconOverridePrefix(n)}`:""}};Oi.prototype.classes={};Oi.prototype.iconClasses={};Oi.prototype.baseIconClass="";Oi.prototype.iconOverridePrefix="";function mo(t){t();let e=V.debounceRendering,n=[];function i(a){n.push(a)}for(V.debounceRendering=i,Aa(E(Mp,{}),document.createElement("div"));n.length;)n.shift()();V.debounceRendering=e}var Mp=class extends Rt{render(){return E("div",{})}componentDidMount(){this.setState({})}};function wA(t){let e=qc(t),n=e.Provider;return e.Provider=function(){let i=!this.getChildContext,a=n.apply(this,arguments);if(i){let r=[];this.shouldComponentUpdate=l=>{this.props.value!==l.value&&r.forEach(s=>{s.context=l.value,s.forceUpdate()})},this.sub=l=>{r.push(l);let s=l.componentWillUnmount;l.componentWillUnmount=()=>{r.splice(r.indexOf(l),1),s&&s.call(l)}}}return a},e}var ad=class{constructor(e,n,i,a){this.execFunc=e,this.emitter=n,this.scrollTime=i,this.scrollTimeReset=a,this.handleScrollRequest=r=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},r),this.drain()},n.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}},Rn=wA({});function xA(t,e,n,i,a,r,l,s,o,u,c,h,d,f){return{dateEnv:a,nowManager:r,options:n,pluginHooks:s,emitter:c,dispatch:o,getCurrentData:u,calendarApi:h,viewSpec:t,viewApi:e,dateProfileGenerator:i,theme:l,isRtl:n.direction==="rtl",addResizeHandler(p){c.on("_resize",p)},removeResizeHandler(p){c.off("_resize",p)},createScrollResponder(p){return new ad(p,c,te(n.scrollTime),n.scrollTimeReset)},registerInteractiveComponent:d,unregisterInteractiveComponent:f}}var ei=class extends Rt{shouldComponentUpdate(e,n){return!Jc(this.props,e,this.propEquality)||!Jc(this.state,n,this.stateEquality)}safeSetState(e){Jc(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}};ei.addPropsEquality=Vx;ei.addStateEquality=jx;ei.contextType=Rn;ei.prototype.propEquality={};ei.prototype.stateEquality={};var se=class extends ei{};se.contextType=Rn;function Vx(t){let e=Object.create(this.prototype.propEquality);Object.assign(e,t),this.prototype.propEquality=e}function jx(t){let e=Object.create(this.prototype.stateEquality);Object.assign(e,t),this.prototype.stateEquality=e}function dn(t,e){typeof t=="function"?t(e):t&&(t.current=e)}var yo=class extends se{constructor(){super(...arguments),this.id=zi(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{let{options:n}=this.context,{generatorName:i}=this.props;(!n.customRenderingReplaces||!Op(i,n))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&dn(this.props.elRef,e)}}render(){let{props:e,context:n}=this,{options:i}=n,{customGenerator:a,defaultGenerator:r,renderProps:l}=e,s=tm(e,[],this.handleEl),o=!1,u,c=[],h;if(a!=null){let d=typeof a=="function"?a(l,E):a;if(d===!0)o=!0;else{let f=d&&typeof d=="object";f&&"html"in d?s.dangerouslySetInnerHTML={__html:d.html}:f&&"domNodes"in d?c=Array.prototype.slice.call(d.domNodes):(f?up(d):typeof d!="function")?u=d:h=d}}else o=!Op(e.generatorName,i);return o&&r&&(u=r(l)),this.queuedDomNodes=c,this.currentGeneratorMeta=h,E(e.elTag,s,u)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var n;let{props:i,context:a}=this,{handleCustomRendering:r,customRenderingMetaMap:l}=a.options;if(r){let s=(n=this.currentGeneratorMeta)!==null&&n!==void 0?n:l==null?void 0:l[i.generatorName];s&&r(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:s},i),{elClasses:(i.elClasses||[]).filter(Px)}))}}applyQueueudDomNodes(){let{queuedDomNodes:e,currentDomNodes:n}=this,i=this.base;if(!ni(e,n)){n.forEach(Mo);for(let a of e)i.appendChild(a);this.currentDomNodes=e}}};yo.addPropsEquality({elClasses:ni,elStyle:Zt,elAttrs:Hx,renderProps:Zt});function Op(t,e){var n;return Boolean(e.handleCustomRendering&&t&&((n=e.customRenderingMetaMap)===null||n===void 0?void 0:n[t]))}function tm(t,e,n){let i=Object.assign(Object.assign({},t.elAttrs),{ref:n});return(t.elClasses||e)&&(i.className=(t.elClasses||[]).concat(e||[]).concat(i.className||[]).filter(Boolean).join(" ")),t.elStyle&&(i.style=t.elStyle),i}function Px(t){return Boolean(t)}var nm=wA(0),vt=class extends Rt{constructor(){super(...arguments),this.InnerContent=Fx.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(dn(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){let{props:e}=this,n=qx(e.classNameGenerator,e.renderProps);if(e.children){let i=tm(e,n,this.handleEl),a=e.children(this.InnerContent,e.renderProps,i);return e.elTag?E(e.elTag,i,a):a}else return E(yo,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(n),renderId:this.context}))}componentDidMount(){var e,n;this.el?(n=(e=this.props).didMount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,n;(n=(e=this.props).willUnmount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}};vt.contextType=nm;function Fx(t,e){let n=t.props;return E(yo,Object.assign({renderProps:n.renderProps,generatorName:n.generatorName,customGenerator:n.customGenerator,defaultGenerator:n.defaultGenerator,renderId:t.context},e))}function qx(t,e){let n=typeof t=="function"?t(e):t||[];return typeof n=="string"?[n]:n}var Ni=class extends se{render(){let{props:e,context:n}=this,{options:i}=n,a={view:n.viewApi};return E(vt,{elRef:e.elRef,elTag:e.elTag||"div",elAttrs:e.elAttrs,elClasses:[...im(e.viewSpec),...e.elClasses||[]],elStyle:e.elStyle,renderProps:a,classNameGenerator:i.viewClassNames,generatorName:void 0,didMount:i.viewDidMount,willUnmount:i.viewWillUnmount},()=>e.children)}};function im(t){return[`fc-${t.type}-view`,"fc-view"]}function Gx(t,e){let n=null,i=null;return t.start&&(n=e.createMarker(t.start)),t.end&&(i=e.createMarker(t.end)),!n&&!i||n&&i&&i<n?null:{start:n,end:i}}function rA(t,e){let n=[],{start:i}=e,a,r;for(t.sort(Wx),a=0;a<t.length;a+=1)r=t[a],r.start>i&&n.push({start:i,end:r.start}),r.end>i&&(i=r.end);return i<e.end&&n.push({start:i,end:e.end}),n}function Wx(t,e){return t.start.valueOf()-e.start.valueOf()}function zn(t,e){let{start:n,end:i}=t,a=null;return e.start!==null&&(n===null?n=e.start:n=new Date(Math.max(n.valueOf(),e.start.valueOf()))),e.end!=null&&(i===null?i=e.end:i=new Date(Math.min(i.valueOf(),e.end.valueOf()))),(n===null||i===null||n<i)&&(a={start:n,end:i}),a}function RA(t,e){return(t.start===null?null:t.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(t.end===null?null:t.end.valueOf())===(e.end===null?null:e.end.valueOf())}function Ed(t,e){return(t.end===null||e.start===null||t.end>e.start)&&(t.start===null||e.end===null||t.start<e.end)}function Vl(t,e){return(t.start===null||e.start!==null&&e.start>=t.start)&&(t.end===null||e.end!==null&&e.end<=t.end)}function _n(t,e){return(t.start===null||e>=t.start)&&(t.end===null||e<t.end)}function Qx(t,e){return e.start!=null&&t<e.start?e.start:e.end!=null&&t>=e.end?new Date(e.end.valueOf()-1):t}function MA(t){let e=Math.floor(Hi(t.start,t.end))||1,n=De(t.start),i=tt(n,e);return{start:n,end:i}}function am(t,e=te(0)){let n=null,i=null;if(t.end){i=De(t.end);let a=t.end.valueOf()-i.valueOf();a&&a>=cn(e)&&(i=tt(i,1))}return t.start&&(n=De(t.start),i&&i<=n&&(i=tt(n,1))),{start:n,end:i}}function wa(t,e,n,i){return i==="year"?te(n.diffWholeYears(t,e),"year"):i==="month"?te(n.diffWholeMonths(t,e),"month"):SA(t,e)}var pr=class{constructor(e){this.props=e,this.initHiddenDays()}buildPrev(e,n,i){let{dateEnv:a}=this.props,r=a.subtract(a.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(r,-1,i)}buildNext(e,n,i){let{dateEnv:a}=this.props,r=a.add(a.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(r,1,i)}build(e,n,i=!0){let{props:a}=this,r,l,s,o,u,c;return r=this.buildValidRange(),r=this.trimHiddenDays(r),i&&(e=Qx(e,r)),l=this.buildCurrentRangeInfo(e,n),s=/^(year|month|week|day)$/.test(l.unit),o=this.buildRenderRange(this.trimHiddenDays(l.range),l.unit,s),o=this.trimHiddenDays(o),u=o,a.showNonCurrentDates||(u=zn(u,l.range)),u=this.adjustActiveRange(u),u=zn(u,r),c=Ed(l.range,r),_n(o,e)||(e=o.start),{currentDate:e,validRange:r,currentRange:l.range,currentRangeUnit:l.unit,isRangeAllDay:s,activeRange:u,renderRange:o,slotMinTime:a.slotMinTime,slotMaxTime:a.slotMaxTime,isValid:c,dateIncrement:this.buildDateIncrement(l.duration)}}buildValidRange(){let e=this.props.validRangeInput,n=typeof e=="function"?e.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):e;return this.refineRange(n)||{start:null,end:null}}buildCurrentRangeInfo(e,n){let{props:i}=this,a=null,r=null,l=null,s;return i.duration?(a=i.duration,r=i.durationUnit,l=this.buildRangeFromDuration(e,n,a,r)):(s=this.props.dayCount)?(r="day",l=this.buildRangeFromDayCount(e,n,s)):(l=this.buildCustomVisibleRange(e))?r=i.dateEnv.greatestWholeUnit(l.start,l.end).unit:(a=this.getFallbackDuration(),r=go(a).unit,l=this.buildRangeFromDuration(e,n,a,r)),{duration:a,unit:r,range:l}}getFallbackDuration(){return te({day:1})}adjustActiveRange(e){let{dateEnv:n,usesMinMaxTime:i,slotMinTime:a,slotMaxTime:r}=this.props,{start:l,end:s}=e;return i&&(Ll(a)<0&&(l=De(l),l=n.add(l,a)),Ll(r)>1&&(s=De(s),s=tt(s,-1),s=n.add(s,r))),{start:l,end:s}}buildRangeFromDuration(e,n,i,a){let{dateEnv:r,dateAlignment:l}=this.props,s,o,u;if(!l){let{dateIncrement:h}=this.props;h&&cn(h)<cn(i)?l=go(h).unit:l=a}Ll(i)<=1&&this.isHiddenDay(s)&&(s=this.skipHiddenDays(s,n),s=De(s));function c(){s=r.startOf(e,l),o=r.add(s,i),u={start:s,end:o}}return c(),this.trimHiddenDays(u)||(e=this.skipHiddenDays(e,n),c()),u}buildRangeFromDayCount(e,n,i){let{dateEnv:a,dateAlignment:r}=this.props,l=0,s=e,o;r&&(s=a.startOf(s,r)),s=De(s),s=this.skipHiddenDays(s,n),o=s;do o=tt(o,1),this.isHiddenDay(o)||(l+=1);while(l<i);return{start:s,end:o}}buildCustomVisibleRange(e){let{props:n}=this,i=n.visibleRangeInput,a=typeof i=="function"?i.call(n.calendarApi,n.dateEnv.toDate(e)):i,r=this.refineRange(a);return r&&(r.start==null||r.end==null)?null:r}buildRenderRange(e,n,i){return e}buildDateIncrement(e){let{dateIncrement:n}=this.props,i;return n||((i=this.props.dateAlignment)?te(1,i):e||te({days:1}))}refineRange(e){if(e){let n=Gx(e,this.props.dateEnv);return n&&(n=am(n)),n}return null}initHiddenDays(){let e=this.props.hiddenDays||[],n=[],i=0,a;for(this.props.weekends===!1&&e.push(0,6),a=0;a<7;a+=1)(n[a]=e.indexOf(a)!==-1)||(i+=1);if(!i)throw new Error("invalid hiddenDays");this.isHiddenDayHash=n}trimHiddenDays(e){let{start:n,end:i}=e;return n&&(n=this.skipHiddenDays(n)),i&&(i=this.skipHiddenDays(i,-1,!0)),n==null||i==null||n<i?{start:n,end:i}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,n=1,i=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(i?n:0)+7)%7];)e=tt(e,n);return e}};function Bo(t,e,n,i){return{instanceId:zi(),defId:t,range:e,forcedStartTzo:n==null?null:n,forcedEndTzo:i==null?null:i}}function Zx(t,e,n,i){for(let a=0;a<i.length;a+=1){let r=i[a].parse(t,n);if(r){let{allDay:l}=t;return l==null&&(l=e,l==null&&(l=r.allDayGuess,l==null&&(l=!1))),{allDay:l,duration:r.duration,typeData:r.typeData,typeId:a}}}return null}function mr(t,e,n){let{dateEnv:i,pluginHooks:a,options:r}=n,{defs:l,instances:s}=t;s=Mi(s,o=>!l[o.defId].recurringDef);for(let o in l){let u=l[o];if(u.recurringDef){let{duration:c}=u.recurringDef;c||(c=u.allDay?r.defaultAllDayEventDuration:r.defaultTimedEventDuration);let h=Xx(u,c,e,i,a.recurringTypes);for(let d of h){let f=Bo(o,{start:d,end:i.add(d,c)});s[f.instanceId]=f}}}return{defs:l,instances:s}}function Xx(t,e,n,i,a){let l=a[t.recurringDef.typeId].expand(t.recurringDef.typeData,{start:i.subtract(n.start,e),end:n.end},i);return t.allDay&&(l=l.map(De)),l}var ed={id:String,groupId:String,title:String,url:String,interactive:Boolean},OA={start:w,end:w,date:w,allDay:Boolean},Kx=Object.assign(Object.assign(Object.assign({},ed),OA),{extendedProps:w});function NA(t,e,n,i,a=rm(n),r,l){let{refined:s,extra:o}=Sd(t,n,a),u=Jx(e,n),c=Zx(s,u,n.dateEnv,n.pluginHooks.recurringTypes);if(c){let d=vo(s,o,e?e.sourceId:"",c.allDay,Boolean(c.duration),n,r);return d.recurringDef={typeId:c.typeId,typeData:c.typeData,duration:c.duration},{def:d,instance:null}}let h=$x(s,u,n,i);if(h){let d=vo(s,o,e?e.sourceId:"",h.allDay,h.hasEnd,n,r),f=Bo(d.defId,h.range,h.forcedStartTzo,h.forcedEndTzo);return l&&d.publicId&&l[d.publicId]&&(f.instanceId=l[d.publicId]),{def:d,instance:f}}return null}function Sd(t,e,n=rm(e)){return yd(t,n)}function rm(t){return Object.assign(Object.assign(Object.assign({},rd),Kx),t.pluginHooks.eventRefiners)}function vo(t,e,n,i,a,r,l){let s={title:t.title||"",groupId:t.groupId||"",publicId:t.id||"",url:t.url||"",recurringDef:null,defId:(l&&t.id?l[t.id]:"")||zi(),sourceId:n,allDay:i,hasEnd:a,interactive:t.interactive,ui:jl(t,r),extendedProps:Object.assign(Object.assign({},t.extendedProps||{}),e)};for(let o of r.pluginHooks.eventDefMemberAdders)Object.assign(s,o(t));return Object.freeze(s.ui.classNames),Object.freeze(s.extendedProps),s}function $x(t,e,n,i){let{allDay:a}=t,r,l=null,s=!1,o,u=null,c=t.start!=null?t.start:t.date;if(r=n.dateEnv.createMarkerMeta(c),r)l=r.marker;else if(!i)return null;return t.end!=null&&(o=n.dateEnv.createMarkerMeta(t.end)),a==null&&(e!=null?a=e:a=(!r||r.isTimeUnspecified)&&(!o||o.isTimeUnspecified)),a&&l&&(l=De(l)),o&&(u=o.marker,a&&(u=De(u)),l&&u<=l&&(u=null)),u?s=!0:i||(s=n.options.forceEventDuration||!1,u=n.dateEnv.add(l,a?n.options.defaultAllDayEventDuration:n.options.defaultTimedEventDuration)),{allDay:a,hasEnd:s,range:{start:l,end:u},forcedStartTzo:r?r.forcedTzo:null,forcedEndTzo:o?o.forcedTzo:null}}function Jx(t,e){let n=null;return t&&(n=t.defaultAllDay),n==null&&(n=e.options.defaultAllDay),n}function bo(t,e,n,i,a,r){let l=Nt(),s=rm(n);for(let o of t){let u=NA(o,e,n,i,s,a,r);u&&Eo(u,l)}return l}function Eo(t,e=Nt()){return e.defs[t.def.defId]=t.def,t.instance&&(e.instances[t.instance.instanceId]=t.instance),e}function Io(t,e){let n=t.instances[e];if(n){let i=t.defs[n.defId],a=Ad(t,r=>eR(i,r));return a.defs[i.defId]=i,a.instances[n.instanceId]=n,a}return Nt()}function eR(t,e){return Boolean(t.groupId&&t.groupId===e.groupId)}function Nt(){return{defs:{},instances:{}}}function Dd(t,e){return{defs:Object.assign(Object.assign({},t.defs),e.defs),instances:Object.assign(Object.assign({},t.instances),e.instances)}}function Ad(t,e){let n=Mi(t.defs,e),i=Mi(t.instances,a=>n[a.defId]);return{defs:n,instances:i}}function tR(t,e){let{defs:n,instances:i}=t,a={},r={};for(let l in n)e.defs[l]||(a[l]=n[l]);for(let l in i)!e.instances[l]&&a[i[l].defId]&&(r[l]=i[l]);return{defs:a,instances:r}}function nR(t,e){return Array.isArray(t)?bo(t,null,e,!0):typeof t=="object"&&t?bo([t],null,e,!0):t!=null?String(t):null}function Np(t){return Array.isArray(t)?t:typeof t=="string"?t.split(/\s+/):[]}var rd={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:w,overlap:w,allow:w,className:Np,classNames:Np,color:String,backgroundColor:String,borderColor:String,textColor:String},iR={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function jl(t,e){let n=nR(t.constraint,e);return{display:t.display||null,startEditable:t.startEditable!=null?t.startEditable:t.editable,durationEditable:t.durationEditable!=null?t.durationEditable:t.editable,constraints:n!=null?[n]:[],overlap:t.overlap!=null?t.overlap:null,allows:t.allow!=null?[t.allow]:[],backgroundColor:t.backgroundColor||t.color||"",borderColor:t.borderColor||t.color||"",textColor:t.textColor||"",classNames:(t.className||[]).concat(t.classNames||[])}}function lm(t){return t.reduce(aR,iR)}function aR(t,e){return{display:e.display!=null?e.display:t.display,startEditable:e.startEditable!=null?e.startEditable:t.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:t.durationEditable,constraints:t.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:t.overlap,allows:t.allows.concat(e.allows),backgroundColor:e.backgroundColor||t.backgroundColor,borderColor:e.borderColor||t.borderColor,textColor:e.textColor||t.textColor,classNames:t.classNames.concat(e.classNames)}}var rR={id:String,defaultAllDay:Boolean,url:String,format:String,events:w,eventDataTransform:w,success:w,failure:w};function sm(t,e,n=om(e)){let i;if(typeof t=="string"?i={url:t}:typeof t=="function"||Array.isArray(t)?i={events:t}:typeof t=="object"&&t&&(i=t),i){let{refined:a,extra:r}=yd(i,n),l=lR(a,e);if(l)return{_raw:t,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:a.defaultAllDay,eventDataTransform:a.eventDataTransform,success:a.success,failure:a.failure,publicId:a.id||"",sourceId:zi(),sourceDefId:l.sourceDefId,meta:l.meta,ui:jl(a,e),extendedProps:r}}return null}function om(t){return Object.assign(Object.assign(Object.assign({},rd),rR),t.pluginHooks.eventSourceRefiners)}function lR(t,e){let n=e.pluginHooks.eventSourceDefs;for(let i=n.length-1;i>=0;i-=1){let r=n[i].parseMeta(t);if(r)return{sourceDefId:i,meta:r}}return null}function kA(t,e,n,i,a){switch(e.type){case"RECEIVE_EVENTS":return sR(t,n[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,a);case"RESET_RAW_EVENTS":return oR(t,n[e.sourceId],e.rawEvents,i.activeRange,a);case"ADD_EVENTS":return uR(t,e.eventStore,i?i.activeRange:null,a);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return Dd(t,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return i?mr(t,i.activeRange,a):t;case"REMOVE_EVENTS":return tR(t,e.eventStore);case"REMOVE_EVENT_SOURCE":return HA(t,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return Ad(t,r=>!r.sourceId);case"REMOVE_ALL_EVENTS":return Nt();default:return t}}function sR(t,e,n,i,a,r){if(e&&n===e.latestFetchId){let l=bo(zA(a,e,r),e,r);return i&&(l=mr(l,i,r)),Dd(HA(t,e.sourceId),l)}return t}function oR(t,e,n,i,a){let{defIdMap:r,instanceIdMap:l}=dR(t),s=bo(zA(n,e,a),e,a,!1,r,l);return mr(s,i,a)}function zA(t,e,n){let i=n.options.eventDataTransform,a=e?e.eventDataTransform:null;return a&&(t=lA(t,a)),i&&(t=lA(t,i)),t}function lA(t,e){let n;if(!e)n=t;else{n=[];for(let i of t){let a=e(i);a?n.push(a):a==null&&n.push(i)}}return n}function uR(t,e,n,i){return n&&(e=mr(e,n,i)),Dd(t,e)}function um(t,e,n){let{defs:i}=t,a=wn(t.instances,r=>i[r.defId].allDay?r:Object.assign(Object.assign({},r),{range:{start:n.createMarker(e.toDate(r.range.start,r.forcedStartTzo)),end:n.createMarker(e.toDate(r.range.end,r.forcedEndTzo))},forcedStartTzo:n.canComputeOffset?null:r.forcedStartTzo,forcedEndTzo:n.canComputeOffset?null:r.forcedEndTzo}));return{defs:i,instances:a}}function HA(t,e){return Ad(t,n=>n.sourceId!==e)}function cR(t,e){return{defs:t.defs,instances:Mi(t.instances,n=>!e[n.instanceId])}}function dR(t){let{defs:e,instances:n}=t,i={},a={};for(let r in e){let l=e[r],{publicId:s}=l;s&&(i[s]=r)}for(let r in n){let l=n[r],s=e[l.defId],{publicId:o}=s;o&&(a[o]=r)}return{defIdMap:i,instanceIdMap:a}}var ki=class{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,n){fR(this.handlers,e,n)}off(e,n){hR(this.handlers,e,n)}trigger(e,...n){let i=this.handlers[e]||[],a=this.options&&this.options[e],r=[].concat(a||[],i);for(let l of r)l.apply(this.thisContext,n)}hasHandlers(e){return Boolean(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}};function fR(t,e,n){(t[e]||(t[e]=[])).push(n)}function hR(t,e,n){n?t[e]&&(t[e]=t[e].filter(i=>i!==n)):delete t[e]}var gR={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function cm(t,e){return bo(pR(t),null,e)}function pR(t){let e;return t===!0?e=[{}]:Array.isArray(t)?e=t.filter(n=>n.daysOfWeek):typeof t=="object"&&t?e=[t]:e=[],e=e.map(n=>Object.assign(Object.assign({},gR),n)),e}function Cd(t,e,n){n.emitter.trigger("select",Object.assign(Object.assign({},dm(t,n)),{jsEvent:e?e.origEvent:null,view:n.viewApi||n.calendarApi.view}))}function mR(t,e){e.emitter.trigger("unselect",{jsEvent:t?t.origEvent:null,view:e.viewApi||e.calendarApi.view})}function dm(t,e){let n={};for(let i of e.pluginHooks.dateSpanTransforms)Object.assign(n,i(t,e));return Object.assign(n,xR(t,e.dateEnv)),n}function ld(t,e,n){let{dateEnv:i,options:a}=n,r=e;return t?(r=De(r),r=i.add(r,a.defaultAllDayEventDuration)):r=i.add(r,a.defaultTimedEventDuration),r}function Uo(t,e,n,i){let a=od(t.defs,e),r=Nt();for(let l in t.defs){let s=t.defs[l];r.defs[l]=yR(s,a[l],n,i)}for(let l in t.instances){let s=t.instances[l],o=r.defs[s.defId];r.instances[l]=vR(s,o,a[s.defId],n,i)}return r}function yR(t,e,n,i){let a=n.standardProps||{};a.hasEnd==null&&e.durationEditable&&(n.startDelta||n.endDelta)&&(a.hasEnd=!0);let r=Object.assign(Object.assign(Object.assign({},t),a),{ui:Object.assign(Object.assign({},t.ui),a.ui)});n.extendedProps&&(r.extendedProps=Object.assign(Object.assign({},r.extendedProps),n.extendedProps));for(let l of i.pluginHooks.eventDefMutationAppliers)l(r,n,i);return!r.hasEnd&&i.options.forceEventDuration&&(r.hasEnd=!0),r}function vR(t,e,n,i,a){let{dateEnv:r}=a,l=i.standardProps&&i.standardProps.allDay===!0,s=i.standardProps&&i.standardProps.hasEnd===!1,o=Object.assign({},t);return l&&(o.range=MA(o.range)),i.datesDelta&&n.startEditable&&(o.range={start:r.add(o.range.start,i.datesDelta),end:r.add(o.range.end,i.datesDelta)}),i.startDelta&&n.durationEditable&&(o.range={start:r.add(o.range.start,i.startDelta),end:o.range.end}),i.endDelta&&n.durationEditable&&(o.range={start:o.range.start,end:r.add(o.range.end,i.endDelta)}),s&&(o.range={start:o.range.start,end:ld(e.allDay,o.range.start,a)}),e.allDay&&(o.range={start:De(o.range.start),end:De(o.range.end)}),o.range.end<o.range.start&&(o.range.end=ld(e.allDay,o.range.start,a)),o}var Ca=class{constructor(e,n){this.context=e,this.internalEventSource=n}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}},_e=class{constructor(e,n,i){this._context=e,this._def=n,this._instance=i||null}setProp(e,n){if(e in OA)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")n=ed[e](n),this.mutate({standardProps:{publicId:n}});else if(e in ed)n=ed[e](n),this.mutate({standardProps:{[e]:n}});else if(e in rd){let i=rd[e](n);e==="color"?i={backgroundColor:n,borderColor:n}:e==="editable"?i={startEditable:n,durationEditable:n}:i={[e]:n},this.mutate({standardProps:{ui:i}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,n){this.mutate({extendedProps:{[e]:n}})}setStart(e,n={}){let{dateEnv:i}=this._context,a=i.createMarker(e);if(a&&this._instance){let r=this._instance.range,l=wa(r.start,a,i,n.granularity);n.maintainDuration?this.mutate({datesDelta:l}):this.mutate({startDelta:l})}}setEnd(e,n={}){let{dateEnv:i}=this._context,a;if(!(e!=null&&(a=i.createMarker(e),!a))&&this._instance)if(a){let r=wa(this._instance.range.end,a,i,n.granularity);this.mutate({endDelta:r})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,n,i={}){let{dateEnv:a}=this._context,r={allDay:i.allDay},l=a.createMarker(e),s;if(l&&!(n!=null&&(s=a.createMarker(n),!s))&&this._instance){let o=this._instance.range;i.allDay===!0&&(o=MA(o));let u=wa(o.start,l,a,i.granularity);if(s){let c=wa(o.end,s,a,i.granularity);cx(u,c)?this.mutate({datesDelta:u,standardProps:r}):this.mutate({startDelta:u,endDelta:c,standardProps:r})}else r.hasEnd=!1,this.mutate({datesDelta:u,standardProps:r})}}moveStart(e){let n=te(e);n&&this.mutate({startDelta:n})}moveEnd(e){let n=te(e);n&&this.mutate({endDelta:n})}moveDates(e){let n=te(e);n&&this.mutate({datesDelta:n})}setAllDay(e,n={}){let i={allDay:e},{maintainDuration:a}=n;a==null&&(a=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(i.hasEnd=a),this.mutate({standardProps:i})}formatRange(e){let{dateEnv:n}=this._context,i=this._instance,a=Ne(e);return this._def.hasEnd?n.formatRange(i.range.start,i.range.end,a,{forcedStartTzo:i.forcedStartTzo,forcedEndTzo:i.forcedEndTzo}):n.format(i.range.start,a,{forcedTzo:i.forcedStartTzo})}mutate(e){let n=this._instance;if(n){let i=this._def,a=this._context,{eventStore:r}=a.getCurrentData(),l=Io(r,n.instanceId);l=Uo(l,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,a);let o=new _e(a,i,n);this._def=l.defs[i.defId],this._instance=l.instances[n.instanceId],a.dispatch({type:"MERGE_EVENTS",eventStore:l}),a.emitter.trigger("eventChange",{oldEvent:o,event:this,relatedEvents:ii(l,a,n),revert(){a.dispatch({type:"RESET_EVENTS",eventStore:r})}})}}remove(){let e=this._context,n=LA(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:n}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:n})}})}get source(){let{sourceId:e}=this._def;return e?new Ca(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let n=this._def,{ui:i}=n,{startStr:a,endStr:r}=this,l={allDay:n.allDay};return n.title&&(l.title=n.title),a&&(l.start=a),r&&(l.end=r),n.publicId&&(l.id=n.publicId),n.groupId&&(l.groupId=n.groupId),n.url&&(l.url=n.url),i.display&&i.display!=="auto"&&(l.display=i.display),e.collapseColor&&i.backgroundColor&&i.backgroundColor===i.borderColor?l.color=i.backgroundColor:(i.backgroundColor&&(l.backgroundColor=i.backgroundColor),i.borderColor&&(l.borderColor=i.borderColor)),i.textColor&&(l.textColor=i.textColor),i.classNames.length&&(l.classNames=i.classNames),Object.keys(n.extendedProps).length&&(e.collapseExtendedProps?Object.assign(l,n.extendedProps):l.extendedProps=n.extendedProps),l}toJSON(){return this.toPlainObject()}};function LA(t){let e=t._def,n=t._instance;return{defs:{[e.defId]:e},instances:n?{[n.instanceId]:n}:{}}}function ii(t,e,n){let{defs:i,instances:a}=t,r=[],l=n?n.instanceId:"";for(let s in a){let o=a[s],u=i[o.defId];o.instanceId!==l&&r.push(new _e(e,u,o))}return r}function sd(t,e,n,i){let a={},r={},l={},s=[],o=[],u=od(t.defs,e);for(let c in t.defs){let h=t.defs[c];u[h.defId].display==="inverse-background"&&(h.groupId?(a[h.groupId]=[],l[h.groupId]||(l[h.groupId]=h)):r[c]=[])}for(let c in t.instances){let h=t.instances[c],d=t.defs[h.defId],f=u[d.defId],p=h.range,y=!d.allDay&&i?am(p,i):p,b=zn(y,n);b&&(f.display==="inverse-background"?d.groupId?a[d.groupId].push(b):r[h.defId].push(b):f.display!=="none"&&(f.display==="background"?s:o).push({def:d,ui:f,instance:h,range:b,isStart:y.start&&y.start.valueOf()===b.start.valueOf(),isEnd:y.end&&y.end.valueOf()===b.end.valueOf()}))}for(let c in a){let h=a[c],d=rA(h,n);for(let f of d){let p=l[c],y=u[p.defId];s.push({def:p,ui:y,instance:null,range:f,isStart:!1,isEnd:!1})}}for(let c in r){let h=r[c],d=rA(h,n);for(let f of d)s.push({def:t.defs[c],ui:u[c],instance:null,range:f,isStart:!1,isEnd:!1})}return{bg:s,fg:o}}function fm(t){return t.ui.display==="background"||t.ui.display==="inverse-background"}function sA(t,e){t.fcSeg=e}function Li(t){return t.fcSeg||t.parentNode.fcSeg||null}function od(t,e){return wn(t,n=>BA(n,e))}function BA(t,e){let n=[];return e[""]&&n.push(e[""]),e[t.defId]&&n.push(e[t.defId]),n.push(t.ui),lm(n)}function Yo(t,e){let n=t.map(bR);return n.sort((i,a)=>vA(i,a,e)),n.map(i=>i._seg)}function bR(t){let{eventRange:e}=t,n=e.def,i=e.instance?e.instance.range:e.range,a=i.start?i.start.valueOf():0,r=i.end?i.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},n.extendedProps),n),{id:n.publicId,start:a,end:r,duration:r-a,allDay:Number(n.allDay),_seg:t})}function ER(t,e){let{pluginHooks:n}=e,i=n.isDraggableTransformers,{def:a,ui:r}=t.eventRange,l=r.startEditable;for(let s of i)l=s(l,a,r,e);return l}function SR(t,e){return t.isStart&&t.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function DR(t,e){return t.isEnd&&t.eventRange.ui.durationEditable}function Td(t,e,n,i,a,r,l){let{dateEnv:s,options:o}=n,{displayEventTime:u,displayEventEnd:c}=o,h=t.eventRange.def,d=t.eventRange.instance;u==null&&(u=i!==!1),c==null&&(c=a!==!1);let f=d.range.start,p=d.range.end,y=r||t.start||t.eventRange.range.start,b=l||t.end||t.eventRange.range.end,g=De(f).valueOf()===De(y).valueOf(),m=De(Jn(p,-1)).valueOf()===De(Jn(b,-1)).valueOf();return u&&!h.allDay&&(g||m)?(y=g?f:y,b=m?p:b,c&&h.hasEnd?s.formatRange(y,b,e,{forcedStartTzo:r?null:d.forcedStartTzo,forcedEndTzo:l?null:d.forcedEndTzo}):s.format(y,e,{forcedTzo:r?null:d.forcedStartTzo})):""}function Bn(t,e,n){let i=t.eventRange.range;return{isPast:i.end<=(n||e.start),isFuture:i.start>=(n||e.end),isToday:e&&_n(e,i.start)}}function AR(t){let e=["fc-event"];return t.isMirror&&e.push("fc-event-mirror"),t.isDraggable&&e.push("fc-event-draggable"),(t.isStartResizable||t.isEndResizable)&&e.push("fc-event-resizable"),t.isDragging&&e.push("fc-event-dragging"),t.isResizing&&e.push("fc-event-resizing"),t.isSelected&&e.push("fc-event-selected"),t.isStart&&e.push("fc-event-start"),t.isEnd&&e.push("fc-event-end"),t.isPast&&e.push("fc-event-past"),t.isToday&&e.push("fc-event-today"),t.isFuture&&e.push("fc-event-future"),e}function Vo(t){return t.instance?t.instance.instanceId:`${t.def.defId}:${t.range.start.toISOString()}`}function _d(t,e){let{def:n,instance:i}=t.eventRange,{url:a}=n;if(a)return{href:a};let{emitter:r,options:l}=e,{eventInteractive:s}=l;return s==null&&(s=n.interactive,s==null&&(s=Boolean(r.hasHandlers("eventClick")))),s?mA(o=>{r.trigger("eventClick",{el:o.target,event:new _e(e,n,i),jsEvent:o,view:e.viewApi})}):{}}var CR={start:w,end:w,allDay:Boolean};function TR(t,e,n){let i=_R(t,e),{range:a}=i;if(!a.start)return null;if(!a.end){if(n==null)return null;a.end=e.add(a.start,n)}return i}function _R(t,e){let{refined:n,extra:i}=yd(t,CR),a=n.start?e.createMarkerMeta(n.start):null,r=n.end?e.createMarkerMeta(n.end):null,{allDay:l}=n;return l==null&&(l=a&&a.isTimeUnspecified&&(!r||r.isTimeUnspecified)),Object.assign({range:{start:a?a.marker:null,end:r?r.marker:null},allDay:l},i)}function hm(t,e){return RA(t.range,e.range)&&t.allDay===e.allDay&&wR(t,e)}function wR(t,e){for(let n in e)if(n!=="range"&&n!=="allDay"&&t[n]!==e[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}function xR(t,e){return Object.assign(Object.assign({},IA(t.range,e,t.allDay)),{allDay:t.allDay})}function gm(t,e,n){return Object.assign(Object.assign({},IA(t,e,n)),{timeZone:e.timeZone})}function IA(t,e,n){return{start:e.toDate(t.start),end:e.toDate(t.end),startStr:e.formatIso(t.start,{omitTime:n}),endStr:e.formatIso(t.end,{omitTime:n})}}function RR(t,e,n){let i=Sd({editable:!1},n),a=vo(i.refined,i.extra,"",t.allDay,!0,n);return{def:a,ui:BA(a,e),instance:Bo(a.defId,t.range),range:t.range,isStart:!0,isEnd:!0}}function pm(t,e,n){let i=!1,a=function(s){i||(i=!0,e(s))},r=function(s){i||(i=!0,n(s))},l=t(a,r);l&&typeof l.then=="function"&&l.then(a,r)}var ud=class extends Error{constructor(e,n){super(e),this.response=n}};function mm(t,e,n){t=t.toUpperCase();let i={method:t};return t==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(n):(i.body=new URLSearchParams(n),i.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,i).then(a=>{if(a.ok)return a.json().then(r=>[r,a],()=>{throw new ud("Failure parsing JSON",a)});throw new ud("Request failed",a)})}var vp;function ym(){return vp==null&&(vp=MR()),vp}function MR(){if(typeof document=="undefined")return!0;let t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.innerHTML="<table><tr><td><div></div></td></tr></table>",t.querySelector("table").style.height="100px",t.querySelector("div").style.height="100%",document.body.appendChild(t);let n=t.querySelector("div").offsetHeight>0;return document.body.removeChild(t),n}var So=class extends se{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{mo(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{mo(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:n}=e,{forPrint:i}=this.state,a=i||n.height==="auto"||n.contentHeight==="auto",r=!a&&n.height!=null?n.height:"",l=["fc",i?"fc-media-print":"fc-media-screen",`fc-direction-${n.direction}`,e.theme.getClass("root")];return ym()||l.push("fc-liquid-hack"),e.children(l,r,a,i)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}},Hn=class{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}};function UA(t,e){return{component:t,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function jo(t){return{[t.component.uid]:t}}var Pl={},xn=class extends Rt{constructor(e,n){super(e,n),this.handleRefresh=()=>{let i=this.computeTiming();i.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(i.state),this.clearTimeout(),this.setTimeout(i.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:e,state:n}=this;return e.children(n.nowDate,n.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener("visibilitychange",this.handleVisibilityChange)}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}computeTiming(){let{props:e,context:n}=this,i=n.nowManager.getDateMarker(),{nowIndicatorSnap:a}=n.options;a==="auto"&&(a=/year|month|week|day/.test(e.unit)||(e.unitValue||1)===1);let r,l;return a?(r=n.dateEnv.startOf(i,e.unit),l=n.dateEnv.add(r,te(1,e.unit)).valueOf()-i.valueOf()):(r=i,l=1e3*60),l=Math.min(1e3*60*60*24,l),{state:{nowDate:r,todayRange:OR(r)},waitMs:l}}setTimeout(e=this.computeTiming().waitMs){this.timeoutId=setTimeout(()=>{let n=this.computeTiming();this.setState(n.state,()=>{this.setTimeout(n.waitMs)})},e)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}};xn.contextType=Rn;function OR(t){let e=De(t),n=tt(e,1);return{start:e,end:n}}var Do=class{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,n){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:n})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,n){let{currentDataManager:i}=this;i.currentCalendarOptionsRefiners[e]?i.emitter.on(e,n):console.warn(`Unknown listener name '${e}'`)}off(e,n){this.currentDataManager.emitter.off(e,n)}trigger(e,...n){this.currentDataManager.emitter.trigger(e,...n)}changeView(e,n){this.batchRendering(()=>{if(this.unselect(),n)if(n.start&&n.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:n});else{let{dateEnv:i}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:i.createMarker(n)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,n){let i=this.getCurrentData(),a;n=n||"day",a=i.viewSpecs[n]||this.getUnitViewSpec(n),this.unselect(),a?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:a.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:n,toolbarConfig:i}=this.getCurrentData(),a=[].concat(i.header?i.header.viewsWithButtons:[],i.footer?i.footer.viewsWithButtons:[]),r,l;for(let s in n)a.push(s);for(r=0;r<a.length;r+=1)if(l=n[a[r]],l&&l.singleUnit===e)return l;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.nowManager.getDateMarker()})}gotoDate(e){let n=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.createMarker(e)})}incrementDate(e){let n=this.getCurrentData(),i=te(e);i&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.add(n.currentDate,i)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,n){let{dateEnv:i}=this.getCurrentData();return i.format(i.createMarker(e),Ne(n))}formatRange(e,n,i){let{dateEnv:a}=this.getCurrentData();return a.formatRange(a.createMarker(e),a.createMarker(n),Ne(i),i)}formatIso(e,n){let{dateEnv:i}=this.getCurrentData();return i.formatIso(i.createMarker(e),{omitTime:n})}select(e,n){let i;n==null?e.start!=null?i=e:i={start:e,end:null}:i={start:e,end:n};let a=this.getCurrentData(),r=TR(i,a.dateEnv,te({days:1}));r&&(this.dispatch({type:"SELECT_DATES",selection:r}),Cd(r,null,a))}unselect(e){let n=this.getCurrentData();n.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),mR(e,n))}addEvent(e,n){if(e instanceof _e){let l=e._def,s=e._instance;return this.getCurrentData().eventStore.defs[l.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:Eo({def:l,instance:s})}),this.triggerEventAdd(e)),e}let i=this.getCurrentData(),a;if(n instanceof Ca)a=n.internalEventSource;else if(typeof n=="boolean")n&&([a]=bd(i.eventSources));else if(n!=null){let l=this.getEventSourceById(n);if(!l)return console.warn(`Could not find an event source with ID "${n}"`),null;a=l.internalEventSource}let r=NA(e,a,i,!1);if(r){let l=new _e(i,r.def,r.def.recurringDef?null:r.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:Eo(r)}),this.triggerEventAdd(l),l}return null}triggerEventAdd(e){let{emitter:n}=this.getCurrentData();n.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:LA(e)})}})}getEventById(e){let n=this.getCurrentData(),{defs:i,instances:a}=n.eventStore;e=String(e);for(let r in i){let l=i[r];if(l.publicId===e){if(l.recurringDef)return new _e(n,l,null);for(let s in a){let o=a[s];if(o.defId===l.defId)return new _e(n,l,o)}}}return null}getEvents(){let e=this.getCurrentData();return ii(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),n=e.eventSources,i=[];for(let a in n)i.push(new Ca(e,n[a]));return i}getEventSourceById(e){let n=this.getCurrentData(),i=n.eventSources;e=String(e);for(let a in i)if(i[a].publicId===e)return new Ca(n,i[a]);return null}addEventSource(e){let n=this.getCurrentData();if(e instanceof Ca)return n.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let i=sm(e,n);return i?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[i]}),new Ca(n,i)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let n=te(e);n&&this.trigger("_scrollRequest",{time:n})}};function vm(t,e){return t.left>=e.left&&t.left<e.right&&t.top>=e.top&&t.top<e.bottom}function wd(t,e){let n={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return n.left<n.right&&n.top<n.bottom?n:!1}function bm(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function Em(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function Sm(t,e){return{left:t.left-e.left,top:t.top-e.top}}var bp=Nt(),Ao=class{constructor(){this.getKeysForEventDefs=j(this._getKeysForEventDefs),this.splitDateSelection=j(this._splitDateSpan),this.splitEventStore=j(this._splitEventStore),this.splitIndividualUi=j(this._splitIndividualUi),this.splitEventDrag=j(this._splitInteraction),this.splitEventResize=j(this._splitInteraction),this.eventUiBuilders={}}splitProps(e){let n=this.getKeyInfo(e),i=this.getKeysForEventDefs(e.eventStore),a=this.splitDateSelection(e.dateSelection),r=this.splitIndividualUi(e.eventUiBases,i),l=this.splitEventStore(e.eventStore,i),s=this.splitEventDrag(e.eventDrag),o=this.splitEventResize(e.eventResize),u={};this.eventUiBuilders=wn(n,(c,h)=>this.eventUiBuilders[h]||j(NR));for(let c in n){let h=n[c],d=l[c]||bp,f=this.eventUiBuilders[c];u[c]={businessHours:h.businessHours||e.businessHours,dateSelection:a[c]||null,eventStore:d,eventUiBases:f(e.eventUiBases[""],h.ui,r[c]),eventSelection:d.instances[e.eventSelection]?e.eventSelection:"",eventDrag:s[c]||null,eventResize:o[c]||null}}return u}_splitDateSpan(e){let n={};if(e){let i=this.getKeysForDateSpan(e);for(let a of i)n[a]=e}return n}_getKeysForEventDefs(e){return wn(e.defs,n=>this.getKeysForEventDef(n))}_splitEventStore(e,n){let{defs:i,instances:a}=e,r={};for(let l in i)for(let s of n[l])r[s]||(r[s]=Nt()),r[s].defs[l]=i[l];for(let l in a){let s=a[l];for(let o of n[s.defId])r[o]&&(r[o].instances[l]=s)}return r}_splitIndividualUi(e,n){let i={};for(let a in e)if(a)for(let r of n[a])i[r]||(i[r]={}),i[r][a]=e[a];return i}_splitInteraction(e){let n={};if(e){let i=this._splitEventStore(e.affectedEvents,this._getKeysForEventDefs(e.affectedEvents)),a=this._getKeysForEventDefs(e.mutatedEvents),r=this._splitEventStore(e.mutatedEvents,a),l=s=>{n[s]||(n[s]={affectedEvents:i[s]||bp,mutatedEvents:r[s]||bp,isEvent:e.isEvent})};for(let s in i)l(s);for(let s in r)l(s)}return n}};function NR(t,e,n){let i=[];t&&i.push(t),e&&i.push(e);let a={"":lm(i)};return n&&Object.assign(a,n),a}function Dm(t,e,n,i){return{dow:t.getUTCDay(),isDisabled:Boolean(i&&(!i.activeRange||!_n(i.activeRange,t))),isOther:Boolean(i&&!_n(i.currentRange,t)),isToday:Boolean(e&&_n(e,t)),isPast:Boolean(n?t<n:e?t<e.start:!1),isFuture:Boolean(n?t>n:e?t>=e.end:!1)}}function xd(t,e){let n=["fc-day",`fc-day-${hx[t.dow]}`];return t.isDisabled?n.push("fc-day-disabled"):(t.isToday&&(n.push("fc-day-today"),n.push(e.getClass("today"))),t.isPast&&n.push("fc-day-past"),t.isFuture&&n.push("fc-day-future"),t.isOther&&n.push("fc-day-other")),n}var kR=Ne({year:"numeric",month:"long",day:"numeric"}),zR=Ne({week:"long"});function xr(t,e,n="day",i=!0){let{dateEnv:a,options:r,calendarApi:l}=t,s=a.format(e,n==="week"?zR:kR);if(r.navLinks){let o=a.toDate(e),u=c=>{let h=n==="day"?r.navLinkDayClick:n==="week"?r.navLinkWeekClick:null;typeof h=="function"?h.call(l,a.toDate(e),c):(typeof h=="string"&&(n=h),l.zoomTo(e,n))};return Object.assign({title:Ul(r.navLinkHint,[s,o],s),"data-navlink":""},i?pA(u):{onClick:u})}return{"aria-label":s}}var Ep=null;function YA(){return Ep===null&&(Ep=HR()),Ep}function HR(){let t=document.createElement("div");_r(t,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),t.innerHTML="<div></div>",document.body.appendChild(t);let n=t.firstChild.getBoundingClientRect().left>t.getBoundingClientRect().left;return Mo(t),n}var Sp;function VA(){return Sp||(Sp=LR()),Sp}function LR(){let t=document.createElement("div");t.style.overflow="scroll",t.style.position="absolute",t.style.top="-9999px",t.style.left="-9999px",document.body.appendChild(t);let e=jA(t);return document.body.removeChild(t),e}function jA(t){return{x:t.offsetHeight-t.clientHeight,y:t.offsetWidth-t.clientWidth}}function PA(t,e=!1){let n=window.getComputedStyle(t),i=parseInt(n.borderLeftWidth,10)||0,a=parseInt(n.borderRightWidth,10)||0,r=parseInt(n.borderTopWidth,10)||0,l=parseInt(n.borderBottomWidth,10)||0,s=jA(t),o=s.y-i-a,u=s.x-r-l,c={borderLeft:i,borderRight:a,borderTop:r,borderBottom:l,scrollbarBottom:u,scrollbarLeft:0,scrollbarRight:0};return YA()&&n.direction==="rtl"?c.scrollbarLeft=o:c.scrollbarRight=o,e&&(c.paddingLeft=parseInt(n.paddingLeft,10)||0,c.paddingRight=parseInt(n.paddingRight,10)||0,c.paddingTop=parseInt(n.paddingTop,10)||0,c.paddingBottom=parseInt(n.paddingBottom,10)||0),c}function Am(t,e=!1,n){let i=n?t.getBoundingClientRect():Po(t),a=PA(t,e),r={left:i.left+a.borderLeft+a.scrollbarLeft,right:i.right-a.borderRight-a.scrollbarRight,top:i.top+a.borderTop,bottom:i.bottom-a.borderBottom-a.scrollbarBottom};return e&&(r.left+=a.paddingLeft,r.right-=a.paddingRight,r.top+=a.paddingTop,r.bottom-=a.paddingBottom),r}function Po(t){let e=t.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function BR(t){let e=Rd(t),n=t.getBoundingClientRect();for(let i of e){let a=wd(n,i.getBoundingClientRect());if(a)n=a;else return null}return n}function Rd(t){let e=[];for(;t instanceof HTMLElement;){let n=window.getComputedStyle(t);if(n.position==="fixed")break;/(auto|scroll)/.test(n.overflow+n.overflowY+n.overflowX)&&e.push(t),t=t.parentNode}return e}var Ln=class{constructor(e,n,i,a){this.els=n;let r=this.originClientRect=e.getBoundingClientRect();i&&this.buildElHorizontals(r.left),a&&this.buildElVerticals(r.top)}buildElHorizontals(e){let n=[],i=[];for(let a of this.els){let r=a.getBoundingClientRect();n.push(r.left-e),i.push(r.right-e)}this.lefts=n,this.rights=i}buildElVerticals(e){let n=[],i=[];for(let a of this.els){let r=a.getBoundingClientRect();n.push(r.top-e),i.push(r.bottom-e)}this.tops=n,this.bottoms=i}leftToIndex(e){let{lefts:n,rights:i}=this,a=n.length,r;for(r=0;r<a;r+=1)if(e>=n[r]&&e<i[r])return r}topToIndex(e){let{tops:n,bottoms:i}=this,a=n.length,r;for(r=0;r<a;r+=1)if(e>=n[r]&&e<i[r])return r}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return Xc(this.tops||[],e.tops||[])&&Xc(this.bottoms||[],e.bottoms||[])&&Xc(this.lefts||[],e.lefts||[])&&Xc(this.rights||[],e.rights||[])}};function Xc(t,e){let n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(Math.round(t[i])!==Math.round(e[i]))return!1;return!0}var yr=class{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}},Co=class extends yr{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}},To=class extends yr{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}},Bt=class extends se{constructor(){super(...arguments),this.uid=zi()}prepareHits(){}queryHit(e,n,i,a){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!dt(e,".fc-event-mirror")}isValidDateDownEl(e){return!dt(e,".fc-event:not(.fc-bg-event)")&&!dt(e,".fc-more-link")&&!dt(e,"a[data-navlink]")&&!dt(e,".fc-popover")}};var vr=class{constructor(e=n=>n.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let n=[];for(let i of e)this.insertEntry(i,n);return n}insertEntry(e,n){let i=this.findInsertion(e);this.isInsertionValid(i,e)?this.insertEntryAt(e,i):this.handleInvalidInsertion(i,e,n)}isInsertionValid(e,n){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(n)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,n,i){if(this.allowReslicing&&e.touchingEntry){let a=Object.assign(Object.assign({},n),{span:Fo(n.span,e.touchingEntry.span)});i.push(a),this.splitEntry(n,e.touchingEntry,i)}else i.push(n)}splitEntry(e,n,i){let a=e.span,r=n.span;a.start<r.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:a.start,end:r.start}},i),a.end>r.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:r.end,end:a.end}},i)}insertEntryAt(e,n){let{entriesByLevel:i,levelCoords:a}=this;n.lateral===-1?(Dp(a,n.level,n.levelCoord),Dp(i,n.level,[e])):Dp(i[n.level],n.lateral,e),this.stackCnts[ti(e)]=n.stackCnt}findInsertion(e){let{levelCoords:n,entriesByLevel:i,strictOrder:a,stackCnts:r}=this,l=n.length,s=0,o=-1,u=-1,c=null,h=0;for(let p=0;p<l;p+=1){let y=n[p];if(!a&&y>=s+this.getEntryThickness(e))break;let b=i[p],g,m=wo(b,e.span.start,_o),v=m[0]+m[1];for(;(g=b[v])&&g.span.start<e.span.end;){let S=y+this.getEntryThickness(g);S>s&&(s=S,c=g,o=p,u=v),S===s&&(h=Math.max(h,r[ti(g)]+1)),v+=1}}let d=0;if(c)for(d=o+1;d<l&&n[d]<s;)d+=1;let f=-1;return d<l&&n[d]===s&&(f=wo(i[d],e.span.end,_o)[0]),{touchingLevel:o,touchingLateral:u,touchingEntry:c,stackCnt:h,levelCoord:s,level:d,lateral:f}}toRects(){let{entriesByLevel:e,levelCoords:n}=this,i=e.length,a=[];for(let r=0;r<i;r+=1){let l=e[r],s=n[r];for(let o of l)a.push(Object.assign(Object.assign({},o),{thickness:this.getEntryThickness(o),levelCoord:s}))}return a}};function _o(t){return t.span.end}function ti(t){return t.index+":"+t.span.start}function Cm(t){let e=[];for(let n of t){let i=[],a={span:n.span,entries:[n]};for(let r of e)Fo(r.span,a.span)?a={entries:r.entries.concat(a.entries),span:IR(r.span,a.span)}:i.push(r);i.push(a),e=i}return e}function IR(t,e){return{start:Math.min(t.start,e.start),end:Math.max(t.end,e.end)}}function Fo(t,e){let n=Math.max(t.start,e.start),i=Math.min(t.end,e.end);return n<i?{start:n,end:i}:null}function Dp(t,e,n){t.splice(e,0,n)}function wo(t,e,n){let i=0,a=t.length;if(!a||e<n(t[i]))return[0,0];if(e>n(t[a-1]))return[a,0];for(;i<a;){let r=Math.floor(i+(a-i)/2),l=n(t[r]);if(e<l)a=r;else if(e>l)i=r+1;else return[r,1]}return[i,0]}var xo=class{constructor(e,n){this.emitter=new ki}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}},qo={};function FA(t,e){return!t||e>10?Ne({weekday:"short"}):e>1?Ne({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):Ne({weekday:"long"})}var qA="fc-col-header-cell";function GA(t){return t.text}var cd=class extends se{render(){let{dateEnv:e,options:n,theme:i,viewApi:a}=this.context,{props:r}=this,{date:l,dateProfile:s}=r,o=Dm(l,r.todayRange,null,s),u=[qA].concat(xd(o,i)),c=e.format(l,r.dayHeaderFormat),h=!o.isDisabled&&r.colCnt>1?xr(this.context,l):{},d=e.toDate(l);e.namedTimeZoneImpl&&(d=Jn(d,36e5));let f=Object.assign(Object.assign(Object.assign({date:d,view:a},r.extraRenderProps),{text:c}),o);return E(vt,{elTag:"th",elClasses:u,elAttrs:Object.assign({role:"columnheader",colSpan:r.colSpan,"data-date":o.isDisabled?void 0:Lo(l)},r.extraDataAttrs),renderProps:f,generatorName:"dayHeaderContent",customGenerator:n.dayHeaderContent,defaultGenerator:GA,classNameGenerator:n.dayHeaderClassNames,didMount:n.dayHeaderDidMount,willUnmount:n.dayHeaderWillUnmount},p=>E("div",{className:"fc-scrollgrid-sync-inner"},!o.isDisabled&&E(p,{elTag:"a",elAttrs:h,elClasses:["fc-col-header-cell-cushion",r.isSticky&&"fc-sticky"]})))}},UR=Ne({weekday:"long"}),dd=class extends se{render(){let{props:e}=this,{dateEnv:n,theme:i,viewApi:a,options:r}=this.context,l=tt(new Date(2592e5),e.dow),s={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},o=n.format(l,e.dayHeaderFormat),u=Object.assign(Object.assign(Object.assign(Object.assign({date:l},s),{view:a}),e.extraRenderProps),{text:o});return E(vt,{elTag:"th",elClasses:[qA,...xd(s,i),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:u,generatorName:"dayHeaderContent",customGenerator:r.dayHeaderContent,defaultGenerator:GA,classNameGenerator:r.dayHeaderClassNames,didMount:r.dayHeaderDidMount,willUnmount:r.dayHeaderWillUnmount},c=>E("div",{className:"fc-scrollgrid-sync-inner"},E(c,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":n.format(l,UR)}})))}},br=class extends se{constructor(){super(...arguments),this.createDayHeaderFormatter=j(YR)}render(){let{context:e}=this,{dates:n,dateProfile:i,datesRepDistinctDays:a,renderIntro:r}=this.props,l=this.createDayHeaderFormatter(e.options.dayHeaderFormat,a,n.length);return E(xn,{unit:"day"},(s,o)=>E("tr",{role:"row"},r&&r("day"),n.map(u=>a?E(cd,{key:u.toISOString(),date:u,dateProfile:i,todayRange:o,colCnt:n.length,dayHeaderFormat:l}):E(dd,{key:u.getUTCDay(),dow:u.getUTCDay(),dayHeaderFormat:l}))))}};function YR(t,e,n){return t||FA(e,n)}var Er=class{constructor(e,n){let i=e.start,{end:a}=e,r=[],l=[],s=-1;for(;i<a;)n.isHiddenDay(i)?r.push(s+.5):(s+=1,r.push(s),l.push(i)),i=tt(i,1);this.dates=l,this.indices=r,this.cnt=l.length}sliceRange(e){let n=this.getDateDayIndex(e.start),i=this.getDateDayIndex(tt(e.end,-1)),a=Math.max(0,n),r=Math.min(this.cnt-1,i);return a=Math.ceil(a),r=Math.floor(r),a<=r?{firstIndex:a,lastIndex:r,isStart:n===a,isEnd:i===r}:null}getDateDayIndex(e){let{indices:n}=this,i=Math.floor(Hi(this.dates[0],e));return i<0?n[0]-1:i>=n.length?n[n.length-1]+1:n[i]}},Sr=class{constructor(e,n){let{dates:i}=e,a,r,l;if(n){for(r=i[0].getUTCDay(),a=1;a<i.length&&i[a].getUTCDay()!==r;a+=1);l=Math.ceil(i.length/a)}else l=1,a=i.length;this.rowCnt=l,this.colCnt=a,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let n=0;n<this.rowCnt;n+=1){let i=[];for(let a=0;a<this.colCnt;a+=1)i.push(this.buildCell(n,a));e.push(i)}return e}buildCell(e,n){let i=this.daySeries.dates[e*this.colCnt+n];return{key:i.toISOString(),date:i}}buildHeaderDates(){let e=[];for(let n=0;n<this.colCnt;n+=1)e.push(this.cells[0][n].date);return e}sliceRange(e){let{colCnt:n}=this,i=this.daySeries.sliceRange(e),a=[];if(i){let{firstIndex:r,lastIndex:l}=i,s=r;for(;s<=l;){let o=Math.floor(s/n),u=Math.min((o+1)*n,l+1);a.push({row:o,firstCol:s%n,lastCol:(u-1)%n,isStart:i.isStart&&s===r,isEnd:i.isEnd&&u-1===l}),s=u}}return a}},Dr=class{constructor(){this.sliceBusinessHours=j(this._sliceBusinessHours),this.sliceDateSelection=j(this._sliceDateSpan),this.sliceEventStore=j(this._sliceEventStore),this.sliceEventDrag=j(this._sliceInteraction),this.sliceEventResize=j(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,n,i,a,...r){let{eventUiBases:l}=e,s=this.sliceEventStore(e.eventStore,l,n,i,...r);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,n,i,l,a,...r),businessHourSegs:this.sliceBusinessHours(e.businessHours,n,i,a,...r),fgEventSegs:s.fg,bgEventSegs:s.bg,eventDrag:this.sliceEventDrag(e.eventDrag,l,n,i,...r),eventResize:this.sliceEventResize(e.eventResize,l,n,i,...r),eventSelection:e.eventSelection}}sliceNowDate(e,n,i,a,...r){return this._sliceDateSpan({range:{start:e,end:Jn(e,1)},allDay:!1},n,i,{},a,...r)}_sliceBusinessHours(e,n,i,a,...r){return e?this._sliceEventStore(mr(e,Kc(n,Boolean(i)),a),{},n,i,...r).bg:[]}_sliceEventStore(e,n,i,a,...r){if(e){let l=sd(e,n,Kc(i,Boolean(a)),a);return{bg:this.sliceEventRanges(l.bg,r),fg:this.sliceEventRanges(l.fg,r)}}return{bg:[],fg:[]}}_sliceInteraction(e,n,i,a,...r){if(!e)return null;let l=sd(e.mutatedEvents,n,Kc(i,Boolean(a)),a);return{segs:this.sliceEventRanges(l.fg,r),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,n,i,a,r,...l){if(!e)return[];let s=Kc(n,Boolean(i)),o=zn(e.range,s);if(o){e=Object.assign(Object.assign({},e),{range:o});let u=RR(e,a,r),c=this.sliceRange(e.range,...l);for(let h of c)h.eventRange=u;return c}return[]}sliceEventRanges(e,n){let i=[];for(let a of e)i.push(...this.sliceEventRange(a,n));return i}sliceEventRange(e,n){let i=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(i={start:i.start,end:tt(i.start,1)});let a=this.sliceRange(i,...n);for(let r of a)r.eventRange=e,r.isStart=e.isStart&&r.isStart,r.isEnd=e.isEnd&&r.isEnd;return a}};function Kc(t,e){let n=t.activeRange;return e?n:{start:Jn(n.start,t.slotMinTime.milliseconds),end:Jn(n.end,t.slotMaxTime.milliseconds-864e5)}}function Md(t,e,n){let{instances:i}=t.mutatedEvents;for(let a in i)if(!Vl(e.validRange,i[a].range))return!1;return WA({eventDrag:t},n)}function Tm(t,e,n){return Vl(e.validRange,t.range)?WA({dateSelection:t},n):!1}function WA(t,e){let n=e.getCurrentData(),i=Object.assign({businessHours:n.businessHours,dateSelection:"",eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},t);return(e.pluginHooks.isPropsValid||QA)(i,e)}function QA(t,e,n={},i){return!(t.eventDrag&&!VR(t,e,n,i)||t.dateSelection&&!jR(t,e,n,i))}function VR(t,e,n,i){let a=e.getCurrentData(),r=t.eventDrag,l=r.mutatedEvents,s=l.defs,o=l.instances,u=od(s,r.isEvent?t.eventUiBases:{"":a.selectionConfig});i&&(u=wn(u,i));let c=cR(t.eventStore,r.affectedEvents.instances),h=c.defs,d=c.instances,f=od(h,t.eventUiBases);for(let p in o){let y=o[p],b=y.range,g=u[y.defId],m=s[y.defId];if(!ZA(g.constraints,b,c,t.businessHours,e))return!1;let{eventOverlap:v}=e.options,S=typeof v=="function"?v:null;for(let T in d){let x=d[T];if(Ed(b,x.range)&&(f[x.defId].overlap===!1&&r.isEvent||g.overlap===!1||S&&!S(new _e(e,h[x.defId],x),new _e(e,m,y))))return!1}let A=a.eventStore;for(let T of g.allows){let x=Object.assign(Object.assign({},n),{range:y.range,allDay:m.allDay}),M=A.defs[m.defId],z=A.instances[p],I;if(M?I=new _e(e,M,z):I=new _e(e,m),!T(dm(x,e),I))return!1}}return!0}function jR(t,e,n,i){let a=t.eventStore,r=a.defs,l=a.instances,s=t.dateSelection,o=s.range,{selectionConfig:u}=e.getCurrentData();if(i&&(u=i(u)),!ZA(u.constraints,o,a,t.businessHours,e))return!1;let{selectOverlap:c}=e.options,h=typeof c=="function"?c:null;for(let d in l){let f=l[d];if(Ed(o,f.range)&&(u.overlap===!1||h&&!h(new _e(e,r[f.defId],f),null)))return!1}for(let d of u.allows){let f=Object.assign(Object.assign({},n),s);if(!d(dm(f,e),null))return!1}return!0}function ZA(t,e,n,i,a){for(let r of t)if(!FR(PR(r,e,n,i,a),e))return!1;return!0}function PR(t,e,n,i,a){return t==="businessHours"?Ap(mr(i,e,a)):typeof t=="string"?Ap(Ad(n,r=>r.groupId===t)):typeof t=="object"&&t?Ap(mr(t,e,a)):[]}function Ap(t){let{instances:e}=t,n=[];for(let i in e)n.push(e[i].range);return n}function FR(t,e){for(let n of t)if(Vl(n,e))return!0;return!1}var $c=/^(visible|hidden)$/,fd=class extends se{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,dn(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:n,liquidIsAbsolute:i}=e,a=n&&i,r=["fc-scroller"];return n&&(i?r.push("fc-scroller-liquid-absolute"):r.push("fc-scroller-liquid")),E("div",{ref:this.handleEl,className:r.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:a&&-(e.overcomeLeft||0)||"",right:a&&-(e.overcomeRight||0)||"",bottom:a&&-(e.overcomeBottom||0)||"",marginLeft:!a&&-(e.overcomeLeft||0)||"",marginRight:!a&&-(e.overcomeRight||0)||"",marginBottom:!a&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if($c.test(this.props.overflowX))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:i}=e;for(let a=0;a<i.length;a+=1)if(i[a].getBoundingClientRect().width>n)return!0;return!1}needsYScrolling(){if($c.test(this.props.overflowY))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:i}=e;for(let a=0;a<i.length;a+=1)if(i[a].getBoundingClientRect().height>n)return!0;return!1}getXScrollbarWidth(){return $c.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return $c.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}},Xt=class{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(n,i)=>{let{depths:a,currentMap:r}=this,l=!1,s=!1;n!==null?(l=i in r,r[i]=n,a[i]=(a[i]||0)+1,s=!0):(a[i]-=1,a[i]||(delete r[i],delete this.callbackMap[i],l=!0)),this.masterCallback&&(l&&this.masterCallback(null,String(i)),s&&this.masterCallback(n,String(i)))}}createRef(e){let n=this.callbackMap[e];return n||(n=this.callbackMap[e]=i=>{this.handleValue(i,String(e))}),n}collect(e,n,i){return CA(this.currentMap,e,n,i)}getAll(){return bd(this.currentMap)}};function XA(t){let e=hA(t,".fc-scrollgrid-shrink"),n=0;for(let i of e)n=Math.max(n,sx(i));return Math.ceil(n)}function _m(t,e){return t.liquid&&e.liquid}function KA(t,e){return e.maxHeight!=null||_m(t,e)}function $A(t,e,n,i){let{expandRows:a}=n;return typeof e.content=="function"?e.content(n):E("table",{role:"presentation",className:[e.tableClassName,t.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:n.tableMinWidth,width:n.clientWidth,height:a?n.clientHeight:""}},n.tableColGroupNode,E(i?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(n):e.rowContent))}function JA(t,e){return ni(t,e,Zt)}function eC(t,e){let n=[];for(let i of t){let a=i.span||1;for(let r=0;r<a;r+=1)n.push(E("col",{style:{width:i.width==="shrink"?tC(e):i.width||"",minWidth:i.minWidth||""}}))}return E("colgroup",{},...n)}function tC(t){return t==null?4:t}function nC(t){for(let e of t)if(e.width==="shrink")return!0;return!1}function iC(t,e){let n=["fc-scrollgrid",e.theme.getClass("table")];return t&&n.push("fc-scrollgrid-liquid"),n}function aC(t,e){let n=["fc-scrollgrid-section",`fc-scrollgrid-section-${t.type}`,t.className];return e&&t.liquid&&t.maxHeight==null&&n.push("fc-scrollgrid-section-liquid"),t.isSticky&&n.push("fc-scrollgrid-section-sticky"),n}function Fl(t){return E("div",{className:"fc-scrollgrid-sticky-shim",style:{width:t.clientWidth,minWidth:t.tableMinWidth}})}function Rr(t){let{stickyHeaderDates:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}function Go(t){let{stickyFooterScrollbar:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}var xa=class extends se{constructor(){super(...arguments),this.processCols=j(e=>e,JA),this.renderMicroColGroup=j(eC),this.scrollerRefs=new Xt,this.scrollerElRefs=new Xt(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:n,context:i}=this,a=e.sections||[],r=this.processCols(e.cols),l=this.renderMicroColGroup(r,n.shrinkWidth),s=iC(e.liquid,i);e.collapsibleWidth&&s.push("fc-scrollgrid-collapsible");let o=a.length,u=0,c,h=[],d=[],f=[];for(;u<o&&(c=a[u]).type==="header";)h.push(this.renderSection(c,l,!0)),u+=1;for(;u<o&&(c=a[u]).type==="body";)d.push(this.renderSection(c,l,!1)),u+=1;for(;u<o&&(c=a[u]).type==="footer";)f.push(this.renderSection(c,l,!0)),u+=1;let p=!ym(),y={role:"rowgroup"};return E("table",{role:"grid",className:s.join(" "),style:{height:e.height}},Boolean(!p&&h.length)&&E("thead",y,...h),Boolean(!p&&d.length)&&E("tbody",y,...d),Boolean(!p&&f.length)&&E("tfoot",y,...f),p&&E("tbody",y,...h,...d,...f))}renderSection(e,n,i){return"outerContent"in e?E(me,{key:e.key},e.outerContent):E("tr",{key:e.key,role:"presentation",className:aC(e,this.props.liquid).join(" ")},this.renderChunkTd(e,n,e.chunk,i))}renderChunkTd(e,n,i,a){if("outerContent"in i)return i.outerContent;let{props:r}=this,{forceYScrollbars:l,scrollerClientWidths:s,scrollerClientHeights:o}=this.state,u=KA(r,e),c=_m(r,e),h=r.liquid?l?"scroll":u?"auto":"hidden":"visible",d=e.key,f=$A(e,i,{tableColGroupNode:n,tableMinWidth:"",clientWidth:!r.collapsibleWidth&&s[d]!==void 0?s[d]:null,clientHeight:o[d]!==void 0?o[d]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},a);return E(a?"th":"td",{ref:i.elRef,role:"presentation"},E("div",{className:`fc-scroller-harness${c?" fc-scroller-harness-liquid":""}`},E(fd,{ref:this.scrollerRefs.createRef(d),elRef:this.scrollerElRefs.createRef(d),overflowY:h,overflowX:r.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:c,liquidIsAbsolute:!0},f)))}_handleScrollerEl(e,n){let i=qR(this.props.sections,n);i&&dn(i.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return nC(this.props.cols)?XA(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=VA(),{scrollerRefs:n,scrollerElRefs:i}=this,a=!1,r={},l={};for(let s in n.currentMap){let o=n.currentMap[s];if(o&&o.needsYScrolling()){a=!0;break}}for(let s of this.props.sections){let o=s.key,u=i.currentMap[o];if(u){let c=u.parentNode;r[o]=Math.floor(c.getBoundingClientRect().width-(a?e.y:0)),l[o]=Math.floor(c.getBoundingClientRect().height)}}return{forceYScrollbars:a,scrollerClientWidths:r,scrollerClientHeights:l}}};xa.addStateEquality({scrollerClientWidths:Zt,scrollerClientHeights:Zt});function qR(t,e){for(let n of t)if(n.key===e)return n;return null}var Ar=class extends se{constructor(){super(...arguments),this.buildPublicEvent=j((e,n,i)=>new _e(e,n,i)),this.handleEl=e=>{this.el=e,dn(this.props.elRef,e),e&&sA(e,this.props.seg)}}render(){let{props:e,context:n}=this,{options:i}=n,{seg:a}=e,{eventRange:r}=a,{ui:l}=r,s={event:this.buildPublicEvent(n,r.def,r.instance),view:n.viewApi,timeText:e.timeText,textColor:l.textColor,backgroundColor:l.backgroundColor,borderColor:l.borderColor,isDraggable:!e.disableDragging&&ER(a,n),isStartResizable:!e.disableResizing&&SR(a,n),isEndResizable:!e.disableResizing&&DR(a),isMirror:Boolean(e.isDragging||e.isResizing||e.isDateSelecting),isStart:Boolean(a.isStart),isEnd:Boolean(a.isEnd),isPast:Boolean(e.isPast),isFuture:Boolean(e.isFuture),isToday:Boolean(e.isToday),isSelected:Boolean(e.isSelected),isDragging:Boolean(e.isDragging),isResizing:Boolean(e.isResizing)};return E(vt,{elRef:this.handleEl,elTag:e.elTag,elAttrs:e.elAttrs,elClasses:[...AR(s),...a.eventRange.ui.classNames,...e.elClasses||[]],elStyle:e.elStyle,renderProps:s,generatorName:"eventContent",customGenerator:i.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:i.eventClassNames,didMount:i.eventDidMount,willUnmount:i.eventWillUnmount},e.children)}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&sA(this.el,this.props.seg)}},Ra=class extends se{render(){let{props:e,context:n}=this,{options:i}=n,{seg:a}=e,{ui:r}=a.eventRange,l=i.eventTimeFormat||e.defaultTimeFormat,s=Td(a,l,n,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return E(Ar,Object.assign({},e,{elTag:"a",elStyle:{borderColor:r.borderColor,backgroundColor:r.backgroundColor},elAttrs:_d(a,n),defaultGenerator:GR,timeText:s}),(o,u)=>E(me,null,E(o,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:u.textColor}}),Boolean(u.isStartResizable)&&E("div",{className:"fc-event-resizer fc-event-resizer-start"}),Boolean(u.isEndResizable)&&E("div",{className:"fc-event-resizer fc-event-resizer-end"})))}};Ra.addPropsEquality({seg:Zt});function GR(t){return E("div",{className:"fc-event-main-frame"},t.timeText&&E("div",{className:"fc-event-time"},t.timeText),E("div",{className:"fc-event-title-container"},E("div",{className:"fc-event-title fc-sticky"},t.event.title||E(me,null,"\xA0"))))}var Wo=t=>E(Rn.Consumer,null,e=>{let{options:n}=e,i={isAxis:t.isAxis,date:e.dateEnv.toDate(t.date),view:e.viewApi};return E(vt,{elRef:t.elRef,elTag:t.elTag||"div",elAttrs:t.elAttrs,elClasses:t.elClasses,elStyle:t.elStyle,renderProps:i,generatorName:"nowIndicatorContent",customGenerator:n.nowIndicatorContent,classNameGenerator:n.nowIndicatorClassNames,didMount:n.nowIndicatorDidMount,willUnmount:n.nowIndicatorWillUnmount},t.children)}),WR=Ne({day:"numeric"}),Ma=class extends se{constructor(){super(...arguments),this.refineRenderProps=Yl(QR)}render(){let{props:e,context:n}=this,{options:i}=n,a=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:n.viewApi,dateEnv:n.dateEnv,monthStartFormat:i.monthStartFormat});return E(vt,{elRef:e.elRef,elTag:e.elTag,elAttrs:Object.assign(Object.assign({},e.elAttrs),a.isDisabled?{}:{"data-date":Lo(e.date)}),elClasses:[...xd(a,n.theme),...e.elClasses||[]],elStyle:e.elStyle,renderProps:a,generatorName:"dayCellContent",customGenerator:i.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:a.isDisabled?void 0:i.dayCellClassNames,didMount:i.dayCellDidMount,willUnmount:i.dayCellWillUnmount},e.children)}};function ql(t){return Boolean(t.dayCellContent||Op("dayCellContent",t))}function QR(t){let{date:e,dateEnv:n,dateProfile:i,isMonthStart:a}=t,r=Dm(e,t.todayRange,null,i),l=t.showDayNumber?n.format(e,a?t.monthStartFormat:WR):"";return Object.assign(Object.assign(Object.assign({date:n.toDate(e),view:t.viewApi},r),{isMonthStart:a,dayNumberText:l}),t.extraRenderProps)}var Cr=class extends se{render(){let{props:e}=this,{seg:n}=e;return E(Ar,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:n.eventRange.ui.backgroundColor},defaultGenerator:ZR,seg:n,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}};function ZR(t){let{title:e}=t.event;return e&&E("div",{className:"fc-event-title"},t.event.title)}function Qo(t){return E("div",{className:`fc-${t}`})}var Zo=t=>E(Rn.Consumer,null,e=>{let{dateEnv:n,options:i}=e,{date:a}=t,r=i.weekNumberFormat||t.defaultFormat,l=n.computeWeekNumber(a),s=n.format(a,r),o={num:l,text:s,date:a};return E(vt,{elRef:t.elRef,elTag:t.elTag,elAttrs:t.elAttrs,elClasses:t.elClasses,elStyle:t.elStyle,renderProps:o,generatorName:"weekNumberContent",customGenerator:i.weekNumberContent,defaultGenerator:XR,classNameGenerator:i.weekNumberClassNames,didMount:i.weekNumberDidMount,willUnmount:i.weekNumberWillUnmount},t.children)});function XR(t){return t.text}var Cp=10,kp=class extends se{constructor(){super(...arguments),this.state={titleId:wr()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&dn(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{let n=hd(e);this.rootEl.contains(n)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:n}=this.context,{props:i,state:a}=this,r=["fc-popover",e.getClass("popover")].concat(i.extraClassNames||[]);return ZD(E("div",Object.assign({},i.extraAttrs,{id:i.id,className:r.join(" "),"aria-labelledby":a.titleId,ref:this.handleRootEl}),E("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},E("span",{className:"fc-popover-title",id:a.titleId},i.title),E("span",{className:"fc-popover-close "+e.getIconClass("close"),title:n.closeHint,onClick:this.handleCloseClick})),E("div",{className:"fc-popover-body "+e.getClass("popoverContent")},i.children)),i.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:n,alignGridTop:i}=this.props,{rootEl:a}=this,r=BR(n);if(r){let l=a.getBoundingClientRect(),s=i?dt(n,".fc-scrollgrid").getBoundingClientRect().top:r.top,o=e?r.right-l.width:r.left;s=Math.max(s,Cp),o=Math.min(o,document.documentElement.clientWidth-Cp-l.width),o=Math.max(o,Cp);let u=a.offsetParent.getBoundingClientRect();_r(a,{top:s-u.top,left:o-u.left})}}},zp=class extends Bt{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:n}=this.context,{props:i}=this,{startDate:a,todayRange:r,dateProfile:l}=i,s=n.format(a,e.dayPopoverFormat);return E(Ma,{elRef:this.handleRootEl,date:a,dateProfile:l,todayRange:r},(o,u,c)=>E(kp,{elRef:c.ref,id:i.id,title:s,extraClassNames:["fc-more-popover"].concat(c.className||[]),extraAttrs:c,parentEl:i.parentEl,alignmentEl:i.alignmentEl,alignGridTop:i.alignGridTop,onClose:i.onClose},ql(e)&&E(o,{elTag:"div",elClasses:["fc-more-popover-misc"]}),i.children))}queryHit(e,n,i,a){let{rootEl:r,props:l}=this;return e>=0&&e<i&&n>=0&&n<a?{dateProfile:l.dateProfile,dateSpan:Object.assign({allDay:!l.forceTimed,range:{start:l.startDate,end:l.endDate}},l.extraDateSpan),dayEl:r,rect:{left:0,top:0,right:i,bottom:a},layer:1}:null}},Tr=class extends se{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:wr()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&dn(this.props.elRef,e)},this.handleClick=e=>{let{props:n,context:i}=this,{moreLinkClick:a}=i.options,r=oA(n).start;function l(s){let{def:o,instance:u,range:c}=s.eventRange;return{event:new _e(i,o,u),start:i.dateEnv.toDate(c.start),end:i.dateEnv.toDate(c.end),isStart:s.isStart,isEnd:s.isEnd}}typeof a=="function"&&(a=a({date:r,allDay:Boolean(n.allDayDate),allSegs:n.allSegs.map(l),hiddenSegs:n.hiddenSegs.map(l),jsEvent:e,view:i.viewApi})),!a||a==="popover"?this.setState({isPopoverOpen:!0}):typeof a=="string"&&i.calendarApi.zoomTo(r,a)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:n}=this;return E(Rn.Consumer,null,i=>{let{viewApi:a,options:r,calendarApi:l}=i,{moreLinkText:s}=r,{moreCnt:o}=e,u=oA(e),c=typeof s=="function"?s.call(l,o):`+${o} ${s}`,h=Ul(r.moreLinkHint,[o],c),d={num:o,shortText:`+${o}`,text:c,view:a};return E(me,null,Boolean(e.moreCnt)&&E(vt,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),pA(this.handleClick)),{title:h,"aria-expanded":n.isPopoverOpen,"aria-controls":n.isPopoverOpen?n.popoverId:""}),renderProps:d,generatorName:"moreLinkContent",customGenerator:r.moreLinkContent,defaultGenerator:e.defaultGenerator||KR,classNameGenerator:r.moreLinkClassNames,didMount:r.moreLinkDidMount,willUnmount:r.moreLinkWillUnmount},e.children),n.isPopoverOpen&&E(zp,{id:n.popoverId,startDate:u.start,endDate:u.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=dt(this.linkEl,".fc-view-harness"))}};function KR(t){return t.text}function oA(t){if(t.allDayDate)return{start:t.allDayDate,end:tt(t.allDayDate,1)};let{hiddenSegs:e}=t;return{start:Od(e),end:JR(e)}}function Od(t){return t.reduce($R).eventRange.range.start}function $R(t,e){return t.eventRange.range.start<e.eventRange.range.start?t:e}function JR(t){return t.reduce(eM).eventRange.range.end}function eM(t,e){return t.eventRange.range.end>e.eventRange.range.end?t:e}var Hp=class{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let n of this.handlers)n(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}},Ro=class extends Hp{constructor(){super(...arguments),this.map=new Map}handle(e){let{map:n}=this,i=!1;e.isActive?(n.set(e.id,e),i=!0):n.has(e.id)&&(n.delete(e.id),i=!0),i&&this.set(n)}};var tM=[],dC={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},fC=Object.assign(Object.assign({},dC),{buttonHints:{prev:"Previous $0",next:"Next $0",today(t,e){return e==="day"?"Today":`This ${t}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(t){return`Show ${t} more event${t===1?"":"s"}`}});function nM(t){let e=t.length>0?t[0].code:"en",n=tM.concat(t),i={en:fC};for(let a of n)i[a.code]=a;return{map:i,defaultCode:e}}function hC(t,e){return typeof t=="object"&&!Array.isArray(t)?gC(t.code,[t.code],t):iM(t,e)}function iM(t,e){let n=[].concat(t||[]),i=aM(n,e)||fC;return gC(t,n,i)}function aM(t,e){for(let n=0;n<t.length;n+=1){let i=t[n].toLocaleLowerCase().split("-");for(let a=i.length;a>0;a-=1){let r=i.slice(0,a).join("-");if(e[r])return e[r]}}return null}function gC(t,e,n){let i=vd([dC,n],["buttonText"]);delete i.code;let{week:a}=i;return delete i.week,{codeArg:t,codes:e,week:a,simpleNumberFormat:new Intl.NumberFormat(t),options:i}}function Mn(t){return{id:zi(),name:t.name,premiumReleaseDate:t.premiumReleaseDate?new Date(t.premiumReleaseDate):void 0,deps:t.deps||[],reducers:t.reducers||[],isLoadingFuncs:t.isLoadingFuncs||[],contextInit:[].concat(t.contextInit||[]),eventRefiners:t.eventRefiners||{},eventDefMemberAdders:t.eventDefMemberAdders||[],eventSourceRefiners:t.eventSourceRefiners||{},isDraggableTransformers:t.isDraggableTransformers||[],eventDragMutationMassagers:t.eventDragMutationMassagers||[],eventDefMutationAppliers:t.eventDefMutationAppliers||[],dateSelectionTransformers:t.dateSelectionTransformers||[],datePointTransforms:t.datePointTransforms||[],dateSpanTransforms:t.dateSpanTransforms||[],views:t.views||{},viewPropsTransformers:t.viewPropsTransformers||[],isPropsValid:t.isPropsValid||null,externalDefTransforms:t.externalDefTransforms||[],viewContainerAppends:t.viewContainerAppends||[],eventDropTransformers:t.eventDropTransformers||[],componentInteractions:t.componentInteractions||[],calendarInteractions:t.calendarInteractions||[],themeClasses:t.themeClasses||{},eventSourceDefs:t.eventSourceDefs||[],cmdFormatter:t.cmdFormatter,recurringTypes:t.recurringTypes||[],namedTimeZonedImpl:t.namedTimeZonedImpl,initialView:t.initialView||"",elementDraggingImpl:t.elementDraggingImpl,optionChangeHandlers:t.optionChangeHandlers||{},scrollGridImpl:t.scrollGridImpl||null,listenerRefiners:t.listenerRefiners||{},optionRefiners:t.optionRefiners||{},propSetHandlers:t.propSetHandlers||{}}}function rM(t,e){let n={},i={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function a(r){for(let l of r){let s=l.name,o=n[s];o===void 0?(n[s]=l.id,a(l.deps),i=sM(i,l)):o!==l.id&&console.warn(`Duplicate plugin '${s}'`)}}return t&&a(t),a(e),i}function lM(){let t=[],e=[],n;return(i,a)=>((!n||!ni(i,t)||!ni(a,e))&&(n=rM(i,a)),t=i,e=a,n)}function sM(t,e){return{premiumReleaseDate:oM(t.premiumReleaseDate,e.premiumReleaseDate),reducers:t.reducers.concat(e.reducers),isLoadingFuncs:t.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:t.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},t.eventRefiners),e.eventRefiners),eventDefMemberAdders:t.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},t.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:t.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:t.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:t.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:t.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:t.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:t.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},t.views),e.views),viewPropsTransformers:t.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||t.isPropsValid,externalDefTransforms:t.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:t.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:t.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:t.calendarInteractions.concat(e.calendarInteractions),componentInteractions:t.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},t.themeClasses),e.themeClasses),eventSourceDefs:t.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||t.cmdFormatter,recurringTypes:t.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||t.namedTimeZonedImpl,initialView:t.initialView||e.initialView,elementDraggingImpl:t.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},t.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||t.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},t.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},t.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},t.propSetHandlers),e.propSetHandlers)}}function oM(t,e){return t===void 0?e:e===void 0?t:new Date(Math.max(t.valueOf(),e.valueOf()))}var ai=class extends Oi{};ai.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};ai.prototype.baseIconClass="fc-icon";ai.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};ai.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};ai.prototype.iconOverrideOption="buttonIcons";ai.prototype.iconOverrideCustomButtonOption="icon";ai.prototype.iconOverridePrefix="fc-icon-";function uM(t,e){let n={},i;for(i in t)xm(i,n,t,e);for(i in e)xm(i,n,t,e);return n}function xm(t,e,n,i){if(e[t])return e[t];let a=cM(t,e,n,i);return a&&(e[t]=a),a}function cM(t,e,n,i){let a=n[t],r=i[t],l=c=>a&&a[c]!==null?a[c]:r&&r[c]!==null?r[c]:null,s=l("component"),o=l("superType"),u=null;if(o){if(o===t)throw new Error("Can't have a custom view type that references itself");u=xm(o,e,n,i)}return!s&&u&&(s=u.component),s?{type:t,component:s,defaults:Object.assign(Object.assign({},u?u.defaults:{}),a?a.rawOptions:{}),overrides:Object.assign(Object.assign({},u?u.overrides:{}),r?r.rawOptions:{})}:null}function rC(t){return wn(t,dM)}function dM(t){let e=typeof t=="function"?{component:t}:t,{component:n}=e;return e.content?n=lC(e):n&&!(n.prototype instanceof se)&&(n=lC(Object.assign(Object.assign({},e),{content:n}))),{superType:e.type,component:n,rawOptions:e}}function lC(t){return e=>E(Rn.Consumer,null,n=>E(vt,{elTag:"div",elClasses:im(n.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:n.options.nextDayThreshold}),generatorName:void 0,customGenerator:t.content,classNameGenerator:t.classNames,didMount:t.didMount,willUnmount:t.willUnmount}))}function fM(t,e,n,i){let a=rC(t),r=rC(e.views),l=uM(a,r);return wn(l,s=>hM(s,r,e,n,i))}function hM(t,e,n,i,a){let r=t.overrides.duration||t.defaults.duration||i.duration||n.duration,l=null,s="",o="",u={};if(r&&(l=gM(r),l)){let d=go(l);s=d.unit,d.value===1&&(o=s,u=e[s]?e[s].rawOptions:{})}let c=d=>{let f=d.buttonText||{},p=t.defaults.buttonTextKey;return p!=null&&f[p]!=null?f[p]:f[t.type]!=null?f[t.type]:f[o]!=null?f[o]:null},h=d=>{let f=d.buttonHints||{},p=t.defaults.buttonTextKey;return p!=null&&f[p]!=null?f[p]:f[t.type]!=null?f[t.type]:f[o]!=null?f[o]:null};return{type:t.type,component:t.component,duration:l,durationUnit:s,singleUnit:o,optionDefaults:t.defaults,optionOverrides:Object.assign(Object.assign({},u),t.overrides),buttonTextOverride:c(i)||c(n)||t.overrides.buttonText,buttonTextDefault:c(a)||t.defaults.buttonText||c(Oa)||t.type,buttonTitleOverride:h(i)||h(n)||t.overrides.buttonHint,buttonTitleDefault:h(a)||t.defaults.buttonHint||h(Oa)}}var sC={};function gM(t){let e=JSON.stringify(t),n=sC[e];return n===void 0&&(n=te(t),sC[e]=n),n}function pM(t,e){switch(e.type){case"CHANGE_VIEW_TYPE":t=e.viewType}return t}function mM(t,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return t}}function yM(t,e,n){let i=t.initialDate;return i!=null?e.createMarker(i):n.getDateMarker()}function vM(t,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},t),{[e.optionName]:e.rawOptionValue});default:return t}}function bM(t,e,n,i){let a;switch(e.type){case"CHANGE_VIEW_TYPE":return i.build(e.dateMarker||n);case"CHANGE_DATE":return i.build(e.dateMarker);case"PREV":if(a=i.buildPrev(t,n),a.isValid)return a;break;case"NEXT":if(a=i.buildNext(t,n),a.isValid)return a;break}return t}function EM(t,e,n){let i=e?e.activeRange:null;return mC({},wM(t,n),i,n)}function SM(t,e,n,i){let a=n?n.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return mC(t,e.sources,a,i);case"REMOVE_EVENT_SOURCE":return AM(t,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?yC(t,a,i):t;case"FETCH_EVENT_SOURCES":return Bm(t,e.sourceIds?em(e.sourceIds):vC(t,i),a,e.isRefetch||!1,i);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return _M(t,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return t}}function DM(t,e,n){let i=e?e.activeRange:null;return Bm(t,vC(t,n),i,!0,n)}function pC(t){for(let e in t)if(t[e].isFetching)return!0;return!1}function mC(t,e,n,i){let a={};for(let r of e)a[r.sourceId]=r;return n&&(a=yC(a,n,i)),Object.assign(Object.assign({},t),a)}function AM(t,e){return Mi(t,n=>n.sourceId!==e)}function yC(t,e,n){return Bm(t,Mi(t,i=>CM(i,e,n)),e,!1,n)}function CM(t,e,n){return bC(t,n)?!n.options.lazyFetching||!t.fetchRange||t.isFetching||e.start<t.fetchRange.start||e.end>t.fetchRange.end:!t.latestFetchId}function Bm(t,e,n,i,a){let r={};for(let l in t){let s=t[l];e[l]?r[l]=TM(s,n,i,a):r[l]=s}return r}function TM(t,e,n,i){let{options:a,calendarApi:r}=i,l=i.pluginHooks.eventSourceDefs[t.sourceDefId],s=zi();return l.fetch({eventSource:t,range:e,isRefetch:n,context:i},o=>{let{rawEvents:u}=o;a.eventSourceSuccess&&(u=a.eventSourceSuccess.call(r,u,o.response)||u),t.success&&(u=t.success.call(r,u,o.response)||u),i.dispatch({type:"RECEIVE_EVENTS",sourceId:t.sourceId,fetchId:s,fetchRange:e,rawEvents:u})},o=>{let u=!1;a.eventSourceFailure&&(a.eventSourceFailure.call(r,o),u=!0),t.failure&&(t.failure(o),u=!0),u||console.warn(o.message,o),i.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:t.sourceId,fetchId:s,fetchRange:e,error:o})}),Object.assign(Object.assign({},t),{isFetching:!0,latestFetchId:s})}function _M(t,e,n,i){let a=t[e];return a&&n===a.latestFetchId?Object.assign(Object.assign({},t),{[e]:Object.assign(Object.assign({},a),{isFetching:!1,fetchRange:i})}):t}function vC(t,e){return Mi(t,n=>bC(n,e))}function wM(t,e){let n=om(e),i=[].concat(t.eventSources||[]),a=[];t.initialEvents&&i.unshift(t.initialEvents),t.events&&i.unshift(t.events);for(let r of i){let l=sm(r,e,n);l&&a.push(l)}return a}function bC(t,e){return!e.pluginHooks.eventSourceDefs[t.sourceDefId].ignoreRange}function xM(t,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return t}}function RM(t,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return t}}function MM(t,e){let n;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function OM(t,e){let n;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function NM(t,e,n,i,a){let r=t.headerToolbar?oC(t.headerToolbar,t,e,n,i,a):null,l=t.footerToolbar?oC(t.footerToolbar,t,e,n,i,a):null;return{header:r,footer:l}}function oC(t,e,n,i,a,r){let l={},s=[],o=!1;for(let u in t){let c=t[u],h=kM(c,e,n,i,a,r);l[u]=h.widgets,s.push(...h.viewsWithButtons),o=o||h.hasTitle}return{sectionWidgets:l,viewsWithButtons:s,hasTitle:o}}function kM(t,e,n,i,a,r){let l=e.direction==="rtl",s=e.customButtons||{},o=n.buttonText||{},u=e.buttonText||{},c=n.buttonHints||{},h=e.buttonHints||{},d=t?t.split(" "):[],f=[],p=!1;return{widgets:d.map(b=>b.split(",").map(g=>{if(g==="title")return p=!0,{buttonName:g};let m,v,S,A,T,x;if(m=s[g])S=M=>{m.click&&m.click.call(M.target,M,M.target)},(A=i.getCustomButtonIconClass(m))||(A=i.getIconClass(g,l))||(T=m.text),x=m.hint||m.text;else if(v=a[g]){f.push(g),S=()=>{r.changeView(g)},(T=v.buttonTextOverride)||(A=i.getIconClass(g,l))||(T=v.buttonTextDefault);let M=v.buttonTextOverride||v.buttonTextDefault;x=Ul(v.buttonTitleOverride||v.buttonTitleDefault||e.viewHint,[M,g],M)}else if(r[g])if(S=()=>{r[g]()},(T=o[g])||(A=i.getIconClass(g,l))||(T=u[g]),g==="prevYear"||g==="nextYear"){let M=g==="prevYear"?"prev":"next";x=Ul(c[M]||h[M],[u.year||"year","year"],u[g])}else x=M=>Ul(c[g]||h[g],[u[M]||M,M],u[g]);return{buttonName:g,buttonClick:S,buttonIcon:A,buttonText:T,buttonHint:x}})),viewsWithButtons:f,hasTitle:p}}var Rm=class{constructor(e,n,i){this.type=e,this.getCurrentData=n,this.dateEnv=i}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}},zM={ignoreRange:!0,parseMeta(t){return Array.isArray(t.events)?t.events:null},fetch(t,e){e({rawEvents:t.eventSource.meta})}},HM=Mn({name:"array-event-source",eventSourceDefs:[zM]}),LM={parseMeta(t){return typeof t.events=="function"?t.events:null},fetch(t,e,n){let{dateEnv:i}=t.context,a=t.eventSource.meta;pm(a.bind(null,gm(t.range,i)),r=>e({rawEvents:r}),n)}},BM=Mn({name:"func-event-source",eventSourceDefs:[LM]}),IM={method:String,extraParams:w,startParam:String,endParam:String,timeZoneParam:String},UM={parseMeta(t){return t.url&&(t.format==="json"||!t.format)?{url:t.url,format:"json",method:(t.method||"GET").toUpperCase(),extraParams:t.extraParams,startParam:t.startParam,endParam:t.endParam,timeZoneParam:t.timeZoneParam}:null},fetch(t,e,n){let{meta:i}=t.eventSource,a=VM(i,t.range,t.context);mm(i.method,i.url,a).then(([r,l])=>{e({rawEvents:r,response:l})},n)}},YM=Mn({name:"json-event-source",eventSourceRefiners:IM,eventSourceDefs:[UM]});function VM(t,e,n){let{dateEnv:i,options:a}=n,r,l,s,o,u={};return r=t.startParam,r==null&&(r=a.startParam),l=t.endParam,l==null&&(l=a.endParam),s=t.timeZoneParam,s==null&&(s=a.timeZoneParam),typeof t.extraParams=="function"?o=t.extraParams():o=t.extraParams||{},Object.assign(u,o),u[r]=i.formatIso(e.start),u[l]=i.formatIso(e.end),i.timeZone!=="local"&&(u[s]=i.timeZone),u}var jM={daysOfWeek:w,startTime:te,endTime:te,duration:te,startRecur:w,endRecur:w},PM={parse(t,e){if(t.daysOfWeek||t.startTime||t.endTime||t.startRecur||t.endRecur){let n={daysOfWeek:t.daysOfWeek||null,startTime:t.startTime||null,endTime:t.endTime||null,startRecur:t.startRecur?e.createMarker(t.startRecur):null,endRecur:t.endRecur?e.createMarker(t.endRecur):null,dateEnv:e},i;return t.duration&&(i=t.duration),!i&&t.startTime&&t.endTime&&(i=EA(t.endTime,t.startTime)),{allDayGuess:Boolean(!t.startTime&&!t.endTime),duration:i,typeData:n}}return null},expand(t,e,n){let i=zn(e,{start:t.startRecur,end:t.endRecur});return i?qM(t.daysOfWeek,t.startTime,t.dateEnv,n,i):[]}},FM=Mn({name:"simple-recurring-event",recurringTypes:[PM],eventRefiners:jM});function qM(t,e,n,i,a){let r=t?em(t):null,l=De(a.start),s=a.end,o=[];for(e&&(e.milliseconds<0?s=tt(s,1):e.milliseconds>=1e3*60*60*24&&(l=tt(l,-1)));l<s;){let u;(!r||r[l.getUTCDay()])&&(e?u=i.add(l,e):u=l,o.push(i.createMarker(n.toDate(u)))),l=tt(l,1)}return o}var GM=Mn({name:"change-handler",optionChangeHandlers:{events(t,e){uC([t],e)},eventSources:uC}});function uC(t,e){let n=bd(e.getCurrentData().eventSources);if(n.length===1&&t.length===1&&Array.isArray(n[0]._raw)&&Array.isArray(t[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:n[0].sourceId,rawEvents:t[0]});return}let i=[];for(let a of t){let r=!1;for(let l=0;l<n.length;l+=1)if(n[l]._raw===a){n.splice(l,1),r=!0;break}r||i.push(a)}for(let a of n)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:a.sourceId});for(let a of i)e.calendarApi.addEventSource(a)}function WM(t,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},gm(t.activeRange,e.dateEnv)),{view:e.viewApi}))}function QM(t,e){let{emitter:n}=e;n.hasHandlers("eventsSet")&&n.trigger("eventsSet",ii(t,e))}var ZM=[HM,BM,YM,FM,GM,Mn({name:"misc",isLoadingFuncs:[t=>pC(t.eventSources)],propSetHandlers:{dateProfile:WM,eventStore:QM}})],Mm=class{constructor(e,n){this.runTaskOption=e,this.drainedOption=n,this.queue=[],this.delayedRunner=new gr(this.drain.bind(this))}request(e,n){this.queue.push(e),this.delayedRunner.request(n)}pause(e){this.delayedRunner.pause(e)}resume(e,n){this.delayedRunner.resume(e,n)}drain(){let{queue:e}=this;for(;e.length;){let n=[],i;for(;i=e.shift();)this.runTask(i),n.push(i);this.drained(n)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}};function XM(t,e,n){let i;return/^(year|month)$/.test(t.currentRangeUnit)?i=t.currentRange:i=t.activeRange,n.formatRange(i.start,i.end,Ne(e.titleFormat||KM(t)),{isEndExclusive:t.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function KM(t){let{currentRangeUnit:e}=t;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let n=Bl(t.currentRange.start,t.currentRange.end);return n!==null&&n>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}var Nd=class{constructor(){this.resetListeners=new Set}handleInput(e,n){let i=this.dateEnv;if(e!==i&&(typeof n=="function"?this.nowFn=n:i||(this.nowAnchorDate=e.toDate(n?e.createMarker(n):e.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=e,i))for(let a of this.resetListeners.values())a()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(e){this.resetListeners.add(e)}removeResetListener(e){this.resetListeners.delete(e)}},Om=class{constructor(e){this.computeCurrentViewData=j(this._computeCurrentViewData),this.organizeRawLocales=j(nM),this.buildLocale=j(hC),this.buildPluginHooks=lM(),this.buildDateEnv=j($M),this.buildTheme=j(JM),this.parseToolbars=j(NM),this.buildViewSpecs=j(fM),this.buildDateProfileGenerator=Yl(eO),this.buildViewApi=j(tO),this.buildViewUiProps=Yl(aO),this.buildEventUiBySource=j(nO,Zt),this.buildEventUiBases=j(iO),this.parseContextBusinessHours=Yl(rO),this.buildTitle=j(XM),this.nowManager=new Nd,this.emitter=new ki,this.actionRunner=new Mm(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=d=>{this.actionRunner.request(d)},this.props=e,this.actionRunner.pause(),this.nowManager=new Nd;let n={},i=this.computeOptionsData(e.optionOverrides,n,e.calendarApi),a=i.calendarOptions.initialView||i.pluginHooks.initialView,r=this.computeCurrentViewData(a,i,e.optionOverrides,n);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(r.options);let l={nowManager:this.nowManager,dateEnv:i.dateEnv,options:i.calendarOptions,pluginHooks:i.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},s=yM(i.calendarOptions,i.dateEnv,this.nowManager),o=r.dateProfileGenerator.build(s);_n(o.activeRange,s)||(s=o.currentRange.start);for(let d of i.pluginHooks.contextInit)d(l);let u=EM(i.calendarOptions,o,l),c={dynamicOptionOverrides:n,currentViewType:a,currentDate:s,dateProfile:o,businessHours:this.parseContextBusinessHours(l),eventSources:u,eventUiBases:{},eventStore:Nt(),renderableEventStore:Nt(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(l).selectionConfig},h=Object.assign(Object.assign({},l),c);for(let d of i.pluginHooks.reducers)Object.assign(c,d(null,null,h));wm(c,l)&&this.emitter.trigger("loading",!0),this.state=c,this.updateData(),this.actionRunner.resume()}resetOptions(e,n){let{props:i}=this;n===void 0?i.optionOverrides=e:(i.optionOverrides=Object.assign(Object.assign({},i.optionOverrides||{}),e),this.optionsForRefining.push(...n)),(n===void 0||n.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:n,state:i,emitter:a}=this,r=vM(i.dynamicOptionOverrides,e),l=this.computeOptionsData(n.optionOverrides,r,n.calendarApi),s=pM(i.currentViewType,e),o=this.computeCurrentViewData(s,l,n.optionOverrides,r);n.calendarApi.currentDataManager=this,a.setThisContext(n.calendarApi),a.setOptions(o.options);let u={nowManager:this.nowManager,dateEnv:l.dateEnv,options:l.calendarOptions,pluginHooks:l.pluginHooks,calendarApi:n.calendarApi,dispatch:this.dispatch,emitter:a,getCurrentData:this.getCurrentData},{currentDate:c,dateProfile:h}=i;this.data&&this.data.dateProfileGenerator!==o.dateProfileGenerator&&(h=o.dateProfileGenerator.build(c)),c=mM(c,e),h=bM(h,e,c,o.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!_n(h.currentRange,c))&&(c=h.currentRange.start);let d=SM(i.eventSources,e,h,u),f=kA(i.eventStore,e,d,h,u),y=pC(d)&&!o.options.progressiveEventRendering&&i.renderableEventStore||f,{eventUiSingleBase:b,selectionConfig:g}=this.buildViewUiProps(u),m=this.buildEventUiBySource(d),v=this.buildEventUiBases(y.defs,b,m),S={dynamicOptionOverrides:r,currentViewType:s,currentDate:c,dateProfile:h,eventSources:d,eventStore:f,renderableEventStore:y,selectionConfig:g,eventUiBases:v,businessHours:this.parseContextBusinessHours(u),dateSelection:xM(i.dateSelection,e),eventSelection:RM(i.eventSelection,e),eventDrag:MM(i.eventDrag,e),eventResize:OM(i.eventResize,e)},A=Object.assign(Object.assign({},u),S);for(let M of l.pluginHooks.reducers)Object.assign(S,M(i,e,A));let T=wm(i,u),x=wm(S,u);!T&&x?a.trigger("loading",!0):T&&!x&&a.trigger("loading",!1),this.state=S,n.onAction&&n.onAction(e)}updateData(){let{props:e,state:n}=this,i=this.data,a=this.computeOptionsData(e.optionOverrides,n.dynamicOptionOverrides,e.calendarApi),r=this.computeCurrentViewData(n.currentViewType,a,e.optionOverrides,n.dynamicOptionOverrides),l=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(n.dateProfile,r.options,a.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},a),r),n),s=a.pluginHooks.optionChangeHandlers,o=i&&i.calendarOptions,u=a.calendarOptions;if(o&&o!==u){o.timeZone!==u.timeZone&&(n.eventSources=l.eventSources=DM(l.eventSources,n.dateProfile,l),n.eventStore=l.eventStore=um(l.eventStore,i.dateEnv,l.dateEnv),n.renderableEventStore=l.renderableEventStore=um(l.renderableEventStore,i.dateEnv,l.dateEnv));for(let c in s)(this.optionsForHandling.indexOf(c)!==-1||o[c]!==u[c])&&s[c](u[c],l)}this.optionsForHandling=[],e.onData&&e.onData(l)}computeOptionsData(e,n,i){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&n===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:a,pluginHooks:r,localeDefaults:l,availableLocaleData:s,extra:o}=this.processRawCalendarOptions(e,n);cC(o);let u=this.buildDateEnv(a.timeZone,a.locale,a.weekNumberCalculation,a.firstDay,a.weekText,r,s,a.defaultRangeSeparator),c=this.buildViewSpecs(r.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,l),h=this.buildTheme(a,r),d=this.parseToolbars(a,this.stableOptionOverrides,h,c,i);return this.stableCalendarOptionsData={calendarOptions:a,pluginHooks:r,dateEnv:u,viewSpecs:c,theme:h,toolbarConfig:d,localeDefaults:l,availableRawLocales:s.map}}processRawCalendarOptions(e,n){let{locales:i,locale:a}=md([Oa,e,n]),r=this.organizeRawLocales(i),l=r.map,s=this.buildLocale(a||r.defaultCode,l).options,o=this.buildPluginHooks(e.plugins||[],ZM),u=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Kp),$p),Jp),o.listenerRefiners),o.optionRefiners),c={},h=md([Oa,s,e,n]),d={},f=this.currentCalendarOptionsInput,p=this.currentCalendarOptionsRefined,y=!1;for(let b in h)this.optionsForRefining.indexOf(b)===-1&&(h[b]===f[b]||Na[b]&&b in f&&Na[b](f[b],h[b]))?d[b]=p[b]:u[b]?(d[b]=u[b](h[b]),y=!0):c[b]=f[b];return y&&(this.currentCalendarOptionsInput=h,this.currentCalendarOptionsRefined=d,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=n),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:o,availableLocaleData:r,localeDefaults:s,extra:c}}_computeCurrentViewData(e,n,i,a){let r=n.viewSpecs[e];if(!r)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:l,extra:s}=this.processRawViewOptions(r,n.pluginHooks,n.localeDefaults,i,a);cC(s),this.nowManager.handleInput(n.dateEnv,l.now);let o=this.buildDateProfileGenerator({dateProfileGeneratorClass:r.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:r.duration,durationUnit:r.durationUnit,usesMinMaxTime:r.optionDefaults.usesMinMaxTime,dateEnv:n.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:l.slotMinTime,slotMaxTime:l.slotMaxTime,showNonCurrentDates:l.showNonCurrentDates,dayCount:l.dayCount,dateAlignment:l.dateAlignment,dateIncrement:l.dateIncrement,hiddenDays:l.hiddenDays,weekends:l.weekends,validRangeInput:l.validRange,visibleRangeInput:l.visibleRange,fixedWeekCount:l.fixedWeekCount}),u=this.buildViewApi(e,this.getCurrentData,n.dateEnv);return{viewSpec:r,options:l,dateProfileGenerator:o,viewApi:u}}processRawViewOptions(e,n,i,a,r){let l=md([Oa,e.optionDefaults,i,a,e.optionOverrides,r]),s=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Kp),$p),Jp),AA),n.listenerRefiners),n.optionRefiners),o={},u=this.currentViewOptionsInput,c=this.currentViewOptionsRefined,h=!1,d={};for(let f in l)l[f]===u[f]||Na[f]&&Na[f](l[f],u[f])?o[f]=c[f]:(l[f]===this.currentCalendarOptionsInput[f]||Na[f]&&Na[f](l[f],this.currentCalendarOptionsInput[f])?f in this.currentCalendarOptionsRefined&&(o[f]=this.currentCalendarOptionsRefined[f]):s[f]?o[f]=s[f](l[f]):d[f]=l[f],h=!0);return h&&(this.currentViewOptionsInput=l,this.currentViewOptionsRefined=o),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:d}}};function $M(t,e,n,i,a,r,l,s){let o=hC(e||l.defaultCode,l.map);return new po({calendarSystem:"gregory",timeZone:t,namedTimeZoneImpl:r.namedTimeZonedImpl,locale:o,weekNumberCalculation:n,firstDay:i,weekText:a,cmdFormatter:r.cmdFormatter,defaultSeparator:s})}function JM(t,e){let n=e.themeClasses[t.themeSystem]||ai;return new n(t)}function eO(t){let e=t.dateProfileGeneratorClass||pr;return new e(t)}function tO(t,e,n){return new Rm(t,e,n)}function nO(t){return wn(t,e=>e.ui)}function iO(t,e,n){let i={"":e};for(let a in t){let r=t[a];r.sourceId&&n[r.sourceId]&&(i[a]=n[r.sourceId])}return i}function aO(t){let{options:e}=t;return{eventUiSingleBase:jl({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},t),selectionConfig:jl({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},t)}}function wm(t,e){for(let n of e.pluginHooks.isLoadingFuncs)if(n(t))return!0;return!1}function rO(t){return cm(t.options.businessHours,t)}function cC(t,e){for(let n in t)console.warn(`Unknown option '${n}'`+(e?` for view '${e}'`:""))}var Nm=class extends se{render(){let e=this.props.widgetGroups.map(n=>this.renderWidgetGroup(n));return E("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:n}=this,{theme:i}=this.context,a=[],r=!0;for(let l of e){let{buttonName:s,buttonClick:o,buttonText:u,buttonIcon:c,buttonHint:h}=l;if(s==="title")r=!1,a.push(E("h2",{className:"fc-toolbar-title",id:n.titleId},n.title));else{let d=s===n.activeButton,f=!n.isTodayEnabled&&s==="today"||!n.isPrevEnabled&&s==="prev"||!n.isNextEnabled&&s==="next",p=[`fc-${s}-button`,i.getClass("button")];d&&p.push(i.getClass("buttonActive")),a.push(E("button",{type:"button",title:typeof h=="function"?h(n.navUnit):h,disabled:f,"aria-pressed":d,className:p.join(" "),onClick:o},u||(c?E("span",{className:c,role:"img"}):"")))}}if(a.length>1){let l=r&&i.getClass("buttonGroup")||"";return E("div",{className:l},...a)}return a[0]}},kd=class extends se{render(){let{model:e,extraClassName:n}=this.props,i=!1,a,r,l=e.sectionWidgets,s=l.center;return l.left?(i=!0,a=l.left):a=l.start,l.right?(i=!0,r=l.right):r=l.end,E("div",{className:[n||"","fc-toolbar",i?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",a||[]),this.renderSection("center",s||[]),this.renderSection("end",r||[]))}renderSection(e,n){let{props:i}=this;return E(Nm,{key:e,widgetGroups:n,title:i.title,navUnit:i.navUnit,activeButton:i.activeButton,isTodayEnabled:i.isTodayEnabled,isPrevEnabled:i.isPrevEnabled,isNextEnabled:i.isNextEnabled,titleId:i.titleId})}},km=class extends se{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,dn(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:n}=this,{aspectRatio:i}=e,a=["fc-view-harness",i||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],r="",l="";return i?n.availableWidth!==null?r=n.availableWidth/i:l=`${1/i*100}%`:r=e.height||"",E("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:a.join(" "),style:{height:r,paddingBottom:l}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}},zm=class extends Hn{constructor(e){super(e),this.handleSegClick=(n,i)=>{let{component:a}=this,{context:r}=a,l=Li(i);if(l&&a.isValidSegDownEl(n.target)){let s=dt(n.target,".fc-event-forced-url"),o=s?s.querySelector("a[href]").href:"";r.emitter.trigger("eventClick",{el:i,event:new _e(a.context,l.eventRange.def,l.eventRange.instance),jsEvent:n,view:r.viewApi}),o&&!n.defaultPrevented&&(window.location.href=o)}},this.destroy=Ip(e.el,"click",".fc-event",this.handleSegClick)}},Hm=class extends Hn{constructor(e){super(e),this.handleEventElRemove=n=>{n===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(n,i)=>{Li(i)&&(this.currentSegEl=i,this.triggerEvent("eventMouseEnter",n,i))},this.handleSegLeave=(n,i)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",n,i))},this.removeHoverListeners=gA(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,n,i){let{component:a}=this,{context:r}=a,l=Li(i);(!n||a.isValidSegDownEl(n.target))&&r.emitter.trigger(e,{el:i,event:new _e(r,l.eventRange.def,l.eventRange.instance),jsEvent:n,view:r.viewApi})}},Lm=class extends ei{constructor(){super(...arguments),this.buildViewContext=j(xA),this.buildViewPropTransformers=j(sO),this.buildToolbarProps=j(lO),this.headerRef=st(),this.footerRef=st(),this.interactionsStore={},this.state={viewLabelId:wr()},this.registerInteractiveComponent=(e,n)=>{let i=UA(e,n),l=[zm,Hm].concat(this.props.pluginHooks.componentInteractions).map(s=>new s(i));this.interactionsStore[e.uid]=l,Pl[e.uid]=i},this.unregisterInteractiveComponent=e=>{let n=this.interactionsStore[e.uid];if(n){for(let i of n)i.destroy();delete this.interactionsStore[e.uid]}delete Pl[e.uid]},this.resizeRunner=new gr(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:n}=this.props;n.handleWindowResize&&e.target===window&&this.resizeRunner.request(n.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:n,options:i}=e,a=!1,r="",l;e.isHeightAuto||e.forPrint?r="":i.height!=null?a=!0:i.contentHeight!=null?r=i.contentHeight:l=Math.max(i.aspectRatio,.5);let s=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.nowManager,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),o=n.header&&n.header.hasTitle?this.state.viewLabelId:void 0;return E(Rn.Provider,{value:s},E(xn,{unit:"day"},u=>{let c=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,u,e.viewTitle);return E(me,null,n.header&&E(kd,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:n.header,titleId:o},c)),E(km,{liquid:a,height:r,aspectRatio:l,labeledById:o},this.renderView(e),this.buildAppendContent()),n.footer&&E(kd,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:n.footer,titleId:""},c)))}))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(i=>new i(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:n}=e.pluginHooks;for(let i in n)n[i](e[i],e)}componentDidUpdate(e){let{props:n}=this,{propSetHandlers:i}=n.pluginHooks;for(let a in i)n[a]!==e[a]&&i[a](n[a],n)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,n=e.pluginHooks.viewContainerAppends.map(i=>i(e));return E(me,{},...n)}renderView(e){let{pluginHooks:n}=e,{viewSpec:i}=e,a={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},r=this.buildViewPropTransformers(n.viewPropsTransformers);for(let s of r)Object.assign(a,s.transform(a,e));let l=i.component;return E(l,Object.assign({},a))}};function lO(t,e,n,i,a,r){let l=n.build(a,void 0,!1),s=n.buildPrev(e,i,!1),o=n.buildNext(e,i,!1);return{title:r,activeButton:t.type,navUnit:t.singleUnit,isTodayEnabled:l.isValid&&!_n(e.currentRange,a),isPrevEnabled:s.isValid,isNextEnabled:o.isValid}}function sO(t){return t.map(e=>new e)}var zd=class extends Do{constructor(e,n={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=i=>{switch(i.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=i=>{this.currentData=i,this.renderRunner.request(i.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:i}=this;mo(()=>{Aa(E(So,{options:i.calendarOptions,theme:i.theme,emitter:i.emitter},(a,r,l,s)=>(this.setClassNames(a),this.setHeight(r),E(nm.Provider,{value:this.customContentRenderId},E(Lm,Object.assign({isHeightAuto:l,forPrint:s},i))))),this.el)})}else this.isRendered&&(this.isRendered=!1,Aa(null,this.el),this.setClassNames([]),this.setHeight(""))},cA(e),this.el=e,this.renderRunner=new gr(this.handleRenderRequest),new Om({optionOverrides:n,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){mo(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,n){this.currentDataManager.resetOptions(e,n)}setClassNames(e){if(!ni(e,this.currentClassNames)){let{classList:n}=this.el;for(let i of this.currentClassNames)n.remove(i);for(let i of e)n.add(i);this.currentClassNames=e}}setHeight(e){Bp(this.el,"height",e)}};var uO=parseInt(String(ri.default.version).split(".")[0]),cO=uO<18,Mr=class extends ri.Component{constructor(){super(...arguments),this.elRef=(0,ri.createRef)(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){let e=[];for(let n of this.state.customRenderingMap.values())e.push(ri.default.createElement(Im,{key:n.id,customRendering:n}));return ri.default.createElement("div",{ref:this.elRef},e)}componentDidMount(){this.isUnmounting=!1;let e=new Ro;this.handleCustomRendering=e.handle.bind(e),this.calendar=new zd(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",()=>{(0,Xo.flushSync)(()=>{})});let n;e.subscribe(i=>{let a=Date.now(),r=!n;(cO||r||this.isUpdating||this.isUnmounting||a-n<100?EC:Xo.flushSync)(()=>{this.setState({customRenderingMap:i},()=>{n=a,r?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}};Mr.act=EC;var Im=class extends ri.PureComponent{render(){let{customRendering:e}=this.props,{generatorMeta:n}=e,i=typeof n=="function"?n(e.renderProps):n;return(0,Xo.createPortal)(i,e.containerEl)}};function EC(t){t()}var Um=class extends Bt{constructor(){super(...arguments),this.headerElRef=st()}renderSimpleLayout(e,n){let{props:i,context:a}=this,r=[],l=Rr(a.options);return e&&r.push({type:"header",key:"header",isSticky:l,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),r.push({type:"body",key:"body",liquid:!0,chunk:{content:n}}),E(Ni,{elClasses:["fc-daygrid"],viewSpec:a.viewSpec},E(xa,{liquid:!i.isHeightAuto&&!i.forPrint,collapsibleWidth:i.forPrint,cols:[],sections:r}))}renderHScrollLayout(e,n,i,a){let r=this.context.pluginHooks.scrollGridImpl;if(!r)throw new Error("No ScrollGrid implementation");let{props:l,context:s}=this,o=!l.forPrint&&Rr(s.options),u=!l.forPrint&&Go(s.options),c=[];return e&&c.push({type:"header",key:"header",isSticky:o,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),c.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:n}]}),u&&c.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:Fl}]}),E(Ni,{elClasses:["fc-daygrid"],viewSpec:s.viewSpec},E(r,{liquid:!l.isHeightAuto&&!l.forPrint,forPrint:l.forPrint,collapsibleWidth:l.forPrint,colGroups:[{cols:[{span:i,minWidth:a}]}],sections:c}))}};function Ld(t,e){let n=[];for(let i=0;i<e;i+=1)n[i]=[];for(let i of t)n[i.row].push(i);return n}function Hd(t,e){let n=[];for(let i=0;i<e;i+=1)n[i]=[];for(let i of t)n[i.firstCol].push(i);return n}function SC(t,e){let n=[];if(t){for(let i=0;i<e;i+=1)n[i]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let i of t.segs)n[i.row].segs.push(i)}else for(let i=0;i<e;i+=1)n[i]=null;return n}var DC=Ne({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function AC(t){let{display:e}=t.eventRange.ui;return e==="list-item"||e==="auto"&&!t.eventRange.def.allDay&&t.firstCol===t.lastCol&&t.isStart&&t.isEnd}var Bd=class extends se{render(){let{props:e}=this;return E(Ra,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:DC,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}},Id=class extends se{render(){let{props:e,context:n}=this,{options:i}=n,{seg:a}=e,r=i.eventTimeFormat||DC,l=Td(a,r,n,!0,e.defaultDisplayEventEnd);return E(Ar,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:_d(e.seg,n),defaultGenerator:dO,timeText:l,isResizing:!1,isDateSelecting:!1}))}};function dO(t){return E(me,null,E("div",{className:"fc-daygrid-event-dot",style:{borderColor:t.borderColor||t.backgroundColor}}),t.timeText&&E("div",{className:"fc-event-time"},t.timeText),E("div",{className:"fc-event-title"},t.event.title||E(me,null,"\xA0")))}var Ym=class extends se{constructor(){super(...arguments),this.compileSegs=j(fO)}render(){let{props:e}=this,{allSegs:n,invisibleSegs:i}=this.compileSegs(e.singlePlacements);return E(Tr,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:n,hiddenSegs:i,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let a=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return E(me,null,n.map(r=>{let l=r.eventRange.instance.instanceId;return E("div",{className:"fc-daygrid-event-harness",key:l,style:{visibility:a[l]?"hidden":""}},AC(r)?E(Id,Object.assign({seg:r,isDragging:!1,isSelected:l===e.eventSelection,defaultDisplayEventEnd:!1},Bn(r,e.todayRange))):E(Bd,Object.assign({seg:r,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:l===e.eventSelection,defaultDisplayEventEnd:!1},Bn(r,e.todayRange))))}))}})}};function fO(t){let e=[],n=[];for(let i of t)e.push(i.seg),i.isVisible||n.push(i.seg);return{allSegs:e,invisibleSegs:n}}var hO=Ne({week:"narrow"}),Vm=class extends Bt{constructor(){super(...arguments),this.rootElRef=st(),this.state={dayNumberId:wr()},this.handleRootEl=e=>{dn(this.rootElRef,e),dn(this.props.elRef,e)}}render(){let{context:e,props:n,state:i,rootElRef:a}=this,{options:r,dateEnv:l}=e,{date:s,dateProfile:o}=n,u=n.showDayNumber&&pO(s,o.currentRange,l);return E(Ma,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...n.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},n.extraDataAttrs),n.showDayNumber?{"aria-labelledby":i.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:gO,date:s,dateProfile:o,todayRange:n.todayRange,showDayNumber:n.showDayNumber,isMonthStart:u,extraRenderProps:n.extraRenderProps},(c,h)=>E("div",{ref:n.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:n.minHeight}},n.showWeekNumber&&E(Zo,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:xr(e,s,"week"),date:s,defaultFormat:hO}),!h.isDisabled&&(n.showDayNumber||ql(r)||n.forceDayTop)?E("div",{className:"fc-daygrid-day-top"},E(c,{elTag:"a",elClasses:["fc-daygrid-day-number",u&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},xr(e,s)),{id:i.dayNumberId})})):n.showDayNumber?E("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},E("a",{className:"fc-daygrid-day-number"},"\xA0")):void 0,E("div",{className:"fc-daygrid-day-events",ref:n.fgContentElRef},n.fgContent,E("div",{className:"fc-daygrid-day-bottom",style:{marginTop:n.moreMarginTop}},E(Ym,{allDayDate:s,singlePlacements:n.singlePlacements,moreCnt:n.moreCnt,alignmentElRef:a,alignGridTop:!n.showDayNumber,extraDateSpan:n.extraDateSpan,dateProfile:n.dateProfile,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,todayRange:n.todayRange}))),E("div",{className:"fc-daygrid-day-bg"},n.bgContent)))}};function gO(t){return t.dayNumberText||E(me,null,"\xA0")}function pO(t,e,n){let{start:i,end:a}=e,r=Jn(a,-1),l=n.getYear(i),s=n.getMonth(i),o=n.getYear(r),u=n.getMonth(r);return!(l===o&&s===u)&&Boolean(t.valueOf()===i.valueOf()||n.getDay(t)===1&&t.valueOf()<a.valueOf())}function CC(t){return t.eventRange.instance.instanceId+":"+t.firstCol}function TC(t){return CC(t)+":"+t.lastCol}function mO(t,e,n,i,a,r,l){let s=new jm(g=>{let m=t[g.index].eventRange.instance.instanceId+":"+g.span.start+":"+(g.span.end-1);return a[m]||1});s.allowReslicing=!0,s.strictOrder=i,e===!0||n===!0?(s.maxCoord=r,s.hiddenConsumes=!0):typeof e=="number"?s.maxStackCnt=e:typeof n=="number"&&(s.maxStackCnt=n,s.hiddenConsumes=!0);let o=[],u=[];for(let g=0;g<t.length;g+=1){let m=t[g],v=TC(m);a[v]!=null?o.push({index:g,span:{start:m.firstCol,end:m.lastCol+1}}):u.push(m)}let c=s.addSegs(o),h=s.toRects(),{singleColPlacements:d,multiColPlacements:f,leftoverMargins:p}=yO(h,t,l),y=[],b=[];for(let g of u){f[g.firstCol].push({seg:g,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let m=g.firstCol;m<=g.lastCol;m+=1)d[m].push({seg:Gl(g,m,m+1,l),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let g=0;g<l.length;g+=1)y.push(0);for(let g of c){let m=t[g.index],v=g.span;f[v.start].push({seg:Gl(m,v.start,v.end,l),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let S=v.start;S<v.end;S+=1)y[S]+=1,d[S].push({seg:Gl(m,S,S+1,l),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let g=0;g<l.length;g+=1)b.push(p[g]);return{singleColPlacements:d,multiColPlacements:f,moreCnts:y,moreMarginTops:b}}function yO(t,e,n){let i=vO(t,n.length),a=[],r=[],l=[];for(let s=0;s<n.length;s+=1){let o=i[s],u=[],c=0,h=0;for(let f of o){let p=e[f.index];u.push({seg:Gl(p,s,s+1,n),isVisible:!0,isAbsolute:!1,absoluteTop:f.levelCoord,marginTop:f.levelCoord-c}),c=f.levelCoord+f.thickness}let d=[];c=0,h=0;for(let f of o){let p=e[f.index],y=f.span.end-f.span.start>1,b=f.span.start===s;h+=f.levelCoord-c,c=f.levelCoord+f.thickness,y?(h+=f.thickness,b&&d.push({seg:Gl(p,f.span.start,f.span.end,n),isVisible:!0,isAbsolute:!0,absoluteTop:f.levelCoord,marginTop:0})):b&&(d.push({seg:Gl(p,f.span.start,f.span.end,n),isVisible:!0,isAbsolute:!1,absoluteTop:f.levelCoord,marginTop:h}),h=0)}a.push(u),r.push(d),l.push(h)}return{singleColPlacements:a,multiColPlacements:r,leftoverMargins:l}}function vO(t,e){let n=[];for(let i=0;i<e;i+=1)n.push([]);for(let i of t)for(let a=i.span.start;a<i.span.end;a+=1)n[a].push(i);return n}function Gl(t,e,n,i){if(t.firstCol===e&&t.lastCol===n-1)return t;let a=t.eventRange,r=a.range,l=zn(r,{start:i[e].date,end:tt(i[n-1].date,1)});return Object.assign(Object.assign({},t),{firstCol:e,lastCol:n-1,eventRange:{def:a.def,ui:Object.assign(Object.assign({},a.ui),{durationEditable:!1}),instance:a.instance,range:l},isStart:t.isStart&&l.start.valueOf()===r.start.valueOf(),isEnd:t.isEnd&&l.end.valueOf()===r.end.valueOf()})}var jm=class extends vr{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){let n=super.addSegs(e),{entriesByLevel:i}=this,a=r=>!this.forceHidden[ti(r)];for(let r=0;r<i.length;r+=1)i[r]=i[r].filter(a);return n}handleInvalidInsertion(e,n,i){let{entriesByLevel:a,forceHidden:r}=this,{touchingEntry:l,touchingLevel:s,touchingLateral:o}=e;if(this.hiddenConsumes&&l){let u=ti(l);if(!r[u])if(this.allowReslicing){let c=Object.assign(Object.assign({},l),{span:Fo(l.span,n.span)}),h=ti(c);r[h]=!0,a[s][o]=c,i.push(c),this.splitEntry(l,n,i)}else r[u]=!0,i.push(l)}super.handleInvalidInsertion(e,n,i)}},Ud=class extends Bt{constructor(){super(...arguments),this.cellElRefs=new Xt,this.frameElRefs=new Xt,this.fgElRefs=new Xt,this.segHarnessRefs=new Xt,this.rootElRef=st(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:n,context:i}=this,{options:a}=i,r=e.cells.length,l=Hd(e.businessHourSegs,r),s=Hd(e.bgEventSegs,r),o=Hd(this.getHighlightSegs(),r),u=Hd(this.getMirrorSegs(),r),{singleColPlacements:c,multiColPlacements:h,moreCnts:d,moreMarginTops:f}=mO(Yo(e.fgEventSegs,a.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,a.eventOrderStrict,n.segHeights,n.maxContentHeight,e.cells),p=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return E("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((y,b)=>{let g=this.renderFgSegs(b,e.forPrint?c[b]:h[b],e.todayRange,p),m=this.renderFgSegs(b,bO(u[b],h),e.todayRange,{},Boolean(e.eventDrag),Boolean(e.eventResize),!1);return E(Vm,{key:y.key,elRef:this.cellElRefs.createRef(y.key),innerElRef:this.frameElRefs.createRef(y.key),dateProfile:e.dateProfile,date:y.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&b===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:y.extraRenderProps,extraDataAttrs:y.extraDataAttrs,extraClassNames:y.extraClassNames,extraDateSpan:y.extraDateSpan,moreCnt:d[b],moreMarginTop:f[b],singlePlacements:c[b],fgContentElRef:this.fgElRefs.createRef(y.key),fgContent:E(me,null,E(me,null,g),E(me,null,m)),bgContent:E(me,null,this.renderFillSegs(o[b],"highlight"),this.renderFillSegs(l[b],"non-business"),this.renderFillSegs(s[b],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,n){let i=this.props;this.updateSizing(!Zt(e,i))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,n,i,a,r,l,s){let{context:o}=this,{eventSelection:u}=this.props,{framePositions:c}=this.state,h=this.props.cells.length===1,d=r||l||s,f=[];if(c)for(let p of n){let{seg:y}=p,{instanceId:b}=y.eventRange.instance,g=p.isVisible&&!a[b],m=p.isAbsolute,v="",S="";m&&(o.isRtl?(S=0,v=c.lefts[y.lastCol]-c.lefts[y.firstCol]):(v=0,S=c.rights[y.firstCol]-c.rights[y.lastCol])),f.push(E("div",{className:"fc-daygrid-event-harness"+(m?" fc-daygrid-event-harness-abs":""),key:CC(y),ref:d?null:this.segHarnessRefs.createRef(TC(y)),style:{visibility:g?"":"hidden",marginTop:m?"":p.marginTop,top:m?p.absoluteTop:"",left:v,right:S}},AC(y)?E(Id,Object.assign({seg:y,isDragging:r,isSelected:b===u,defaultDisplayEventEnd:h},Bn(y,i))):E(Bd,Object.assign({seg:y,isDragging:r,isResizing:l,isDateSelecting:s,isSelected:b===u,defaultDisplayEventEnd:h},Bn(y,i)))))}return f}renderFillSegs(e,n){let{isRtl:i}=this.context,{todayRange:a}=this.props,{framePositions:r}=this.state,l=[];if(r)for(let s of e){let o=i?{right:0,left:r.lefts[s.lastCol]-r.lefts[s.firstCol]}:{left:0,right:r.rights[s.firstCol]-r.rights[s.lastCol]};l.push(E("div",{key:Vo(s.eventRange),className:"fc-daygrid-bg-harness",style:o},n==="bg-event"?E(Cr,Object.assign({seg:s},Bn(s,a))):Qo(n)))}return E(me,{},...l)}updateSizing(e){let{props:n,state:i,frameElRefs:a}=this;if(!n.forPrint&&n.clientWidth!==null){if(e){let o=n.cells.map(u=>a.currentMap[u.key]);if(o.length){let u=this.rootElRef.current,c=new Ln(u,o,!0,!1);(!i.framePositions||!i.framePositions.similarTo(c))&&this.setState({framePositions:new Ln(u,o,!0,!1)})}}let r=this.state.segHeights,l=this.querySegHeights(),s=n.dayMaxEvents===!0||n.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},r),l),maxContentHeight:s?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,n={};for(let i in e){let a=Math.round(e[i].getBoundingClientRect().height);n[i]=Math.max(n[i]||0,a)}return n}computeMaxContentHeight(){let e=this.props.cells[0].key,n=this.cellElRefs.currentMap[e],i=this.fgElRefs.currentMap[e];return n.getBoundingClientRect().bottom-i.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(n=>e[n.key])}};Ud.addStateEquality({segHeights:Zt});function bO(t,e){if(!t.length)return[];let n=EO(e);return t.map(i=>({seg:i,isVisible:!0,isAbsolute:!0,absoluteTop:n[i.eventRange.instance.instanceId],marginTop:0}))}function EO(t){let e={};for(let n of t)for(let i of n)e[i.seg.eventRange.instance.instanceId]=i.absoluteTop;return e}var Pm=class extends Bt{constructor(){super(...arguments),this.splitBusinessHourSegs=j(Ld),this.splitBgEventSegs=j(SO),this.splitFgEventSegs=j(Ld),this.splitDateSelectionSegs=j(Ld),this.splitEventDrag=j(SC),this.splitEventResize=j(SC),this.rowRefs=new Xt}render(){let{props:e,context:n}=this,i=e.cells.length,a=this.splitBusinessHourSegs(e.businessHourSegs,i),r=this.splitBgEventSegs(e.bgEventSegs,i),l=this.splitFgEventSegs(e.fgEventSegs,i),s=this.splitDateSelectionSegs(e.dateSelectionSegs,i),o=this.splitEventDrag(e.eventDrag,i),u=this.splitEventResize(e.eventResize,i),c=i>=7&&e.clientWidth?e.clientWidth/n.options.aspectRatio/6:null;return E(xn,{unit:"day"},(h,d)=>E(me,null,e.cells.map((f,p)=>E(Ud,{ref:this.rowRefs.createRef(p),key:f.length?f[0].date.toISOString():p,showDayNumbers:i>1,showWeekNumbers:e.showWeekNumbers,todayRange:d,dateProfile:e.dateProfile,cells:f,renderIntro:e.renderRowIntro,businessHourSegs:a[p],eventSelection:e.eventSelection,bgEventSegs:r[p],fgEventSegs:l[p],dateSelectionSegs:s[p],eventDrag:o[p],eventResize:u[p],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:c,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){let e=this.rowRefs.currentMap[0].getCellEls()[0],n=e?e.closest(".fc-daygrid-body"):null;n&&(this.rootEl=n,this.context.registerInteractiveComponent(this,{el:n,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new Ln(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new Ln(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,n){let{colPositions:i,rowPositions:a}=this,r=i.leftToIndex(e),l=a.topToIndex(n);if(l!=null&&r!=null){let s=this.props.cells[l][r];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(l,r),allDay:!0},s.extraDateSpan),dayEl:this.getCellEl(l,r),rect:{left:i.lefts[r],right:i.rights[r],top:a.tops[l],bottom:a.bottoms[l]},layer:0}}return null}getCellEl(e,n){return this.rowRefs.currentMap[e].getCellEls()[n]}getCellRange(e,n){let i=this.props.cells[e][n].date,a=tt(i,1);return{start:i,end:a}}};function SO(t,e){return Ld(t.filter(DO),e)}function DO(t){return t.eventRange.def.allDay}var Fm=class extends Bt{constructor(){super(...arguments),this.elRef=st(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:n,dayMaxEvents:i,expandRows:a}=e,r=i===!0||n===!0;r&&!a&&(r=!1,n=null,i=null);let l=["fc-daygrid-body",r?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",a?"":"fc-daygrid-body-natural"];return E("div",{ref:this.elRef,className:l.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},E("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:a?e.clientHeight:""}},e.colGroupNode,E("tbody",{role:"presentation"},E(Pm,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:i,dayMaxEventRows:n,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){let e=AO(this.elRef.current,this.props.dateProfile);if(e){let n=e.closest(".fc-daygrid-body"),i=n.closest(".fc-scroller"),a=e.getBoundingClientRect().top-n.getBoundingClientRect().top;i.scrollTop=a?a+1:0}this.needsScrollReset=!1}}};function AO(t,e){let n;return e.currentRangeUnit.match(/year|month/)&&(n=t.querySelector(`[data-date="${Qp(e.currentDate)}-01"]`)),n||(n=t.querySelector(`[data-date="${Lo(e.currentDate)}"]`)),n}var qm=class extends Dr{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,n){return n.sliceRange(e)}},Ko=class extends Bt{constructor(){super(...arguments),this.slicer=new qm,this.tableRef=st()}render(){let{props:e,context:n}=this;return E(Fm,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,n,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}},Yd=class extends Um{constructor(){super(...arguments),this.buildDayTableModel=j(CO),this.headerRef=st(),this.tableRef=st()}render(){let{options:e,dateProfileGenerator:n}=this.context,{props:i}=this,a=this.buildDayTableModel(i.dateProfile,n),r=e.dayHeaders&&E(br,{ref:this.headerRef,dateProfile:i.dateProfile,dates:a.headerDates,datesRepDistinctDays:a.rowCnt===1}),l=s=>E(Ko,{ref:this.tableRef,dateProfile:i.dateProfile,dayTableModel:a,businessHours:i.businessHours,dateSelection:i.dateSelection,eventStore:i.eventStore,eventUiBases:i.eventUiBases,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:s.tableColGroupNode,tableMinWidth:s.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!i.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:s.clientWidth,clientHeight:s.clientHeight,forPrint:i.forPrint});return e.dayMinWidth?this.renderHScrollLayout(r,l,a.colCnt,e.dayMinWidth):this.renderSimpleLayout(r,l)}};function CO(t,e){let n=new Er(t.renderRange,e);return new Sr(n,/year|month|week/.test(t.currentRangeUnit))}var Vd=class extends pr{buildRenderRange(e,n,i){let a=super.buildRenderRange(e,n,i),{props:r}=this;return TO({currentRange:a,snapToWeek:/^(year|month)$/.test(n),fixedWeekCount:r.fixedWeekCount,dateEnv:r.dateEnv})}};function TO(t){let{dateEnv:e,currentRange:n}=t,{start:i,end:a}=n,r;if(t.snapToWeek&&(i=e.startOfWeek(i),r=e.startOfWeek(a),r.valueOf()!==a.valueOf()&&(a=gd(r,1))),t.fixedWeekCount){let l=e.startOfWeek(e.startOfMonth(tt(n.end,-1))),s=Math.ceil(Gp(l,a));a=gd(a,6-s)}return{start:i,end:a}}var _O=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';Il(_O);var Gm=Mn({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:Yd,dateProfileGeneratorClass:Vd},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});qo.touchMouseIgnoreWait=500;var Wm=0,jd=0,Qm=!1,Pd=class{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=n=>{if(!this.shouldIgnoreMouse()&&wO(n)&&this.tryStart(n)){let i=this.createEventFromMouse(n,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=n=>{let i=this.createEventFromMouse(n);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleMouseUp=n=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(n)),this.cleanup()},this.handleTouchStart=n=>{if(this.tryStart(n)){this.isTouchDragging=!0;let i=this.createEventFromTouch(n,!0);this.emitter.trigger("pointerdown",i),this.initScrollWatch(i);let a=n.target;this.shouldIgnoreMove||a.addEventListener("touchmove",this.handleTouchMove),a.addEventListener("touchend",this.handleTouchEnd),a.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=n=>{let i=this.createEventFromTouch(n);this.recordCoords(i),this.emitter.trigger("pointermove",i)},this.handleTouchEnd=n=>{if(this.isDragging){let i=n.target;i.removeEventListener("touchmove",this.handleTouchMove),i.removeEventListener("touchend",this.handleTouchEnd),i.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(n)),this.cleanup(),this.isTouchDragging=!1,xO()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=n=>{if(!this.shouldIgnoreMove){let i=window.scrollX-this.prevScrollX+this.prevPageX,a=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:n,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:i,pageY:a,deltaX:i-this.origPageX,deltaY:a-this.origPageY})}},this.containerEl=e,this.emitter=new ki,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),RO()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),MO()}tryStart(e){let n=this.querySubjectEl(e),i=e.target;return n&&(!this.handleSelector||dt(i,this.handleSelector))?(this.subjectEl=n,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){Qm=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?dt(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return Wm||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(Qm=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,n){let i=0,a=0;return n?(this.origPageX=e.pageX,this.origPageY=e.pageY):(i=e.pageX-this.origPageX,a=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:i,deltaY:a}}createEventFromTouch(e,n){let i=e.touches,a,r,l=0,s=0;return i&&i.length?(a=i[0].pageX,r=i[0].pageY):(a=e.pageX,r=e.pageY),n?(this.origPageX=a,this.origPageY=r):(l=a-this.origPageX,s=r-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:a,pageY:r,deltaX:l,deltaY:s}}};function wO(t){return t.button===0&&!t.ctrlKey}function xO(){Wm+=1,setTimeout(()=>{Wm-=1},qo.touchMouseIgnoreWait)}function RO(){jd+=1,jd===1&&window.addEventListener("touchmove",wC,{passive:!1})}function MO(){jd-=1,jd||window.removeEventListener("touchmove",wC,{passive:!1})}function wC(t){Qm&&t.preventDefault()}var Zm=class{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,n,i){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=n-window.scrollX,this.origScreenY=i-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,n){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=n-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,n){let i=()=>{this.cleanup(),n()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(i,this.revertDuration):setTimeout(i,0)}doRevertAnimation(e,n){let i=this.mirrorEl,a=this.sourceEl.getBoundingClientRect();i.style.transition="top "+n+"ms,left "+n+"ms",_r(i,{left:a.left,top:a.top}),Up(i,()=>{i.style.transition="",e()})}cleanup(){this.mirrorEl&&(Mo(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&_r(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,n=this.mirrorEl;return n||(n=this.mirrorEl=this.sourceEl.cloneNode(!0),n.style.userSelect="none",n.style.webkitUserSelect="none",n.style.pointerEvents="none",n.classList.add("fc-event-dragging"),_r(n,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(n)),n}},Fd=class extends yr{constructor(e,n){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=n,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}},qd=class extends Fd{constructor(e,n){super(new Co(e),n)}getEventTarget(){return this.scrollController.el}computeClientRect(){return Am(this.scrollController.el)}},Xm=class extends Fd{constructor(e){super(new To,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}},_C=typeof performance=="function"?performance.now:Date.now,Km=class{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let n=_C();this.handleSide(e,(n-this.msSinceRequest)/1e3),this.requestAnimation(n)}else this.isAnimating=!1}}}start(e,n,i){this.isEnabled&&(this.scrollCaches=this.buildCaches(i),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,n))}handleMove(e,n){if(this.isEnabled){let i=e-window.scrollX,a=n-window.scrollY,r=this.pointerScreenY===null?0:a-this.pointerScreenY,l=this.pointerScreenX===null?0:i-this.pointerScreenX;r<0?this.everMovedUp=!0:r>0&&(this.everMovedDown=!0),l<0?this.everMovedLeft=!0:l>0&&(this.everMovedRight=!0),this.pointerScreenX=i,this.pointerScreenY=a,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(_C()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,n){let{scrollCache:i}=e,{edgeThreshold:a}=this,r=a-e.distance,l=r*r/(a*a)*this.maxVelocity*n,s=1;switch(e.name){case"left":s=-1;case"right":i.setScrollLeft(i.getScrollLeft()+l*s);break;case"top":s=-1;case"bottom":i.setScrollTop(i.getScrollTop()+l*s);break}}computeBestEdge(e,n){let{edgeThreshold:i}=this,a=null,r=this.scrollCaches||[];for(let l of r){let s=l.clientRect,o=e-s.left,u=s.right-e,c=n-s.top,h=s.bottom-n;o>=0&&u>=0&&c>=0&&h>=0&&(c<=i&&this.everMovedUp&&l.canScrollUp()&&(!a||a.distance>c)&&(a={scrollCache:l,name:"top",distance:c}),h<=i&&this.everMovedDown&&l.canScrollDown()&&(!a||a.distance>h)&&(a={scrollCache:l,name:"bottom",distance:h}),o<=i&&this.everMovedLeft&&l.canScrollLeft()&&(!a||a.distance>o)&&(a={scrollCache:l,name:"left",distance:o}),u<=i&&this.everMovedRight&&l.canScrollRight()&&(!a||a.distance>u)&&(a={scrollCache:l,name:"right",distance:u}))}return a}buildCaches(e){return this.queryScrollEls(e).map(n=>n===window?new Xm(!1):new qd(n,!1))}queryScrollEls(e){let n=[];for(let i of this.scrollQuery)typeof i=="object"?n.push(i):n.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(i)));return n}},Or=class extends xo{constructor(e,n){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=a=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,Yp(document.body),jp(document.body),a.isTouch||a.origEvent.preventDefault(),this.emitter.trigger("pointerdown",a),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(a.subjectEl,a.pageX,a.pageY),this.startDelay(a),this.minDistance||this.handleDistanceSurpassed(a)))},this.onPointerMove=a=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",a),!this.isDistanceSurpassed){let r=this.minDistance,l,{deltaX:s,deltaY:o}=a;l=s*s+o*o,l>=r*r&&this.handleDistanceSurpassed(a)}this.isDragging&&(a.origEvent.type!=="scroll"&&(this.mirror.handleMove(a.pageX,a.pageY),this.autoScroller.handleMove(a.pageX,a.pageY)),this.emitter.trigger("dragmove",a))}},this.onPointerUp=a=>{this.isInteracting&&(this.isInteracting=!1,Vp(document.body),Pp(document.body),this.emitter.trigger("pointerup",a),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(a)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let i=this.pointer=new Pd(e);i.emitter.on("pointerdown",this.onPointerDown),i.emitter.on("pointermove",this.onPointerMove),i.emitter.on("pointerup",this.onPointerUp),n&&(i.selector=n),this.mirror=new Zm,this.autoScroller=new Km}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}},$m=class{constructor(e){this.el=e,this.origRect=Po(e),this.scrollCaches=Rd(e).map(n=>new qd(n,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let n of this.scrollCaches)e+=n.origScrollLeft-n.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let n of this.scrollCaches)e+=n.origScrollTop-n.getScrollTop();return e}isWithinClipping(e,n){let i={left:e,top:n};for(let a of this.scrollCaches)if(!OO(a.getEventTarget())&&!vm(i,a.clientRect))return!1;return!0}};function OO(t){let e=t.tagName;return e==="HTML"||e==="BODY"}var Wl=class{constructor(e,n){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=i=>{let{dragging:a}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(i),this.initialHit||!this.requireInitial?(a.setIgnoreMove(!1),this.emitter.trigger("pointerdown",i)):a.setIgnoreMove(!0)},this.handleDragStart=i=>{this.emitter.trigger("dragstart",i),this.handleMove(i,!0)},this.handleDragMove=i=>{this.emitter.trigger("dragmove",i),this.handleMove(i)},this.handlePointerUp=i=>{this.releaseHits(),this.emitter.trigger("pointerup",i)},this.handleDragEnd=i=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,i),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",i)},this.droppableStore=n,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new ki}processFirstCoord(e){let n={left:e.pageX,top:e.pageY},i=n,a=e.subjectEl,r;a instanceof HTMLElement&&(r=Po(a),i=bm(i,r));let l=this.initialHit=this.queryHitForOffset(i.left,i.top);if(l){if(this.useSubjectCenter&&r){let s=wd(r,l.rect);s&&(i=Em(s))}this.coordAdjust=Sm(i,n)}else this.coordAdjust={left:0,top:0}}handleMove(e,n){let i=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(n||!Gd(this.movingHit,i))&&(this.movingHit=i,this.emitter.trigger("hitupdate",i,!1,e))}prepareHits(){this.offsetTrackers=wn(this.droppableStore,e=>(e.component.prepareHits(),new $m(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let n in e)e[n].destroy();this.offsetTrackers={}}queryHitForOffset(e,n){let{droppableStore:i,offsetTrackers:a}=this,r=null;for(let l in i){let s=i[l].component,o=a[l];if(o&&o.isWithinClipping(e,n)){let u=o.computeLeft(),c=o.computeTop(),h=e-u,d=n-c,{origRect:f}=o,p=f.right-f.left,y=f.bottom-f.top;if(h>=0&&h<p&&d>=0&&d<y){let b=s.queryHit(h,d,p,y);b&&Vl(b.dateProfile.activeRange,b.dateSpan.range)&&(this.disablePointCheck||o.el.contains(o.el.getRootNode().elementFromPoint(h+u-window.scrollX,d+c-window.scrollY)))&&(!r||b.layer>r.layer)&&(b.componentId=l,b.context=s.context,b.rect.left+=u,b.rect.right+=u,b.rect.top+=c,b.rect.bottom+=c,r=b)}}}return r}};function Gd(t,e){return!t&&!e?!0:Boolean(t)!==Boolean(e)?!1:hm(t.dateSpan,e.dateSpan)}function xC(t,e){let n={};for(let i of e.pluginHooks.datePointTransforms)Object.assign(n,i(t,e));return Object.assign(n,NO(t,e.dateEnv)),n}function NO(t,e){return{date:e.toDate(t.range.start),dateStr:e.formatIso(t.range.start,{omitTime:t.allDay}),allDay:t.allDay}}var Jm=class extends Hn{constructor(e){super(e),this.handlePointerDown=i=>{let{dragging:a}=this,r=i.origEvent.target;a.setIgnoreMove(!this.component.isValidDateDownEl(r))},this.handleDragEnd=i=>{let{component:a}=this,{pointer:r}=this.dragging;if(!r.wasTouchScroll){let{initialHit:l,finalHit:s}=this.hitDragging;if(l&&s&&Gd(l,s)){let{context:o}=a,u=Object.assign(Object.assign({},xC(l.dateSpan,o)),{dayEl:l.dayEl,jsEvent:i.origEvent,view:o.viewApi||o.calendarApi.view});o.emitter.trigger("dateClick",u)}}},this.dragging=new Or(e.el),this.dragging.autoScroller.isEnabled=!1;let n=this.hitDragging=new Wl(this.dragging,jo(e));n.emitter.on("pointerdown",this.handlePointerDown),n.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}},ey=class extends Hn{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=l=>{let{component:s,dragging:o}=this,{options:u}=s.context,c=u.selectable&&s.isValidDateDownEl(l.origEvent.target);o.setIgnoreMove(!c),o.delay=l.isTouch?kO(s):null},this.handleDragStart=l=>{this.component.context.calendarApi.unselect(l)},this.handleHitUpdate=(l,s)=>{let{context:o}=this.component,u=null,c=!1;if(l){let h=this.hitDragging.initialHit;l.componentId===h.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(h,l)||(u=zO(h,l,o.pluginHooks.dateSelectionTransformers)),(!u||!Tm(u,l.dateProfile,o))&&(c=!0,u=null)}u?o.dispatch({type:"SELECT_DATES",selection:u}):s||o.dispatch({type:"UNSELECT_DATES"}),c?No():ko(),s||(this.dragSelection=u)},this.handlePointerUp=l=>{this.dragSelection&&(Cd(this.dragSelection,l,this.component.context),this.dragSelection=null)};let{component:n}=e,{options:i}=n.context,a=this.dragging=new Or(e.el);a.touchScrollAllowed=!1,a.minDistance=i.selectMinDistance||0,a.autoScroller.isEnabled=i.dragScroll;let r=this.hitDragging=new Wl(this.dragging,jo(e));r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragstart",this.handleDragStart),r.emitter.on("hitupdate",this.handleHitUpdate),r.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}};function kO(t){let{options:e}=t.context,n=e.selectLongPressDelay;return n==null&&(n=e.longPressDelay),n}function zO(t,e,n){let i=t.dateSpan,a=e.dateSpan,r=[i.range.start,i.range.end,a.range.start,a.range.end];r.sort(Fp);let l={};for(let s of n){let o=s(t,e);if(o===!1)return null;o&&Object.assign(l,o)}return l.range={start:r[0],end:r[3]},l.allDay=i.allDay,l}var Nr=class extends Hn{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=l=>{let s=l.origEvent.target,{component:o,dragging:u}=this,{mirror:c}=u,{options:h}=o.context,d=o.context;this.subjectEl=l.subjectEl;let f=this.subjectSeg=Li(l.subjectEl),y=(this.eventRange=f.eventRange).instance.instanceId;this.relevantEvents=Io(d.getCurrentData().eventStore,y),u.minDistance=l.isTouch?0:h.eventDragMinDistance,u.delay=l.isTouch&&y!==o.props.eventSelection?LO(o):null,h.fixedMirrorParent?c.parentNode=h.fixedMirrorParent:c.parentNode=dt(s,".fc"),c.revertDuration=h.dragRevertDuration;let b=o.isValidSegDownEl(s)&&!dt(s,".fc-event-resizer");u.setIgnoreMove(!b),this.isDragging=b&&l.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=l=>{let s=this.component.context,o=this.eventRange,u=o.instance.instanceId;l.isTouch?u!==this.component.props.eventSelection&&s.dispatch({type:"SELECT_EVENT",eventInstanceId:u}):s.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(s.calendarApi.unselect(l),s.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new _e(s,o.def,o.instance),jsEvent:l.origEvent,view:s.viewApi}))},this.handleHitUpdate=(l,s)=>{if(!this.isDragging)return;let o=this.relevantEvents,u=this.hitDragging.initialHit,c=this.component.context,h=null,d=null,f=null,p=!1,y={affectedEvents:o,mutatedEvents:Nt(),isEvent:!0};if(l){h=l.context;let b=h.options;c===h||b.editable&&b.droppable?(d=HO(u,l,this.eventRange.instance.range.start,h.getCurrentData().pluginHooks.eventDragMutationMassagers),d&&(f=Uo(o,h.getCurrentData().eventUiBases,d,h),y.mutatedEvents=f,Md(y,l.dateProfile,h)||(p=!0,d=null,f=null,y.mutatedEvents=Nt()))):h=null}this.displayDrag(h,y),p?No():ko(),s||(c===h&&Gd(u,l)&&(d=null),this.dragging.setMirrorNeedsRevert(!d),this.dragging.setMirrorIsVisible(!l||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=h,this.validMutation=d,this.mutatedRelevantEvents=f)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=l=>{if(this.isDragging){let s=this.component.context,o=s.viewApi,{receivingContext:u,validMutation:c}=this,h=this.eventRange.def,d=this.eventRange.instance,f=new _e(s,h,d),p=this.relevantEvents,y=this.mutatedRelevantEvents,{finalHit:b}=this.hitDragging;if(this.clearDrag(),s.emitter.trigger("eventDragStop",{el:this.subjectEl,event:f,jsEvent:l.origEvent,view:o}),c){if(u===s){let g=new _e(s,y.defs[h.defId],d?y.instances[d.instanceId]:null);s.dispatch({type:"MERGE_EVENTS",eventStore:y});let m={oldEvent:f,event:g,relatedEvents:ii(y,s,d),revert(){s.dispatch({type:"MERGE_EVENTS",eventStore:p})}},v={};for(let S of s.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(v,S(c,s));s.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},m),v),{el:l.subjectEl,delta:c.datesDelta,jsEvent:l.origEvent,view:o})),s.emitter.trigger("eventChange",m)}else if(u){let g={event:f,relatedEvents:ii(p,s,d),revert(){s.dispatch({type:"MERGE_EVENTS",eventStore:p})}};s.emitter.trigger("eventLeave",Object.assign(Object.assign({},g),{draggedEl:l.subjectEl,view:o})),s.dispatch({type:"REMOVE_EVENTS",eventStore:p}),s.emitter.trigger("eventRemove",g);let m=y.defs[h.defId],v=y.instances[d.instanceId],S=new _e(u,m,v);u.dispatch({type:"MERGE_EVENTS",eventStore:y});let A={event:S,relatedEvents:ii(y,u,v),revert(){u.dispatch({type:"REMOVE_EVENTS",eventStore:y})}};u.emitter.trigger("eventAdd",A),l.isTouch&&u.dispatch({type:"SELECT_EVENT",eventInstanceId:d.instanceId}),u.emitter.trigger("drop",Object.assign(Object.assign({},xC(b.dateSpan,u)),{draggedEl:l.subjectEl,jsEvent:l.origEvent,view:b.context.viewApi})),u.emitter.trigger("eventReceive",Object.assign(Object.assign({},A),{draggedEl:l.subjectEl,view:b.context.viewApi}))}}else s.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:n}=this,{options:i}=n.context,a=this.dragging=new Or(e.el);a.pointer.selector=Nr.SELECTOR,a.touchScrollAllowed=!1,a.autoScroller.isEnabled=i.dragScroll;let r=this.hitDragging=new Wl(this.dragging,Pl);r.useSubjectCenter=e.useEventCenter,r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragstart",this.handleDragStart),r.emitter.on("hitupdate",this.handleHitUpdate),r.emitter.on("pointerup",this.handlePointerUp),r.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,n){let i=this.component.context,a=this.receivingContext;a&&a!==e&&(a===i?a.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:n.affectedEvents,mutatedEvents:Nt(),isEvent:!0}}):a.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:n})}clearDrag(){let e=this.component.context,{receivingContext:n}=this;n&&n.dispatch({type:"UNSET_EVENT_DRAG"}),e!==n&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}};Nr.SELECTOR=".fc-event-draggable, .fc-event-resizable";function HO(t,e,n,i){let a=t.dateSpan,r=e.dateSpan,l=a.range.start,s=r.range.start,o={};a.allDay!==r.allDay&&(o.allDay=r.allDay,o.hasEnd=e.context.options.allDayMaintainDuration,r.allDay?l=De(n):l=n);let u=wa(l,s,t.context.dateEnv,t.componentId===e.componentId?t.largeUnit:null);u.milliseconds&&(o.allDay=!1);let c={datesDelta:u,standardProps:o};for(let h of i)h(c,t,e);return c}function LO(t){let{options:e}=t.context,n=e.eventLongPressDelay;return n==null&&(n=e.longPressDelay),n}var ty=class extends Hn{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=r=>{let{component:l}=this,s=this.querySegEl(r),o=Li(s),u=this.eventRange=o.eventRange;this.dragging.minDistance=l.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(r.origEvent.target)||r.isTouch&&this.component.props.eventSelection!==u.instance.instanceId)},this.handleDragStart=r=>{let{context:l}=this.component,s=this.eventRange;this.relevantEvents=Io(l.getCurrentData().eventStore,this.eventRange.instance.instanceId);let o=this.querySegEl(r);this.draggingSegEl=o,this.draggingSeg=Li(o),l.calendarApi.unselect(),l.emitter.trigger("eventResizeStart",{el:o,event:new _e(l,s.def,s.instance),jsEvent:r.origEvent,view:l.viewApi})},this.handleHitUpdate=(r,l,s)=>{let{context:o}=this.component,u=this.relevantEvents,c=this.hitDragging.initialHit,h=this.eventRange.instance,d=null,f=null,p=!1,y={affectedEvents:u,mutatedEvents:Nt(),isEvent:!0};r&&(r.componentId===c.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(c,r)||(d=BO(c,r,s.subjectEl.classList.contains("fc-event-resizer-start"),h.range))),d&&(f=Uo(u,o.getCurrentData().eventUiBases,d,o),y.mutatedEvents=f,Md(y,r.dateProfile,o)||(p=!0,d=null,f=null,y.mutatedEvents=null)),f?o.dispatch({type:"SET_EVENT_RESIZE",state:y}):o.dispatch({type:"UNSET_EVENT_RESIZE"}),p?No():ko(),l||(d&&Gd(c,r)&&(d=null),this.validMutation=d,this.mutatedRelevantEvents=f)},this.handleDragEnd=r=>{let{context:l}=this.component,s=this.eventRange.def,o=this.eventRange.instance,u=new _e(l,s,o),c=this.relevantEvents,h=this.mutatedRelevantEvents;if(l.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:u,jsEvent:r.origEvent,view:l.viewApi}),this.validMutation){let d=new _e(l,h.defs[s.defId],o?h.instances[o.instanceId]:null);l.dispatch({type:"MERGE_EVENTS",eventStore:h});let f={oldEvent:u,event:d,relatedEvents:ii(h,l,o),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:c})}};l.emitter.trigger("eventResize",Object.assign(Object.assign({},f),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||te(0),endDelta:this.validMutation.endDelta||te(0),jsEvent:r.origEvent,view:l.viewApi})),l.emitter.trigger("eventChange",f)}else l.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:n}=e,i=this.dragging=new Or(e.el);i.pointer.selector=".fc-event-resizer",i.touchScrollAllowed=!1,i.autoScroller.isEnabled=n.context.options.dragScroll;let a=this.hitDragging=new Wl(this.dragging,jo(e));a.emitter.on("pointerdown",this.handlePointerDown),a.emitter.on("dragstart",this.handleDragStart),a.emitter.on("hitupdate",this.handleHitUpdate),a.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return dt(e.subjectEl,".fc-event")}};function BO(t,e,n,i){let a=t.context.dateEnv,r=t.dateSpan.range.start,l=e.dateSpan.range.start,s=wa(r,l,a,t.largeUnit);if(n){if(a.add(i.start,s)<i.end)return{startDelta:s}}else if(a.add(i.end,s)>i.start)return{endDelta:s};return null}var ny=class{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=i=>{i.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=i=>{let a=this.context.options.unselectCancel,r=hd(i.origEvent);this.matchesCancel=!!dt(r,a),this.matchesEvent=!!dt(r,Nr.SELECTOR)},this.onDocumentPointerUp=i=>{let{context:a}=this,{documentPointer:r}=this,l=a.getCurrentData();if(!r.wasTouchScroll){if(l.dateSelection&&!this.isRecentPointerDateSelect){let s=a.options.unselectAuto;s&&(!s||!this.matchesCancel)&&a.calendarApi.unselect(i)}l.eventSelection&&!this.matchesEvent&&a.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let n=this.documentPointer=new Pd(document);n.shouldIgnoreMove=!0,n.shouldWatchScroll=!1,n.emitter.on("pointerdown",this.onDocumentPointerDown),n.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}},IO={fixedMirrorParent:w},UO={dateClick:w,eventDragStart:w,eventDragStop:w,eventDrop:w,eventResizeStart:w,eventResizeStop:w,eventResize:w,drop:w,eventReceive:w,eventLeave:w};qo.dataAttrPrefix="";var RC=Mn({name:"@fullcalendar/interaction",componentInteractions:[Jm,ey,Nr,ty],calendarInteractions:[ny],elementDraggingImpl:Or,optionRefiners:IO,listenerRefiners:UO});var ay=class extends Ao{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(e){return e.allDay?["allDay"]:["timed"]}getKeysForEventDef(e){return e.allDay?fm(e)?["timed","allDay"]:["allDay"]:["timed"]}},YO=Ne({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function zC(t){let e=["fc-timegrid-slot","fc-timegrid-slot-label",t.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return E(Rn.Consumer,null,n=>{if(!t.isLabeled)return E("td",{className:e.join(" "),"data-time":t.isoTimeStr});let{dateEnv:i,options:a,viewApi:r}=n,l=a.slotLabelFormat==null?YO:Array.isArray(a.slotLabelFormat)?Ne(a.slotLabelFormat[0]):Ne(a.slotLabelFormat),s={level:0,time:t.time,date:i.toDate(t.date),view:r,text:i.format(t.date,l)};return E(vt,{elTag:"td",elClasses:e,elAttrs:{"data-time":t.isoTimeStr},renderProps:s,generatorName:"slotLabelContent",customGenerator:a.slotLabelContent,defaultGenerator:VO,classNameGenerator:a.slotLabelClassNames,didMount:a.slotLabelDidMount,willUnmount:a.slotLabelWillUnmount},o=>E("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},E(o,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function VO(t){return t.text}var ry=class extends se{render(){return this.props.slatMetas.map(e=>E("tr",{key:e.key},E(zC,Object.assign({},e))))}},jO=Ne({week:"short"}),PO=5,ly=class extends Bt{constructor(){super(...arguments),this.allDaySplitter=new ay,this.headerElRef=st(),this.rootElRef=st(),this.scrollerElRef=st(),this.state={slatCoords:null},this.handleScrollTopRequest=e=>{let n=this.scrollerElRef.current;n&&(n.scrollTop=e)},this.renderHeadAxis=(e,n="")=>{let{options:i}=this.context,{dateProfile:a}=this.props,r=a.renderRange,s=Hi(r.start,r.end)===1?xr(this.context,r.start,"week"):{};return i.weekNumbers&&e==="day"?E(Zo,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:r.start,defaultFormat:jO},o=>E("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:n}},E(o,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:s}))):E("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},E("div",{className:"fc-timegrid-axis-frame",style:{height:n}}))},this.renderTableRowAxis=e=>{let{options:n,viewApi:i}=this.context,a={text:n.allDayText,view:i};return E(vt,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:a,generatorName:"allDayContent",customGenerator:n.allDayContent,defaultGenerator:FO,classNameGenerator:n.allDayClassNames,didMount:n.allDayDidMount,willUnmount:n.allDayWillUnmount},r=>E("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",e==null?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:e}},E(r,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=e=>{this.setState({slatCoords:e})}}renderSimpleLayout(e,n,i){let{context:a,props:r}=this,l=[],s=Rr(a.options);return e&&l.push({type:"header",key:"header",isSticky:s,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),n&&(l.push({type:"body",key:"all-day",chunk:{content:n}}),l.push({type:"body",key:"all-day-divider",outerContent:E("tr",{role:"presentation",className:"fc-scrollgrid-section"},E("td",{className:"fc-timegrid-divider "+a.theme.getClass("tableCellShaded")}))})),l.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(a.options.expandRows),chunk:{scrollerElRef:this.scrollerElRef,content:i}}),E(Ni,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:a.viewSpec},E(xa,{liquid:!r.isHeightAuto&&!r.forPrint,collapsibleWidth:r.forPrint,cols:[{width:"shrink"}],sections:l}))}renderHScrollLayout(e,n,i,a,r,l,s){let o=this.context.pluginHooks.scrollGridImpl;if(!o)throw new Error("No ScrollGrid implementation");let{context:u,props:c}=this,h=!c.forPrint&&Rr(u.options),d=!c.forPrint&&Go(u.options),f=[];e&&f.push({type:"header",key:"header",isSticky:h,syncRowHeights:!0,chunks:[{key:"axis",rowContent:y=>E("tr",{role:"presentation"},this.renderHeadAxis("day",y.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),n&&(f.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:y=>E("tr",{role:"presentation"},this.renderTableRowAxis(y.rowSyncHeights[0]))},{key:"cols",content:n}]}),f.push({key:"all-day-divider",type:"body",outerContent:E("tr",{role:"presentation",className:"fc-scrollgrid-section"},E("td",{colSpan:2,className:"fc-timegrid-divider "+u.theme.getClass("tableCellShaded")}))}));let p=u.options.nowIndicator;return f.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(u.options.expandRows),chunks:[{key:"axis",content:y=>E("div",{className:"fc-timegrid-axis-chunk"},E("table",{"aria-hidden":!0,style:{height:y.expandRows?y.clientHeight:""}},y.tableColGroupNode,E("tbody",null,E(ry,{slatMetas:l}))),E("div",{className:"fc-timegrid-now-indicator-container"},E(xn,{unit:p?"minute":"day"},b=>{let g=p&&s&&s.safeComputeTop(b);return typeof g=="number"?E(Wo,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:g},isAxis:!0,date:b}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:i}]}),d&&f.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:Fl},{key:"cols",content:Fl}]}),E(Ni,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:u.viewSpec},E(o,{liquid:!c.isHeightAuto&&!c.forPrint,forPrint:c.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:a,minWidth:r}]}],sections:f}))}getAllDayMaxEventProps(){let{dayMaxEvents:e,dayMaxEventRows:n}=this.context.options;return(e===!0||n===!0)&&(e=void 0,n=PO),{dayMaxEvents:e,dayMaxEventRows:n}}};function FO(t){return t.text}var sy=class{constructor(e,n,i){this.positions=e,this.dateProfile=n,this.slotDuration=i}safeComputeTop(e){let{dateProfile:n}=this;if(_n(n.currentRange,e)){let i=De(e),a=e.valueOf()-i.valueOf();if(a>=cn(n.slotMinTime)&&a<cn(n.slotMaxTime))return this.computeTimeTop(te(a))}return null}computeDateTop(e,n){return n||(n=De(e)),this.computeTimeTop(te(e.valueOf()-n.valueOf()))}computeTimeTop(e){let{positions:n,dateProfile:i}=this,a=n.els.length,r=(e.milliseconds-cn(i.slotMinTime))/cn(this.slotDuration),l,s;return r=Math.max(0,r),r=Math.min(a,r),l=Math.floor(r),l=Math.min(l,a-1),s=r-l,n.tops[l]+n.getHeight(l)*s}},oy=class extends se{render(){let{props:e,context:n}=this,{options:i}=n,{slatElRefs:a}=e;return E("tbody",null,e.slatMetas.map((r,l)=>{let s={time:r.time,date:n.dateEnv.toDate(r.date),view:n.viewApi};return E("tr",{key:r.key,ref:a.createRef(r.key)},e.axis&&E(zC,Object.assign({},r)),E(vt,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!r.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":r.isoTimeStr},renderProps:s,generatorName:"slotLaneContent",customGenerator:i.slotLaneContent,classNameGenerator:i.slotLaneClassNames,didMount:i.slotLaneDidMount,willUnmount:i.slotLaneWillUnmount}))}))}},uy=class extends se{constructor(){super(...arguments),this.rootElRef=st(),this.slatElRefs=new Xt}render(){let{props:e,context:n}=this;return E("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},E("table",{"aria-hidden":!0,className:n.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,E(oy,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:e,props:n}=this;n.onCoords&&n.clientWidth!==null&&this.rootElRef.current.offsetHeight&&n.onCoords(new sy(new Ln(this.rootElRef.current,qO(this.slatElRefs.currentMap,n.slatMetas),!1,!0),this.props.dateProfile,e.options.slotDuration))}};function qO(t,e){return e.map(n=>t[n.key])}function $o(t,e){let n=[],i;for(i=0;i<e;i+=1)n.push([]);if(t)for(i=0;i<t.length;i+=1)n[t[i].col].push(t[i]);return n}function MC(t,e){let n=[];if(t){for(let i=0;i<e;i+=1)n[i]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let i of t.segs)n[i.col].segs.push(i)}else for(let i=0;i<e;i+=1)n[i]=null;return n}var cy=class extends se{render(){let{props:e}=this;return E(Tr,{elClasses:["fc-timegrid-more-link"],elStyle:{top:e.top,bottom:e.bottom},allDayDate:null,moreCnt:e.hiddenSegs.length,allSegs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:()=>HC(e.hiddenSegs,e),defaultGenerator:GO,forceTimed:!0},n=>E(n,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}};function GO(t){return t.shortText}function WO(t,e,n){let i=new vr;e!=null&&(i.strictOrder=e),n!=null&&(i.maxStackCnt=n);let a=i.addSegs(t),r=Cm(a),l=QO(i);return l=$O(l,1),{segRects:JO(l),hiddenGroups:r}}function QO(t){let{entriesByLevel:e}=t,n=my((i,a)=>i+":"+a,(i,a)=>{let r=KO(t,i,a),l=OC(r,n),s=e[i][a];return[Object.assign(Object.assign({},s),{nextLevelNodes:l[0]}),s.thickness+l[1]]});return OC(e.length?{level:0,lateralStart:0,lateralEnd:e[0].length}:null,n)[0]}function OC(t,e){if(!t)return[[],0];let{level:n,lateralStart:i,lateralEnd:a}=t,r=i,l=[];for(;r<a;)l.push(e(n,r)),r+=1;return l.sort(ZO),[l.map(XO),l[0][1]]}function ZO(t,e){return e[1]-t[1]}function XO(t){return t[0]}function KO(t,e,n){let{levelCoords:i,entriesByLevel:a}=t,r=a[e][n],l=i[e]+r.thickness,s=i.length,o=e;for(;o<s&&i[o]<l;o+=1);for(;o<s;o+=1){let u=a[o],c,h=wo(u,r.span.start,_o),d=h[0]+h[1],f=d;for(;(c=u[f])&&c.span.start<r.span.end;)f+=1;if(d<f)return{level:o,lateralStart:d,lateralEnd:f}}return null}function $O(t,e){let n=my((i,a,r)=>ti(i),(i,a,r)=>{let{nextLevelNodes:l,thickness:s}=i,o=s+r,u=s/o,c,h=[];if(!l.length)c=e;else for(let f of l)if(c===void 0){let p=n(f,a,o);c=p[0],h.push(p[1])}else{let p=n(f,c,0);h.push(p[1])}let d=(c-a)*u;return[c-d,Object.assign(Object.assign({},i),{thickness:d,nextLevelNodes:h})]});return t.map(i=>n(i,0,0)[1])}function JO(t){let e=[],n=my((a,r,l)=>ti(a),(a,r,l)=>{let s=Object.assign(Object.assign({},a),{levelCoord:r,stackDepth:l,stackForward:0});return e.push(s),s.stackForward=i(a.nextLevelNodes,r+a.thickness,l+1)+1});function i(a,r,l){let s=0;for(let o of a)s=Math.max(n(o,r,l),s);return s}return i(t,0,0),e}function my(t,e){let n={};return(...i)=>{let a=t(...i);return a in n?n[a]:n[a]=e(...i)}}function NC(t,e,n=null,i=0){let a=[];if(n)for(let r=0;r<t.length;r+=1){let l=t[r],s=n.computeDateTop(l.start,e),o=Math.max(s+(i||0),n.computeDateTop(l.end,e));a.push({start:Math.round(s),end:Math.round(o)})}return a}function eN(t,e,n,i){let a=[],r=[];for(let u=0;u<t.length;u+=1){let c=e[u];c?a.push({index:u,thickness:1,span:c}):r.push(t[u])}let{segRects:l,hiddenGroups:s}=WO(a,n,i),o=[];for(let u of l)o.push({seg:t[u.index],rect:u});for(let u of r)o.push({seg:u,rect:null});return{segPlacements:o,hiddenGroups:s}}var tN=Ne({hour:"numeric",minute:"2-digit",meridiem:!1}),Wd=class extends se{render(){return E(Ra,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:tN}))}},dy=class extends se{constructor(){super(...arguments),this.sortEventSegs=j(Yo)}render(){let{props:e,context:n}=this,{options:i}=n,a=i.selectMirror,r=e.eventDrag&&e.eventDrag.segs||e.eventResize&&e.eventResize.segs||a&&e.dateSelectionSegs||[],l=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},s=this.sortEventSegs(e.fgEventSegs,i.eventOrder);return E(Ma,{elTag:"td",elRef:e.elRef,elClasses:["fc-timegrid-col",...e.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},e.extraDataAttrs),date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraRenderProps:e.extraRenderProps},o=>E("div",{className:"fc-timegrid-col-frame"},E("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(e.businessHourSegs,"non-business"),this.renderFillSegs(e.bgEventSegs,"bg-event"),this.renderFillSegs(e.dateSelectionSegs,"highlight")),E("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(s,l,!1,!1,!1)),E("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(r,{},Boolean(e.eventDrag),Boolean(e.eventResize),Boolean(a),"mirror")),E("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(e.nowIndicatorSegs)),ql(i)&&E(o,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(e,n,i,a,r,l){let{props:s}=this;return s.forPrint?HC(e,s):this.renderPositionedFgSegs(e,n,i,a,r,l)}renderPositionedFgSegs(e,n,i,a,r,l){let{eventMaxStack:s,eventShortHeight:o,eventOrderStrict:u,eventMinHeight:c}=this.context.options,{date:h,slatCoords:d,eventSelection:f,todayRange:p,nowDate:y}=this.props,b=i||a||r,g=NC(e,h,d,c),{segPlacements:m,hiddenGroups:v}=eN(e,g,u,s);return E(me,null,this.renderHiddenGroups(v,e),m.map(S=>{let{seg:A,rect:T}=S,x=A.eventRange.instance.instanceId,M=b||Boolean(!n[x]&&T),z=iy(T&&T.span),I=!b&&T?this.computeSegHStyle(T):{left:0,right:0},ee=Boolean(T)&&T.stackForward>0,We=Boolean(T)&&T.span.end-T.span.start<o;return E("div",{className:"fc-timegrid-event-harness"+(ee?" fc-timegrid-event-harness-inset":""),key:l||x,style:Object.assign(Object.assign({visibility:M?"":"hidden"},z),I)},E(Wd,Object.assign({seg:A,isDragging:i,isResizing:a,isDateSelecting:r,isSelected:x===f,isShort:We},Bn(A,p,y))))}))}renderHiddenGroups(e,n){let{extraDateSpan:i,dateProfile:a,todayRange:r,nowDate:l,eventSelection:s,eventDrag:o,eventResize:u}=this.props;return E(me,null,e.map(c=>{let h=iy(c.span),d=nN(c.entries,n);return E(cy,{key:pd(Od(d)),hiddenSegs:d,top:h.top,bottom:h.bottom,extraDateSpan:i,dateProfile:a,todayRange:r,nowDate:l,eventSelection:s,eventDrag:o,eventResize:u})}))}renderFillSegs(e,n){let{props:i,context:a}=this,l=NC(e,i.date,i.slatCoords,a.options.eventMinHeight).map((s,o)=>{let u=e[o];return E("div",{key:Vo(u.eventRange),className:"fc-timegrid-bg-harness",style:iy(s)},n==="bg-event"?E(Cr,Object.assign({seg:u},Bn(u,i.todayRange,i.nowDate))):Qo(n))});return E(me,null,l)}renderNowIndicator(e){let{slatCoords:n,date:i}=this.props;return n?e.map((a,r)=>E(Wo,{key:r,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:n.computeDateTop(a.start,i)},isAxis:!1,date:i})):null}computeSegHStyle(e){let{isRtl:n,options:i}=this.context,a=i.slotEventOverlap,r=e.levelCoord,l=e.levelCoord+e.thickness,s,o;a&&(l=Math.min(1,r+(l-r)*2)),n?(s=1-l,o=r):(s=r,o=1-l);let u={zIndex:e.stackDepth+1,left:s*100+"%",right:o*100+"%"};return a&&!e.stackForward&&(u[n?"marginLeft":"marginRight"]=10*2),u}};function HC(t,{todayRange:e,nowDate:n,eventSelection:i,eventDrag:a,eventResize:r}){let l=(a?a.affectedInstances:null)||(r?r.affectedInstances:null)||{};return E(me,null,t.map(s=>{let o=s.eventRange.instance.instanceId;return E("div",{key:o,style:{visibility:l[o]?"hidden":""}},E(Wd,Object.assign({seg:s,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:o===i,isShort:!1},Bn(s,e,n))))}))}function iy(t){return t?{top:t.start,bottom:-t.end}:{top:"",bottom:""}}function nN(t,e){return t.map(n=>e[n.index])}var fy=class extends se{constructor(){super(...arguments),this.splitFgEventSegs=j($o),this.splitBgEventSegs=j($o),this.splitBusinessHourSegs=j($o),this.splitNowIndicatorSegs=j($o),this.splitDateSelectionSegs=j($o),this.splitEventDrag=j(MC),this.splitEventResize=j(MC),this.rootElRef=st(),this.cellElRefs=new Xt}render(){let{props:e,context:n}=this,i=n.options.nowIndicator&&e.slatCoords&&e.slatCoords.safeComputeTop(e.nowDate),a=e.cells.length,r=this.splitFgEventSegs(e.fgEventSegs,a),l=this.splitBgEventSegs(e.bgEventSegs,a),s=this.splitBusinessHourSegs(e.businessHourSegs,a),o=this.splitNowIndicatorSegs(e.nowIndicatorSegs,a),u=this.splitDateSelectionSegs(e.dateSelectionSegs,a),c=this.splitEventDrag(e.eventDrag,a),h=this.splitEventResize(e.eventResize,a);return E("div",{className:"fc-timegrid-cols",ref:this.rootElRef},E("table",{role:"presentation",style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,E("tbody",{role:"presentation"},E("tr",{role:"row"},e.axis&&E("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},E("div",{className:"fc-timegrid-col-frame"},E("div",{className:"fc-timegrid-now-indicator-container"},typeof i=="number"&&E(Wo,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:i},isAxis:!0,date:e.nowDate})))),e.cells.map((d,f)=>E(dy,{key:d.key,elRef:this.cellElRefs.createRef(d.key),dateProfile:e.dateProfile,date:d.date,nowDate:e.nowDate,todayRange:e.todayRange,extraRenderProps:d.extraRenderProps,extraDataAttrs:d.extraDataAttrs,extraClassNames:d.extraClassNames,extraDateSpan:d.extraDateSpan,fgEventSegs:r[f],bgEventSegs:l[f],businessHourSegs:s[f],nowIndicatorSegs:o[f],dateSelectionSegs:u[f],eventDrag:c[f],eventResize:h[f],slatCoords:e.slatCoords,eventSelection:e.eventSelection,forPrint:e.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:e}=this;e.onColCoords&&e.clientWidth!==null&&e.onColCoords(new Ln(this.rootElRef.current,iN(this.cellElRefs.currentMap,e.cells),!0,!1))}};function iN(t,e){return e.map(n=>t[n.key])}var hy=class extends Bt{constructor(){super(...arguments),this.processSlotOptions=j(aN),this.state={slatCoords:null},this.handleRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=e=>{let{onScrollTopRequest:n}=this.props,{slatCoords:i}=this.state;if(n&&i){if(e.time){let a=i.computeTimeTop(e.time);a=Math.ceil(a),a&&(a+=1),n(a)}return!0}return!1},this.handleColCoords=e=>{this.colCoords=e},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){let{props:e,state:n}=this;return E("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},E(uy,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),E(fy,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:n.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(e,n){let{dateEnv:i,options:a}=this.context,{colCoords:r}=this,{dateProfile:l}=this.props,{slatCoords:s}=this.state,{snapDuration:o,snapsPerSlot:u}=this.processSlotOptions(this.props.slotDuration,a.snapDuration),c=r.leftToIndex(e),h=s.positions.topToIndex(n);if(c!=null&&h!=null){let d=this.props.cells[c],f=s.positions.tops[h],p=s.positions.getHeight(h),y=(n-f)/p,b=Math.floor(y*u),g=h*u+b,m=this.props.cells[c].date,v=zo(l.slotMinTime,qp(o,g)),S=i.add(m,v),A=i.add(S,o);return{dateProfile:l,dateSpan:Object.assign({range:{start:S,end:A},allDay:!1},d.extraDateSpan),dayEl:r.els[c],rect:{left:r.lefts[c],right:r.rights[c],top:f,bottom:f+p},layer:0}}return null}};function aN(t,e){let n=e||t,i=Ho(t,n);return i===null&&(n=t,i=1),{snapDuration:n,snapsPerSlot:i}}var gy=class extends Dr{sliceRange(e,n){let i=[];for(let a=0;a<n.length;a+=1){let r=zn(e,n[a]);r&&i.push({start:r.start,end:r.end,isStart:r.start.valueOf()===e.start.valueOf(),isEnd:r.end.valueOf()===e.end.valueOf(),col:a})}return i}},py=class extends Bt{constructor(){super(...arguments),this.buildDayRanges=j(rN),this.slicer=new gy,this.timeColsRef=st()}render(){let{props:e,context:n}=this,{dateProfile:i,dayTableModel:a}=e,{nowIndicator:r,nextDayThreshold:l}=n.options,s=this.buildDayRanges(a,i,n.dateEnv);return E(xn,{unit:r?"minute":"day"},(o,u)=>E(hy,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(e,i,null,n,s),{forPrint:e.forPrint,axis:e.axis,dateProfile:i,slatMetas:e.slatMetas,slotDuration:e.slotDuration,cells:a.cells[0],tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,expandRows:e.expandRows,nowDate:o,nowIndicatorSegs:r&&this.slicer.sliceNowDate(o,i,l,n,s),todayRange:u,onScrollTopRequest:e.onScrollTopRequest,onSlatCoords:e.onSlatCoords})))}};function rN(t,e,n){let i=[];for(let a of t.headerDates)i.push({start:n.add(a,e.slotMinTime),end:n.add(a,e.slotMaxTime)});return i}var kC=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function lN(t,e,n,i,a){let r=new Date(0),l=t,s=te(0),o=n||sN(i),u=[];for(;cn(l)<cn(e);){let c=a.add(r,l),h=Ho(s,o)!==null;u.push({date:c,time:l,key:c.toISOString(),isoTimeStr:Zp(c),isLabeled:h}),l=zo(l,i),s=zo(s,i)}return u}function sN(t){let e,n,i;for(e=kC.length-1;e>=0;e-=1)if(n=te(kC[e]),i=Ho(n,t),i!==null&&i>1)return n;return t}var Qd=class extends ly{constructor(){super(...arguments),this.buildTimeColsModel=j(oN),this.buildSlatMetas=j(lN)}render(){let{options:e,dateEnv:n,dateProfileGenerator:i}=this.context,{props:a}=this,{dateProfile:r}=a,l=this.buildTimeColsModel(r,i),s=this.allDaySplitter.splitProps(a),o=this.buildSlatMetas(r.slotMinTime,r.slotMaxTime,e.slotLabelInterval,e.slotDuration,n),{dayMinWidth:u}=e,c=!u,h=u,d=e.dayHeaders&&E(br,{dates:l.headerDates,dateProfile:r,datesRepDistinctDays:!0,renderIntro:c?this.renderHeadAxis:null}),f=e.allDaySlot!==!1&&(y=>E(Ko,Object.assign({},s.allDay,{dateProfile:r,dayTableModel:l,nextDayThreshold:e.nextDayThreshold,tableMinWidth:y.tableMinWidth,colGroupNode:y.tableColGroupNode,renderRowIntro:c?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:y.clientWidth,clientHeight:y.clientHeight,forPrint:a.forPrint},this.getAllDayMaxEventProps()))),p=y=>E(py,Object.assign({},s.timed,{dayTableModel:l,dateProfile:r,axis:c,slotDuration:e.slotDuration,slatMetas:o,forPrint:a.forPrint,tableColGroupNode:y.tableColGroupNode,tableMinWidth:y.tableMinWidth,clientWidth:y.clientWidth,clientHeight:y.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:y.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return h?this.renderHScrollLayout(d,f,p,l.colCnt,u,o,this.state.slatCoords):this.renderSimpleLayout(d,f,p)}};function oN(t,e){let n=new Er(t.renderRange,e);return new Sr(n,!1)}var uN='.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-arrow,.fc .fc-timegrid-now-indicator-line{pointer-events:none}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}';Il(uN);var cN={allDaySlot:Boolean},yy=Mn({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:cN,views:{timeGrid:{component:Qd,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});var $d=require("obsidian");var BC=gn(Wi(),1);var LC=gn(Wi(),1),Zd=(0,LC.createContext)(void 0);var IC=()=>(0,BC.useContext)(Zd);var vy=!1;function ye(t,...e){vy&&console.log(t,...e)}function $e(t,...e){vy&&console.warn(t,...e)}function Me(t,...e){vy&&console.error(t,...e)}var li={low:"#9ca3af",normal:"#60a5fa",medium:"#facc15",high:"#f87171"},UC={open:"normal",complete:"strikethrough",completed:"strikethrough","wont-do":"strikethrough",working:"bold",blocked:"italic"};function Bi(t){let e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),i=String(t.getDate()).padStart(2,"0"),a=String(t.getHours()).padStart(2,"0"),r=String(t.getMinutes()).padStart(2,"0"),l=String(t.getSeconds()).padStart(2,"0");return`${e}-${n}-${i} ${a}:${r}:${l}`}function YC(t){let e=Math.max(0,Math.min(220,t)),n=.5-.1;return .5-e/220*n}function VC(t){return Math.max(4,Math.round(90*t))}var W=gn(Jo(),1),by="00:00:00",Ey="24:00:00",qC="08:00:00",hN=[Gm,yy,RC];var gN=t=>typeof t=="object"&&t!==null&&"date"in t&&t.date instanceof Date,Jd=t=>{if(t==null)return"";if(typeof t=="object"){if("data"in t)return Jd(t.data);if(Array.isArray(t))return t.map(e=>Jd(e)).filter(Boolean).join(", ");if(gN(t))return t.date?t.date.toISOString():""}return t instanceof Date?t.toISOString():typeof t=="string"||typeof t=="number"?String(t):typeof t=="boolean"?t?"true":"false":String(t)};var Kd=t=>{let e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),i=String(t.getDate()).padStart(2,"0");return`${e}-${n}-${i}`},GC=t=>{let[e,n]=t.split(":"),i=Number.parseInt(e!=null?e:"0",10)||0,a=Number.parseInt(n!=null?n:"0",10)||0;return Math.max(0,i*60+a)},Sy=(t,e)=>{try{return t.getValue(e)}catch(n){return null}},QC=({entries:t,weekStartDay:e,properties:n,onEntryClick:i,onEntryContextMenu:a,onEventDrop:r,onEventResize:l,onCreateSelection:s,onExternalDrop:o,editable:u,condenseLevel:c,onCondenseLevelChange:h,showFullDay:d,viewMode:f,slotRange:p,navStep:y,onToggleFullDay:b,allDayProperty:g,initialDate:m,currentDate:v,onDateChange:S,showHiddenHoursToggle:A=!0,defaultEventDuration:T=60,onDateClick:x,headerContainer:M,showNavButtons:z,onDateMouseEnter:I,onDateSelectorClick:ee,headerPortalTarget:We})=>{var hv,gv,pv,mv;let U=IC()||window.app,Y=(0,k.useRef)(null),Z=(0,k.useRef)(null),[ne,$]=(0,k.useState)(0),[Q,Dt]=(0,k.useState)(d!=null?d:!0),[Qe,He]=(0,k.useState)(!0),[Yt,ui]=(0,k.useState)(""),[he,ie]=(0,k.useState)(!1),[q,F]=(0,k.useState)(!1),[nt,je]=(0,k.useState)(!1),[oe,Ze]=(0,k.useState)(!1),ht=(0,k.useRef)(null),[Mt,Ya]=(0,k.useState)(v||new Date),[is,Fi]=(0,k.useState)([]),ve=(0,k.useRef)(null),Vn=(0,k.useRef)(0),Ir=(0,k.useRef)(!1);(0,k.useLayoutEffect)(()=>{if(f==="continuous"&&ve.current&&Ir.current){let D=ve.current,_=D.scrollHeight-Vn.current;_>0&&(D.scrollTop+=_),Ir.current=!1}},[is,f]),(0,k.useEffect)(()=>{if(f==="continuous"){let D=v||new Date,_=[];for(let C=-2;C<=2;C++){let R=new Date(D);R.setDate(R.getDate()+C),_.push(R)}Fi(_),Ya(_[0]),setTimeout(()=>{if(ve.current){let C=ve.current.children[2];C&&(ve.current.scrollTop=C.offsetTop-50)}},50)}},[f,v]);let Va=(0,k.useCallback)(D=>{let _=D.currentTarget,C=200;_.scrollTop<C&&(Vn.current=_.scrollHeight,Ir.current=!0,Fi(R=>{let H=new Date(R[0]);H.setDate(H.getDate()-1);let B=[H,...R];return B.length>14&&B.pop(),B})),_.scrollHeight-_.scrollTop-_.clientHeight<C&&Fi(R=>{let H=new Date(R[R.length-1]);H.setDate(H.getDate()+1);let B=[...R,H];return B.length>14&&B.shift(),B})},[]),iu=(0,k.useRef)(0),[Pe,as]=(0,k.useState)(null),[$N,JN]=(0,k.useState)(null),[gT,pT]=(0,k.useState)(0);(0,k.useEffect)(()=>{let D=setInterval(()=>pT(_=>_+1),6e4);return()=>clearInterval(D)},[]);let pe=$d.Platform.isMobile,mT=nt||oe,ek=z!==!1&&!pe,By=pe?[Gm,yy]:hN,Ur=u,ja=!!s,yT={position:"fixed",top:"auto",bottom:"calc(72px + env(safe-area-inset-bottom, 0px))",left:"50%",transform:"translateX(-50%)",backgroundColor:"var(--background-primary)",border:"1px solid var(--background-modifier-border)",borderRadius:"20px",padding:"4px 12px",display:"flex",alignItems:"center",gap:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.2)",flexWrap:"nowrap",minWidth:0,pointerEvents:"none",touchAction:"pan-y",zIndex:10010};(0,k.useEffect)(()=>{pe&&Ze(!1)},[pe]);let Iy=Number.isFinite(e)?Math.max(0,Math.min(6,e)):1,Yr=f==="day"?1:f==="3d"?3:f==="5d"?5:7,vT=f==="month"?"dayGridMonth":f==="week"?"timeGridWeek":f==="day"||f==="continuous"?"timeGridDay":`timeGridRange-${Yr}`,Ef=typeof y=="number"?y:0,rs=!(f==="week"||f==="7d")&&Number.isFinite(Ef)&&Ef>0?Math.round(Ef):Yr,Vr=(0,k.useRef)(null),Uy=(0,k.useRef)(null);if(Uy.current!==f&&(Uy.current=f,Vr.current=null),!Vr.current)if(m)Vr.current=m;else{let D=(gv=v!=null?v:(hv=t[0])==null?void 0:hv.startDate)!=null?gv:new Date;if(f==="month")Vr.current=D;else{let _=Math.floor((Yr-1)/2),C=new Date(D);C.setHours(0,0,0,0),C.setDate(C.getDate()-_),Vr.current=C}}let bT=Vr.current,au=typeof d=="boolean"?d:Q,Yy=!!p&&(p.min!==by||p.max!==Ey),Vy=he?by:(pv=p==null?void 0:p.min)!=null?pv:by,jy=he?Ey:(mv=p==null?void 0:p.max)!=null?mv:Ey,Py=(0,k.useMemo)(()=>{if(!Yy||he||!p)return new Set;let D=GC(p.min),_=GC(p.max),C=new Set;return t.forEach(R=>{let H=g?Sy(R.entry,g):null,B=Jd(H).trim().toLowerCase();if(["true","yes","y","1"].includes(B))return;let de=R.startDate,gt=R.endDate?R.endDate:new Date(de.getTime()+T*60*1e3),At=de.getHours()*60+de.getMinutes(),Fe=gt.getHours()*60+gt.getMinutes(),qe=Kd(de)!==Kd(gt);(At<D||At>=_||Fe<=D||Fe>_||qe)&&(C.add(Kd(de)),qe&&C.add(Kd(gt)))}),C},[t,p,he,Yy,g,T]);(0,k.useEffect)(()=>{let D=Z.current;if(!D)return;D.querySelectorAll(".fc-timegrid-col[data-date], .fc-col-header-cell[data-date]").forEach(C=>{let R=C.getAttribute("data-date");R&&Py.has(R)?C.classList.add("has-hidden-time-event"):C.classList.remove("has-hidden-time-event")})},[Py,f]);let Sf=c!=null?c:80,Fy=YC(Sf),qy=VC(Fy);(0,k.useEffect)(()=>{var _;let D=(_=Y.current)==null?void 0:_.getApi();Z.current&&Z.current.style.setProperty("--calendar-slot-height",`${qy}px`),D&&D.updateSize()},[Sf,au,f]),(0,k.useEffect)(()=>{typeof d=="boolean"&&Dt(d)},[d]),(0,k.useEffect)(()=>{p||ie(!1)},[p]),(0,k.useEffect)(()=>{if(!Z.current||!Y.current)return;let D=Y.current.getApi(),_=[50,200,500].map(R=>setTimeout(()=>{Y.current&&Y.current.getApi().updateSize()},R)),C=new ResizeObserver(()=>{requestAnimationFrame(()=>{Y.current&&Y.current.getApi().updateSize()})});return C.observe(Z.current),()=>{C.disconnect(),_.forEach(clearTimeout)}},[]),(0,k.useEffect)(()=>{let D=()=>{Y.current&&Y.current.getApi().updateSize()};return window.addEventListener("resize",D),()=>window.removeEventListener("resize",D)},[]),(0,k.useEffect)(()=>{if(v&&Y.current){let D=Y.current.getApi();D.getDate().getTime()!==v.getTime()&&D.gotoDate(v)}},[v]);let nk=Yr,qi=(0,k.useMemo)(()=>{let D=new Map;return t.forEach(_=>{var C,R;(R=(C=_.entry)==null?void 0:C.file)!=null&&R.path&&D.set(_.entry.file.path,_.entry)}),D},[t]),Gy=(0,k.useMemo)(()=>{let D=new Date;return t.map(C=>{var yv,vv,bv,Ev;let R=new Date(C.startDate),H=C.endDate?new Date(C.endDate):new Date(R.getTime()+60*60*1e3),B=[...C.cssClasses||[]],de=C.isExternal?C.color||"#3788d8":C.backgroundColor||li.normal,gt=C.borderColor||de,At=g?Sy(C.entry,g):null,Fe=Jd(At).trim().toLowerCase(),Pn=["true","yes","y","1"].includes(Fe),ss=C.title||((vv=(yv=C.entry)==null?void 0:yv.file)==null?void 0:vv.basename)||"Untitled",lu=C.isGhost?`${ss} (upcoming)`:ss;return{id:C.isGhost?`ghost-${C.entry.path}-${R.getTime()}`:((bv=C.entry.file)==null?void 0:bv.path)+(C.isExternal?"":`-${de}`),title:lu,start:R,end:H,allDay:Pn,classNames:B,extendedProps:{entryPath:(Ev=C.entry.file)==null?void 0:Ev.path,calEntryTitle:C.title,status:C.status,priorityColor:de,isGhost:C.isGhost,ghostDate:C.ghostDate?C.ghostDate.toISOString():void 0},display:"block",backgroundColor:C.isGhost?"rgba(100, 100, 100, 0.3)":de,borderColor:C.isGhost?"rgba(100, 100, 100, 0.5)":gt,textColor:"#ffffff","data-priority-color":de}})},[t,g,gT]),Wy=(0,k.useCallback)(D=>{D.jsEvent.preventDefault();let _=D.event.extendedProps.entryPath,C=D.event.start,R=t.find(B=>B.entry.file.path===_&&(!C||Math.abs(B.startDate.getTime()-C.getTime())<1e3)),H=D.jsEvent.ctrlKey||D.jsEvent.metaKey;if(R){if($d.Platform.isMobile){let B={nativeEvent:D.jsEvent,currentTarget:D.el,target:D.el,preventDefault:()=>D.jsEvent.preventDefault(),stopPropagation:()=>D.jsEvent.stopPropagation()};B.nativeEvent.fullCalendarEvent=D.event,a(B,R.entry);return}i(R,H)}},[i,a,t]),jr=(0,k.useRef)(null),ET=(0,k.useCallback)(D=>{let _=D.event.extendedProps.entryPath,C=_?qi.get(_):void 0;if(!C)return;jr.current&&clearTimeout(jr.current),jr.current=setTimeout(()=>{U&&C&&U.workspace.trigger("hover-link",{event:D.jsEvent,source:"bases",hoverParent:U.renderContext,targetEl:D.el,linktext:C.file.path})},300);let R=H=>{var ue;H.preventDefault(),H.stopPropagation(),"stopImmediatePropagation"in H&&((ue=H.stopImmediatePropagation)==null||ue.call(H)),H.fullCalendarEvent=D.event;let B={nativeEvent:H,currentTarget:D.el,target:H.target,preventDefault:()=>H.preventDefault(),stopPropagation:()=>H.stopPropagation()};B.nativeEvent.fullCalendarEvent=D.event,C&&a(B,C)};D.el.addEventListener("contextmenu",R,!0)},[U,a,qi]),ST=(0,k.useCallback)(()=>{jr.current&&(clearTimeout(jr.current),jr.current=null)},[]),Qy=(0,k.useCallback)(async D=>{var gt,At,Fe,qe;let _=D.event.allDay;if(!r){D.revert();return}let C=D.event.extendedProps.entryPath,R=C?qi.get(C):void 0;if(!R){D.revert();return}let H=D.event.start,B=D.event.end;if(!H){D.revert();return}let ue=(At=(gt=D.oldEvent)==null?void 0:gt.start)!=null?At:void 0,de=(qe=(Fe=D.oldEvent)==null?void 0:Fe.end)!=null?qe:void 0;as({type:"drop",info:D,entry:R,newStart:H,newEnd:B!=null?B:H,allDay:_,oldStart:ue,oldEnd:de})},[r,qi]),Zy=(0,k.useCallback)(async D=>{var de,gt,At,Fe;if(!l){D.revert();return}let _=D.event.extendedProps.entryPath,C=_?qi.get(_):void 0;if(!C){D.revert();return}let R=D.event.start,H=D.event.end;if(!R||!H){D.revert();return}let B=(gt=(de=D.oldEvent)==null?void 0:de.start)!=null?gt:void 0,ue=(Fe=(At=D.oldEvent)==null?void 0:At.end)!=null?Fe:void 0;as({type:"resize",info:D,entry:C,newStart:R,newEnd:H,allDay:D.event.allDay,oldStart:B,oldEnd:ue})},[l,qi]),DT=(0,k.useCallback)(async D=>{var _,C,R,H;if(Pe)try{Pe.type==="drop"&&r?await r(Pe.entry,Pe.newStart,(_=Pe.newEnd)!=null?_:void 0,Pe.allDay,D,Pe.oldStart,(C=Pe.oldEnd)!=null?C:void 0):Pe.type==="resize"&&l&&await l(Pe.entry,Pe.newStart,(R=Pe.newEnd)!=null?R:void 0,Pe.allDay,D,Pe.oldStart,(H=Pe.oldEnd)!=null?H:void 0),as(null)}catch(B){Me(B),Pe.info.revert(),as(null)}},[Pe,r,l]),Xy=(0,k.useCallback)(()=>{Pe&&(Pe.info.revert(),as(null))},[Pe]),Df=(0,k.useCallback)(D=>`${String(D.getHours()).padStart(2,"0")}:${String(D.getMinutes()).padStart(2,"0")}`,[]),Gi=(0,k.useCallback)((D,_)=>{let C=D.start,R=D.end,H=_.querySelector(".bases-calendar-time-top"),B=_.querySelector(".bases-calendar-time-bottom");!H||!B||!C||!R||(H.textContent=Df(C),B.textContent=Df(R))},[Df]),jn=(0,k.useCallback)((D,_)=>{D.querySelectorAll(".bases-calendar-time-top, .bases-calendar-time-bottom").forEach(R=>{_?R.classList.add("is-visible"):R.classList.remove("is-visible")})},[]),Ky=(0,k.useCallback)(D=>{var gt,At;let _=D.el,C=D.event;if(!_)return;let R=(gt=C.extendedProps.priorityColor)!=null?gt:"";R&&_.style.setProperty("--priority-color",R),C.extendedProps.entryPath&&(_.setAttribute("data-path",C.extendedProps.entryPath),_.classList.add("tps-calendar-entry"));let H=_.querySelector(".fc-event-main-frame")||_.querySelector(".fc-event-main");if(H&&!H.querySelector(".bases-calendar-event-content")){let Fe=C.title||"Untitled";if(!((At=H.textContent)!=null&&At.trim())){let qe=document.createElement("div");qe.className="bases-calendar-event-content",qe.innerHTML=`<div class="bases-calendar-event-title">${Fe}</div>`,H.appendChild(qe)}}let B=_.querySelector(".bases-calendar-time-top"),ue=_.querySelector(".bases-calendar-time-bottom");B||(B=document.createElement("div"),B.className="bases-calendar-time-top",_.prepend(B)),ue||(ue=document.createElement("div"),ue.className="bases-calendar-time-bottom",_.append(ue)),Gi(C,_),jn(_,!1);let de=Fe=>{Fe.preventDefault(),Fe.stopPropagation();let qe=C.extendedProps.entry;if(qe&&a){Fe.fullCalendarEvent=C;let Pn={nativeEvent:Fe,currentTarget:_,target:Fe.target,preventDefault:()=>Fe.preventDefault(),stopPropagation:()=>Fe.stopPropagation()};Pn.nativeEvent.fullCalendarEvent=C,a(Pn,qe)}};_.addEventListener("contextmenu",de)},[jn,Gi,a]),$y=(0,k.useCallback)(D=>{let{date:_,el:C}=D,R=C.querySelector("a.fc-col-header-cell-cushion, a.fc-daygrid-day-number");R&&R.addEventListener("mouseenter",H=>{I&&I(_,R,H)}),$d.Platform.isMobile},[I,f,rs,S]),Jy=(0,k.useCallback)(D=>{let _=D.el,C=_._timeObserver;C&&(C.disconnect(),delete _._timeObserver)},[]),ev=(0,k.useCallback)(D=>{je(!0);let _=D.el,C=D.event;if(C.allDay)return;let R=new MutationObserver(()=>Gi(C,_));R.observe(_,{attributes:!0,attributeFilter:["style"]}),_._timeObserver=R,Gi(C,_),jn(_,!0)},[jn,Gi]),tv=(0,k.useCallback)(D=>{je(!1);let _=D.el,C=_._timeObserver;C&&(C.disconnect(),delete _._timeObserver),jn(_,!1)},[jn]),nv=(0,k.useCallback)(D=>{je(!0);let _=D.el,C=D.event;if(C.allDay)return;let R=new MutationObserver(()=>Gi(C,_));R.observe(_,{attributes:!0,attributeFilter:["style"]}),_._timeObserver=R,Gi(C,_),jn(_,!0)},[jn,Gi]),iv=(0,k.useCallback)(D=>{let _=D.el,C=_._timeObserver;C&&(C.disconnect(),delete _._timeObserver),jn(_,!1)},[jn]),av=(0,k.useCallback)(async D=>{var R,H,B,ue;if(!s)return;let _=(R=D.start)!=null?R:new Date,C=(H=D.end)!=null?H:new Date(_.getTime()+30*6e4);try{await s(_,C)}catch(de){Me("[Calendar] Error creating event:",de)}finally{(ue=(B=Y.current)==null?void 0:B.getApi())==null||ue.unselect()}},[s]),rv=(0,k.useCallback)(D=>{let _=B=>{try{let ue=B.match(/[?&]file=([^&]+)/);if(ue){let de=decodeURIComponent(ue[1]);return de.endsWith(".md")?de:`${de}.md`}}catch(ue){}return null},C=D.dataTransfer.getData("text/plain");if(C){if(C.startsWith("obsidian://")){let ue=_(C);if(ue)return ue}let B=C.trim();if(B.endsWith(".md"))return B}let R=D.dataTransfer.getData("text/uri-list");if(R&&R.startsWith("obsidian://")){let B=_(R);if(B)return B}let H=D.dataTransfer.files;if(H.length>0){let B=H[0];if(B.name.endsWith(".md"))return B.path||B.name}return null},[]),lv=(0,k.useCallback)(D=>{var Fe;if(!((Fe=Y.current)==null?void 0:Fe.getApi()))return null;let C=document.elementFromPoint(D.clientX,D.clientY);if(!C)return null;let R=null,H=null,B=!1,ue=C.closest(".fc-timegrid-slot-lane"),de=C.closest(".fc-timegrid-slot");de&&(H=de.getAttribute("data-time"));let gt=C.closest(".fc-timegrid-body");if(gt){let qe=gt.querySelectorAll(".fc-timegrid-col[data-date]"),Pn=D.clientX;for(let ss of Array.from(qe)){let lu=ss.getBoundingClientRect();if(Pn>=lu.left&&Pn<=lu.right){R=ss.getAttribute("data-date");break}}}if(!R){let qe=C.closest(".fc-daygrid-day");qe&&(R=qe.getAttribute("data-date"),R&&(B=!0))}if(!R){let qe=C.closest("[data-date]");qe&&(R=qe.getAttribute("data-date"))}if(!R)return null;let At=new Date(R+"T00:00:00");if(H){let[qe,Pn]=H.split(":").map(Number);At.setHours(qe,Pn,0,0),B=!1}else B||At.setHours(9,0,0,0);return{date:At,allDay:B}},[]),AT=(0,k.useCallback)(D=>{(D.dataTransfer.types.includes("Files")||D.dataTransfer.types.includes("text/plain"))&&o&&(D.preventDefault(),D.dataTransfer.dropEffect="copy")},[o]),CT=(0,k.useCallback)(D=>{iu.current++,(D.dataTransfer.types.includes("Files")||D.dataTransfer.types.includes("text/plain"))&&o&&(D.preventDefault(),F(!0))},[o]),TT=(0,k.useCallback)(D=>{iu.current--,iu.current===0&&F(!1)},[]),_T=(0,k.useCallback)(async D=>{if(D.preventDefault(),iu.current=0,F(!1),!o)return;let _=rv(D);if(!_)return;let C=lv(D);if(C)try{await o(_,C.date,C.allDay)}catch(R){Me("[Calendar] Error handling external drop:",R)}},[o,rv,lv]),wT=(0,k.useCallback)(D=>{var B,ue;let _=new Date;_.setHours(0,0,0,0);let C=new Date(D.start);C.setHours(0,0,0,0);let R=new Date(D.end);R.setHours(0,0,0,0);let H=_>=C&&_<R;He(H),ui((ue=(B=D.view)==null?void 0:B.title)!=null?ue:"")},[S]),ik=(0,k.useCallback)(()=>{ie(D=>!D)},[]),ak=(0,k.useCallback)(()=>{if(b){b();return}Dt(D=>!D)},[b]),sv=(0,k.useCallback)(()=>{var R;let D=(R=Y.current)==null?void 0:R.getApi();if(!D)return;if(f==="month"||f==="week"){D.today(),S&&S(D.getDate());return}let _=Math.floor((Yr-1)/2),C=new Date;C.setHours(0,0,0,0),C.setDate(C.getDate()-_),D.gotoDate(C),S&&S(C)},[Yr,f,S]),ov=(0,k.useCallback)(()=>{var R;if(f==="continuous"){if(ve.current){let H=ve.current.scrollTop;ve.current.scrollTo({top:H-800,behavior:"smooth"})}return}let D=(R=Y.current)==null?void 0:R.getApi();if(!D)return;if(f==="month"){D.prev(),S&&S(D.getDate());return}let _=D.getDate(),C=new Date(_);C.setDate(C.getDate()-rs),D.gotoDate(C),S&&S(C)},[rs,f,S]),ls=(0,k.useRef)(null),rk=(0,k.useCallback)(()=>{var D;if(ls.current){let _=(D=Y.current)==null?void 0:D.getApi();if(_){let C=_.getDate(),R=C.getFullYear(),H=String(C.getMonth()+1).padStart(2,"0"),B=String(C.getDate()).padStart(2,"0");ls.current.value=`${R}-${H}-${B}`}typeof ls.current.showPicker=="function"?ls.current.showPicker():ls.current.click()}},[]),lk=(0,k.useCallback)(D=>{let _=D.target.value;if(!_)return;let C=new Date(_+"T00:00:00"),[R,H,B]=_.split("-").map(Number),ue=new Date(R,H-1,B);Y.current&&(Y.current.getApi().gotoDate(ue),S&&S(ue))},[S]),uv=(0,k.useCallback)(()=>{var R;if(f==="continuous"){if(ve.current){let H=ve.current.scrollTop;ve.current.scrollTo({top:H+800,behavior:"smooth"})}return}let D=(R=Y.current)==null?void 0:R.getApi();if(!D)return;if(f==="month"){D.next(),S&&S(D.getDate());return}let _=D.getDate(),C=new Date(_);C.setDate(C.getDate()+rs),D.gotoDate(C),S&&S(C)},[rs,f,S]),sk=(0,k.useCallback)(D=>{},[]),ok=(0,k.useCallback)(D=>{},[]),Pa=(0,k.useRef)(null),xT=(0,k.useCallback)(()=>{pe&&(Pa.current=setTimeout(()=>{navigator.vibrate&&navigator.vibrate(50)},600))},[pe]),RT=(0,k.useCallback)(()=>{Pa.current&&(clearTimeout(Pa.current),Pa.current=null)},[]),MT=(0,k.useCallback)(()=>{Pa.current&&(clearTimeout(Pa.current),Pa.current=null)},[]);(0,k.useEffect)(()=>{},[]),(0,k.useEffect)(()=>{pe&&Ze(!1)},[pe]),(0,k.useEffect)(()=>{pe&&Ze(!!nt)},[pe,nt]);let uk=(0,k.useCallback)(D=>{h&&h(Number(D.target.value))},[h]),ru=n!=null?n:[],cv=(0,k.useCallback)(D=>{if(!D||!D.isTruthy())return!1;let _=D.toString();return!!_&&_.trim().length>0},[]),[dv,OT]=(0,k.useState)(!1);(0,k.useEffect)(()=>{if(!Z.current)return;let D=new ResizeObserver(_=>{for(let C of _)OT(C.contentRect.width<550)});return D.observe(Z.current),()=>D.disconnect()},[]);let fv=(0,k.useCallback)(D=>{let _=D.event.extendedProps,C=D.event.title||_.calEntryTitle||"Untitled",R=_.entryPath,H=R?qi.get(R):void 0,B=[];if(H&&ru&&ru.length>0)for(let ue of ru)try{let de=Sy(H,ue);de&&cv(de)&&B.push((0,W.jsx)(pN,{value:de,app:U},ue))}catch(de){}return(0,W.jsxs)("div",{className:"bases-calendar-event-content tps-calendar-entry","data-path":R,style:{overflow:"hidden",display:"flex",flexDirection:"column",height:"100%"},children:[(0,W.jsx)("div",{className:"bases-calendar-event-title",style:{fontWeight:"bold",marginBottom:"2px"},children:C}),B.length>0&&(0,W.jsx)("div",{className:"bases-calendar-event-properties",style:{display:"flex",flexWrap:"wrap",gap:"2px",overflow:"hidden"},children:B})]})},[U,ru,cv,qi]),NT={"timeGridRange-3":{type:"timeGrid",duration:{days:3},buttonText:"3d"},"timeGridRange-5":{type:"timeGrid",duration:{days:5},buttonText:"5d"},"timeGridRange-7":{type:"timeGrid",duration:{days:7},buttonText:"7d"},timeGridWeek:{buttonText:"Week"},timeGridDay:{buttonText:"Day"},dayGridMonth:{buttonText:"Month"}},kT=()=>{if(!z||!We)return null;let D=Yt;return(0,WC.createPortal)((0,W.jsx)("div",{className:"tps-calendar-header-nav",onClick:_=>_.stopPropagation(),style:{display:"flex",alignItems:"center",gap:"6px",marginLeft:"4px",height:"100%"},children:(0,W.jsxs)("div",{className:"bases-calendar-nav-group",style:{display:"flex",alignItems:"center",gap:"2px"},children:[(0,W.jsxs)("div",{style:{position:"relative",display:"flex",marginRight:"2px"},children:[(0,W.jsx)("button",{className:"bases-calendar-nav-button","aria-label":"Jump to date",title:"Jump to date",style:{background:"transparent",border:"none",cursor:"pointer",padding:"4px",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--text-muted)",borderRadius:"4px",pointerEvents:pe?"none":"auto"},onClick:_=>{_.stopPropagation();let C=_.currentTarget.parentElement,R=C==null?void 0:C.querySelector("input");if(R)try{if(v){let H=new Date(v),B=H.getFullYear(),ue=String(H.getMonth()+1).padStart(2,"0"),de=String(H.getDate()).padStart(2,"0");R.value=`${B}-${ue}-${de}`}else R.valueAsDate=new Date;typeof R.showPicker=="function"?R.showPicker():(R.focus(),R.click())}catch(H){R.focus(),R.click()}},onMouseEnter:_=>_.currentTarget.style.backgroundColor="var(--background-modifier-hover)",onMouseLeave:_=>_.currentTarget.style.backgroundColor="transparent",children:(0,W.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,W.jsx)("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),(0,W.jsx)("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),(0,W.jsx)("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),(0,W.jsx)("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})}),(0,W.jsx)("input",{type:"date",style:{position:"absolute",top:0,left:0,width:"24px",height:"24px",opacity:0,zIndex:pe?10:-1,pointerEvents:pe?"auto":"none",cursor:"pointer"},tabIndex:-1,onClick:_=>{if(pe&&v){let C=new Date(v),R=C.getFullYear(),H=String(C.getMonth()+1).padStart(2,"0"),B=String(C.getDate()).padStart(2,"0");_.currentTarget.value=`${R}-${H}-${B}`}},onChange:_=>{if(_.target.value){let[C,R,H]=_.target.value.split("-").map(Number);S&&S(new Date(C,R-1,H))}}})]}),(0,W.jsx)("button",{className:"bases-calendar-nav-button",onClick:ov,"aria-label":"Previous",title:"Previous",style:{background:"transparent",border:"none",cursor:"pointer",padding:"0",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--text-muted)",borderRadius:"4px",fontSize:"18px",lineHeight:"1"},onMouseEnter:_=>_.currentTarget.style.backgroundColor="var(--background-modifier-hover)",onMouseLeave:_=>_.currentTarget.style.backgroundColor="transparent",children:"\u2039"}),(0,W.jsx)("button",{className:"bases-calendar-nav-button",onClick:sv,"aria-label":"Today",style:{background:"transparent",border:"1px solid var(--background-modifier-border)",cursor:"pointer",fontSize:"0.7rem",padding:"2px 8px",height:"24px",borderRadius:"4px",color:"var(--text-normal)",margin:"0 2px"},onMouseEnter:_=>_.currentTarget.style.backgroundColor="var(--background-modifier-hover)",onMouseLeave:_=>_.currentTarget.style.backgroundColor="transparent",children:"Today"}),(0,W.jsx)("button",{className:"bases-calendar-nav-button",onClick:uv,"aria-label":"Next",title:"Next",style:{background:"transparent",border:"none",cursor:"pointer",padding:"0",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--text-muted)",borderRadius:"4px",fontSize:"18px",lineHeight:"1"},onMouseEnter:_=>_.currentTarget.style.backgroundColor="var(--background-modifier-hover)",onMouseLeave:_=>_.currentTarget.style.backgroundColor="transparent",children:"\u203A"})]})}),We)};return(0,W.jsxs)("div",{ref:Z,className:`bases-calendar-wrapper ${q?"is-drag-over":""} ${dv?"bases-calendar-mini":""}`,style:{height:"100%",display:"flex",flexDirection:"column",overflow:"hidden","--calendar-slot-height":`${qy}px`,"--calendar-slot-zoom":`${Fy}`,position:"relative"},onDragOver:AT,onDragEnter:CT,onDragLeave:TT,onDrop:_T,onTouchStart:xT,onTouchEnd:RT,onTouchMove:MT,children:[Pe&&(0,W.jsx)("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"var(--background-primary)",border:"2px solid var(--background-modifier-border)",borderRadius:"8px",padding:"16px 24px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.3)",zIndex:1e3,minWidth:"300px",textAlign:"center"},children:(0,W.jsxs)(W.Fragment,{children:[(0,W.jsxs)("div",{style:{marginBottom:"16px",fontSize:"14px",color:"var(--text-normal)"},children:["Confirm event ",Pe.type==="drop"?"move":"resize","?"]}),(0,W.jsxs)("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:[(0,W.jsx)("button",{type:"button",onClick:()=>DT("all"),style:{padding:"8px 16px",backgroundColor:"var(--interactive-accent)",color:"var(--text-on-accent)",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"500"},children:"Confirm"}),(0,W.jsx)("button",{type:"button",onClick:Xy,style:{padding:"8px 16px",backgroundColor:"var(--background-modifier-border)",color:"var(--text-normal)",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"500"},children:"Cancel"})]})]})}),Pe&&(0,W.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:999},onClick:Xy}),kT(),(0,W.jsxs)("div",{style:{flex:"1 1 0%",height:"100%",overflow:"hidden",position:"relative",display:"flex",flexDirection:"column"},children:[(0,W.jsxs)("div",{className:"bases-calendar-scroll-surface",style:{flex:"1 1 0%",height:pe?"auto":"100%",overflowY:pe?"visible":"hidden",overflowX:"hidden",WebkitOverflowScrolling:"touch"},children:[f!=="continuous"&&(0,W.jsx)(Mr,{height:pe||f==="month"?"auto":"100%",contentHeight:pe||f==="month"?"auto":"100%",expandRows:f!=="month"&&!pe,plugins:By,ref:Y,initialView:vT,initialDate:bT,views:NT,headerToolbar:!1,selectable:ja,selectMirror:ja,selectOverlap:ja,slotEventOverlap:!1,select:ja?av:void 0,selectLongPressDelay:pe?600:300,longPressDelay:pe?600:300,eventLongPressDelay:pe?600:300,eventDragMinDistance:pe?10:5,unselectAuto:!0,unselectCancel:".fc-event",editable:Ur,eventStartEditable:Ur,eventDurationEditable:Ur&&!!l,events:Gy,eventContent:D=>fv(D),eventClick:Wy,eventMouseEnter:ET,eventMouseLeave:ST,eventDrop:Qy,eventResize:Zy,eventDidMount:D=>{console.log("[FC-eventDidMount] called for:",D.event.title),Ky(D)},dayHeaderDidMount:$y,dayCellDidMount:$y,eventWillUnmount:Jy,eventDragStart:ev,eventDragStop:tv,eventResizeStart:nv,eventResizeStop:iv,nowIndicator:!0,dayHeaderFormat:f==="month"?{weekday:"short"}:{weekday:"short",month:"short",day:"numeric"},firstDay:Iy,slotMinTime:Vy,slotMaxTime:jy,scrollTime:qC,scrollTimeReset:!1,slotDuration:"00:30:00",snapDuration:"00:05:00",slotLabelInterval:"01:00",slotLabelFormat:{hour:"numeric",minute:"2-digit",hour12:!0,meridiem:"short"},allDaySlot:au,displayEventTime:!1,displayEventEnd:!1,navLinks:!0,navLinkDayClick:(D,_)=>{x&&x(D)},datesSet:wT,showNonCurrentDates:!0,dayMaxEvents:!0,fixedWeekCount:!1,aspectRatio:dv?1.6:1.1,handleWindowResize:!0,windowResizeDelay:100},`calendar-${f}-${au}-${Sf}`),f==="continuous"&&(0,W.jsx)("div",{ref:ve,className:"bases-calendar-continuous-scroll-container",style:{height:pe?"auto":"100%",overflowY:pe?"visible":"auto",overflowX:"hidden",display:"flex",flexDirection:"column",gap:"1px",background:"var(--background-secondary)"},onScroll:pe?void 0:Va,children:is.map(D=>(0,W.jsxs)("div",{className:"bases-calendar-continuous-day-block",style:{minHeight:"800px",background:"var(--background-primary)",position:"relative"},children:[(0,W.jsxs)("div",{style:{position:"sticky",top:0,zIndex:10,background:"var(--background-primary)",padding:"8px 16px",borderBottom:"1px solid var(--background-modifier-border)",fontWeight:600,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,W.jsx)("span",{onClick:()=>x&&x(D),style:{cursor:"pointer",textDecoration:"none"},className:"fc-col-header-cell-cushion",children:D.toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"})}),D.toDateString()===new Date().toDateString()&&(0,W.jsx)("span",{style:{fontSize:"0.8em",color:"var(--text-accent)",background:"rgba(var(--interactive-accent-rgb), 0.1)",padding:"2px 6px",borderRadius:"4px"},children:"Today"})]}),(0,W.jsx)(Mr,{plugins:By,initialView:"timeGridDay",initialDate:D,headerToolbar:!1,height:"auto",expandRows:!pe,slotMinTime:Vy,slotMaxTime:jy,scrollTime:qC,allDaySlot:au,slotDuration:"00:30:00",slotLabelInterval:"01:00",events:Gy,firstDay:Iy,editable:Ur,eventStartEditable:Ur,eventDurationEditable:Ur&&!!l,selectable:ja,selectMirror:ja,selectLongPressDelay:pe?600:300,longPressDelay:pe?600:300,eventLongPressDelay:pe?600:300,eventDragMinDistance:pe?10:5,eventClick:Wy,eventContent:fv,eventDrop:Qy,eventResize:Zy,eventDidMount:Ky,eventWillUnmount:Jy,eventDragStart:ev,eventDragStop:tv,eventResizeStart:nv,eventResizeStop:iv,select:ja?av:void 0,nowIndicator:!0,dayMaxEvents:!1,weekNumbers:!1,weekends:!0},`continuous-${D.toISOString()}`)]},D.toISOString()))})]}),pe&&!We&&z&&!mT&&(0,W.jsxs)("div",{className:"bases-calendar-floating-nav",style:yT,children:[(0,W.jsx)("div",{style:{position:"relative",display:"flex"},children:(0,W.jsxs)("button",{className:"bases-calendar-title-text",style:{cursor:"pointer",fontWeight:600,fontSize:"0.9rem",display:"flex",alignItems:"center",gap:"4px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",minWidth:0,maxWidth:"calc(100vw - 120px)",background:"transparent",border:"none",padding:0,pointerEvents:"auto"},title:"Jump to date",onClick:()=>{let D=ht.current;if(D){if(v){let _=new Date(v),C=_.getFullYear(),R=String(_.getMonth()+1).padStart(2,"0"),H=String(_.getDate()).padStart(2,"0");D.value=`${C}-${R}-${H}`}typeof D.showPicker=="function"?D.showPicker():D.click()}},children:[Yt,(0,W.jsx)("span",{style:{fontSize:"0.6em",opacity:.7},children:"\u25BC"})]})}),(0,W.jsx)("input",{ref:ht,type:"date",style:{position:"absolute",opacity:0,width:"1px",height:"1px",pointerEvents:"none"},tabIndex:-1,onChange:D=>{if(D.target.value){let[_,C,R]=D.target.value.split("-").map(Number);S&&S(new Date(_,C-1,R))}}}),(0,W.jsx)("div",{style:{width:"1px",height:"16px",background:"var(--background-modifier-border)",margin:"0 2px"}}),(0,W.jsx)("button",{className:"bases-calendar-nav-button",onClick:ov,title:"Previous",style:{pointerEvents:"auto"},children:"\u2039"}),(0,W.jsx)("button",{className:"bases-calendar-nav-button",onClick:sv,style:{fontSize:"0.8rem",padding:"2px 8px",pointerEvents:"auto"},children:"Today"}),(0,W.jsx)("button",{className:"bases-calendar-nav-button",onClick:uv,title:"Next",style:{pointerEvents:"auto"},children:"\u203A"})]})]})]})},pN=({value:t,app:e})=>{let n=(0,k.useCallback)(i=>{if(!(!i||!e)){for(;i.firstChild;)i.removeChild(i.firstChild);t&&typeof t.renderTo=="function"&&t.renderTo(i,e.renderContext)}},[e,t]);return(0,W.jsx)("span",{ref:n})};var ft=require("obsidian");var ef=class{constructor(e){this.modalInput=null;this.focusInterval=null;this.config=e}updateConfig(e){this.config={...this.config,...e}}async createEvent(e,n,i){try{let a=await this.promptForTitle();if(!a||!a.trim())return null;let r=a.trim(),{cleanTitle:l,tags:s}=this.extractTags(r),o=await this.resolveTags(s);if(o===null)return null;let u=i?{...i}:{};if(n<new Date){let p=await this.promptForPastEvent();if(p==="cancel")return null;p==="complete"&&(u.status="complete",ye("Past event marked as complete. Overrides:",u))}else{let p=new Date;if(e<=p&&n>p){let y=this.config.inProgressStatusValue||"working",b=await this.promptForInProgressEvent(y);if(b==="cancel")return null;b==="in-progress"&&(u.status=y,ye("In-progress event marked as:",y,"Overrides:",u))}}let c=this.resolveFolderPath();await this.ensureFolderExists(c);let h=this.buildUniquePath(c,l,e),d=await this.loadTemplate(this.config.templatePath),f=this.buildFrontmatter(l,e,n,o,u);if(d){let p=await this.config.app.vault.create(h,d);return await this.config.app.fileManager.processFrontMatter(p,y=>{delete y.title,Object.assign(y,f)}),p}else{let p=this.buildNoteContent(null,f);return await this.config.app.vault.create(h,p)}}catch(a){throw Me("[NewEventService] Error creating event:",a),a}}extractTags(e){let n=/#([a-zA-Z0-9_/-]+)/g,i=[],a;for(;(a=n.exec(e))!==null;)i.push(a[1]);return{cleanTitle:e.replace(n,"").trim().replace(/\s+/g," "),tags:i}}async resolveTags(e){if(e.length===0)return[];let n=[];for(let i of e){let a=await this.resolveTag(i);if(a===null)return null;n.push(a)}return n}async resolveTag(e){let i=this.config.app.metadataCache.getTags(),a=`#${e}`,r=[];for(let l in i)if(l.endsWith(`/${e}`))r.push(l.substring(1));else if(l===a)return e;return r.length===0?e:r.length===1?r[0]:await this.promptForTagSelection(e,r)}async promptForTagSelection(e,n){let i=this;return new Promise(a=>{new class extends ft.Modal{constructor(l){super(l)}onOpen(){let{contentEl:l}=this;l.empty(),l.createEl("h2",{text:`Select tag for #${e}`}),l.createEl("p",{text:"Multiple matching tags found. Please select one:",cls:"setting-item-description"});let s=l.createDiv({cls:"tag-selection-container"});s.style.display="flex",s.style.flexDirection="column",s.style.gap="8px",s.style.marginTop="16px",n.forEach(u=>{let c=s.createEl("button",{text:`#${u}`,cls:"mod-cta"});c.style.padding="8px 16px",c.style.textAlign="left",c.addEventListener("click",()=>{a(u),this.close()})});let o=l.createEl("button",{text:"Cancel",cls:"mod-warning"});o.style.marginTop="16px",o.addEventListener("click",()=>{a(null),this.close()}),this.onClose=()=>{this.contentEl.empty()}}}(this.config.app).open()})}async ensureFolderExists(e){if(!e||e==="/")return;this.config.app.vault.getAbstractFileByPath(e)||await this.config.app.vault.createFolder(e)}ensureFocus(){this.modalInput&&this.applyFocus()}resolveFolderPath(){var n;let e=(n=this.config.folderPath)==null?void 0:n.trim();return e?(0,ft.normalizePath)(e):this.config.app.vault.getRoot().path}async promptForTitle(){let e=this;return new Promise(n=>{new class extends ft.Modal{constructor(a){super(a)}onOpen(){let{contentEl:a}=this;a.empty();let r=a.createEl("form",{attr:{autocomplete:"off"}});r.createEl("h2",{text:"New calendar event"});let l=r.createEl("input",{type:"text",attr:{autocomplete:"off",autocorrect:"off"}}),s=!1,o=null,u=d=>{s||(s=!0,o!==null&&window.clearInterval(o),e.modalInput=null,n(d),this.close())},c=()=>{document.activeElement!==l&&(e.applyFocus(),l.focus({preventScroll:!0}))};this.scope.register([],"Enter",d=>{d.preventDefault(),u(l.value.trim()||void 0)}),this.scope.register([],"Escape",d=>{d.preventDefault(),u(void 0)}),["keyup","keydown","keypress"].forEach(d=>l.addEventListener(d,f=>f.stopPropagation(),!0)),setTimeout(c,0),o=window.setInterval(c,250),e.modalInput=l,r.addEventListener("submit",d=>{d.preventDefault(),u(l.value.trim()||void 0)});let h=r.createDiv({cls:"modal-button-container"});h.createEl("button",{text:"Create",type:"submit"}),h.createEl("button",{text:"Cancel",type:"button"}).addEventListener("click",()=>u(void 0)),this.onClose=()=>{s||u(void 0),this.contentEl.empty()}}}(this.config.app).open()})}applyFocus(){var e,n;if(this.modalInput)try{document.activeElement instanceof HTMLElement&&document.activeElement.blur(),(n=(e=document.body)==null?void 0:e.classList)==null||n.remove("tps-context-hidden-for-keyboard")}catch(i){}}buildFrontmatter(e,n,i,a=[],r){var c;let l={title:e};a.length>0&&(l.tags=a);let s=this.noteField(this.config.startProperty),o=this.noteField(this.config.endProperty);if(s&&(l[s]=Bi(n)),o)if(this.config.useEndDuration){let h=i.getTime()-n.getTime(),d=Math.round(h/(60*1e3));this.isAllDay(n,i)&&d===1440&&this.config.defaultDuration&&(d=this.config.defaultDuration),l[o]=d}else l[o]=Bi(i);let u=(c=this.noteField(this.config.allDayProperty))!=null?c:"allDay";if(l[u]=this.isAllDay(n,i),this.config.additionalFrontmatter&&Object.assign(l,this.config.additionalFrontmatter),r)if(r.tags){let h=l.tags||[],d=Array.isArray(r.tags)?r.tags:[r.tags];l.tags=[...new Set([...h,...d])];let f={...r};delete f.tags,Object.assign(l,f)}else Object.assign(l,r);return l.title=e,l}noteField(e){if(!e)return null;let n=(0,ft.parsePropertyId)(e);if(n.type==="note"){let i=n.name||n.property;if(i)return i}return null}isAllDay(e,n){return e.getHours()===0&&e.getMinutes()===0&&n.getHours()===0&&n.getMinutes()===0}buildNoteContent(e,n){let i=e!=null?e:"",a=i.trimStart();if(a.startsWith("---")){let r=a.indexOf("---",3);if(r!==-1){let l=a.slice(3,r).trim(),s=a.slice(r+3).trimStart(),o=l?(0,ft.parseYaml)(l):{};return Object.assign(o,n),`---
${(0,ft.stringifyYaml)(o)}---

${s}`}}return`---
${(0,ft.stringifyYaml)(n)}---

${i}`}async loadTemplate(e){if(!e)return null;try{let n=this.config.app.vault.getAbstractFileByPath((0,ft.normalizePath)(e));if(n&&n instanceof ft.TFile)return await this.config.app.vault.read(n)}catch(n){$e("[Weekly Calendar] Failed to load template",n)}return null}buildUniquePath(e,n,i){let r=n.replace(/^\d{4}-\d{2}-\d{2}\s*/,"").trim().replace(/[\\/:*?"<>|]/g,"").replace(/\s+/g," ").trim(),l=`${i.getFullYear()}-${String(i.getMonth()+1).padStart(2,"0")}-${String(i.getDate()).padStart(2,"0")}`,s=r;r.includes(l)||(s=`${r} ${l}`);let o=(0,ft.normalizePath)(`${e}/${s}.md`),u=1;for(;this.config.app.vault.getAbstractFileByPath(o);)o=(0,ft.normalizePath)(`${e}/${s} ${u}.md`),u++;return o}async promptForPastEvent(){return new Promise(e=>{new class extends ft.Modal{constructor(i){super(i)}onOpen(){let{contentEl:i}=this;i.empty(),i.createEl("h2",{text:"Event in Past"}),i.createEl("div",{text:"This event is in the past. Would you like to mark it as complete?",cls:"setting-item-description",attr:{style:"margin-bottom: 20px;"}}),i.createEl("div",{text:"(Select 'No, Active' for time blocks/logs that shouldn't be completed)",cls:"setting-item-description",attr:{style:"margin-bottom: 20px; font-style: italic; font-size: 0.9em;"}});let a=i.createDiv({cls:"modal-button-container"});a.style.display="flex",a.style.justifyContent="center",a.style.gap="10px",a.createEl("button",{text:"Yes, Complete",cls:"mod-cta"}).addEventListener("click",()=>{e("complete"),this.close()}),a.createEl("button",{text:"No, Active"}).addEventListener("click",()=>{e("active"),this.close()}),a.createEl("button",{text:"Cancel"}).addEventListener("click",()=>{e("cancel"),this.close()}),this.onClose=()=>{}}onClose(){this.contentEl.empty(),e("cancel")}}(this.config.app).open()})}async promptForInProgressEvent(e){return new Promise(n=>{new class extends ft.Modal{constructor(a){super(a)}onOpen(){let{contentEl:a}=this;a.empty(),a.createEl("h2",{text:"Event In Progress"}),a.createEl("div",{text:`This event is currently in progress. Would you like to mark it as '${e}'?`,cls:"setting-item-description",attr:{style:"margin-bottom: 20px;"}});let r=a.createDiv({cls:"modal-button-container"});r.style.display="flex",r.style.justifyContent="center",r.style.gap="10px",r.createEl("button",{text:`Yes, ${e}`,cls:"mod-cta"}).addEventListener("click",()=>{n("in-progress"),this.close()}),r.createEl("button",{text:"No, Active"}).addEventListener("click",()=>{n("active"),this.close()}),r.createEl("button",{text:"Cancel"}).addEventListener("click",()=>{n("cancel"),this.close()})}onClose(){this.contentEl.empty(),n("cancel")}}(this.config.app).open()})}};var Jl=class{constructor(e){N(this,"icaltype","binary");this.value=e}static fromString(e){return new Jl(e)}decodeValue(){return this._b64_decode(this.value)}setEncodedValue(e){this.value=this._b64_encode(e)}_b64_encode(e){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i,a,r,l,s,o,u,c,h=0,d=0,f="",p=[];if(!e)return e;do i=e.charCodeAt(h++),a=e.charCodeAt(h++),r=e.charCodeAt(h++),c=i<<16|a<<8|r,l=c>>18&63,s=c>>12&63,o=c>>6&63,u=c&63,p[d++]=n.charAt(l)+n.charAt(s)+n.charAt(o)+n.charAt(u);while(h<e.length);f=p.join("");let y=e.length%3;return(y?f.slice(0,y-3):f)+"===".slice(y||3)}_b64_decode(e){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i,a,r,l,s,o,u,c,h=0,d=0,f="",p=[];if(!e)return e;e+="";do l=n.indexOf(e.charAt(h++)),s=n.indexOf(e.charAt(h++)),o=n.indexOf(e.charAt(h++)),u=n.indexOf(e.charAt(h++)),c=l<<18|s<<12|o<<6|u,i=c>>16&255,a=c>>8&255,r=c&255,o==64?p[d++]=String.fromCharCode(i):u==64?p[d++]=String.fromCharCode(i,a):p[d++]=String.fromCharCode(i,a,r);while(h<e.length);return f=p.join(""),f}toString(){return this.value}},mN=/([PDWHMTS]{1,1})/,yN=["weeks","days","hours","minutes","seconds","isNegative"],St=class{constructor(e){N(this,"weeks",0);N(this,"days",0);N(this,"hours",0);N(this,"minutes",0);N(this,"seconds",0);N(this,"isNegative",!1);N(this,"icalclass","icalduration");N(this,"icaltype","duration");this.wrappedJSObject=this,this.fromData(e)}static fromSeconds(e){return new St().fromSeconds(e)}static isValueString(e){return e[0]==="P"||e[1]==="P"}static fromString(e){let n=0,i=Object.create(null),a=0;for(;(n=e.search(mN))!==-1;){let r=e[n],l=e.slice(0,Math.max(0,n));e=e.slice(n+1),a+=vN(r,l,i)}if(a<2)throw new Error('invalid duration value: Not enough duration components in "'+e+'"');return new St(i)}static fromData(e){return new St(e)}clone(){return St.fromData(this)}toSeconds(){let e=this.seconds+60*this.minutes+3600*this.hours+86400*this.days+604800*this.weeks;return this.isNegative?-e:e}fromSeconds(e){let n=Math.abs(e);return this.isNegative=e<0,this.days=bt(n/86400),this.days%7==0?(this.weeks=this.days/7,this.days=0):this.weeks=0,n-=(this.days+7*this.weeks)*86400,this.hours=bt(n/3600),n-=this.hours*3600,this.minutes=bt(n/60),n-=this.minutes*60,this.seconds=n,this}fromData(e){for(let n of yN)e&&n in e?this[n]=e[n]:this[n]=0}reset(){this.isNegative=!1,this.weeks=0,this.days=0,this.hours=0,this.minutes=0,this.seconds=0}compare(e){let n=this.toSeconds(),i=e.toSeconds();return(n>i)-(n<i)}normalize(){this.fromSeconds(this.toSeconds())}toString(){if(this.toSeconds()==0)return"PT0S";{let e="";this.isNegative&&(e+="-"),e+="P";let n=!1;return this.weeks?this.days||this.hours||this.minutes||this.seconds?e+=this.weeks*7+this.days+"D":(e+=this.weeks+"W",n=!0):this.days&&(e+=this.days+"D"),n||(this.hours||this.minutes||this.seconds)&&(e+="T",this.hours&&(e+=this.hours+"H"),this.minutes&&(e+=this.minutes+"M"),this.seconds&&(e+=this.seconds+"S")),e}}toICALString(){return this.toString()}};function vN(t,e,n){let i;switch(t){case"P":e&&e==="-"?n.isNegative=!0:n.isNegative=!1;break;case"D":i="days";break;case"W":i="weeks";break;case"H":i="hours";break;case"M":i="minutes";break;case"S":i="seconds";break;default:return 0}if(i){if(!e&&e!==0)throw new Error('invalid duration value: Missing number before "'+t+'"');let a=parseInt(e,10);if(tu(a))throw new Error('invalid duration value: Invalid number "'+e+'" before "'+t+'"');n[i]=a}return 1}var Un=class{constructor(e){N(this,"start",null);N(this,"end",null);N(this,"duration",null);N(this,"icalclass","icalperiod");N(this,"icaltype","period");if(this.wrappedJSObject=this,e&&"start"in e){if(e.start&&!(e.start instanceof L))throw new TypeError(".start must be an instance of ICAL.Time");this.start=e.start}if(e&&e.end&&e.duration)throw new Error("cannot accept both end and duration");if(e&&"end"in e){if(e.end&&!(e.end instanceof L))throw new TypeError(".end must be an instance of ICAL.Time");this.end=e.end}if(e&&"duration"in e){if(e.duration&&!(e.duration instanceof St))throw new TypeError(".duration must be an instance of ICAL.Duration");this.duration=e.duration}}static fromString(e,n){let i=e.split("/");if(i.length!==2)throw new Error('Invalid string value: "'+e+'" must contain a "/" char.');let a={start:L.fromDateTimeString(i[0],n)},r=i[1];return St.isValueString(r)?a.duration=St.fromString(r):a.end=L.fromDateTimeString(r,n),new Un(a)}static fromData(e){return new Un(e)}static fromJSON(e,n,i){function a(r,l){return i?L.fromString(r,l):L.fromDateTimeString(r,l)}return St.isValueString(e[1])?Un.fromData({start:a(e[0],n),duration:St.fromString(e[1])}):Un.fromData({start:a(e[0],n),end:a(e[1],n)})}clone(){return Un.fromData({start:this.start?this.start.clone():null,end:this.end?this.end.clone():null,duration:this.duration?this.duration.clone():null})}getDuration(){return this.duration?this.duration:this.end.subtractDate(this.start)}getEnd(){if(this.end)return this.end;{let e=this.start.clone();return e.addDuration(this.duration),e}}compare(e){return e.compare(this.start)<0?1:e.compare(this.getEnd())>0?-1:0}toString(){return this.start+"/"+(this.end||this.duration)}toJSON(){return[this.start.toString(),(this.end||this.duration).toString()]}toICALString(){return this.start.toICALString()+"/"+(this.end||this.duration).toICALString()}},Xl,P=class{constructor(e,n){N(this,"icalclass","icaltime");N(this,"_cachedUnixTime",null);N(this,"zone",null);N(this,"_pendingNormalization",!1);this.wrappedJSObject=this,this._time=Object.create(null),this._time.year=0,this._time.month=1,this._time.day=1,this._time.hour=0,this._time.minute=0,this._time.second=0,this._time.isDate=!1,this.fromData(e,n)}static daysInMonth(e,n){let i=[0,31,28,31,30,31,30,31,31,30,31,30,31],a=30;return e<1||e>12||(a=i[e],e==2&&(a+=P.isLeapYear(n))),a}static isLeapYear(e){return e<=1752?e%4==0:e%4==0&&e%100!=0||e%400==0}static fromDayOfYear(e,n){let i=n,a=e,r=new P;r.auto_normalize=!1;let l=P.isLeapYear(i)?1:0;if(a<1)return i--,l=P.isLeapYear(i)?1:0,a+=P.daysInYearPassedMonth[l][12],P.fromDayOfYear(a,i);if(a>P.daysInYearPassedMonth[l][12])return l=P.isLeapYear(i)?1:0,a-=P.daysInYearPassedMonth[l][12],i++,P.fromDayOfYear(a,i);r.year=i,r.isDate=!0;for(let s=11;s>=0;s--)if(a>P.daysInYearPassedMonth[l][s]){r.month=s+1,r.day=a-P.daysInYearPassedMonth[l][s];break}return r.auto_normalize=!0,r}static fromStringv2(e){return new P({year:parseInt(e.slice(0,4),10),month:parseInt(e.slice(5,7),10),day:parseInt(e.slice(8,10),10),isDate:!0})}static fromDateString(e){return new P({year:kt(e.slice(0,4)),month:kt(e.slice(5,7)),day:kt(e.slice(8,10)),isDate:!0})}static fromDateTimeString(e,n){if(e.length<19)throw new Error('invalid date-time value: "'+e+'"');let i,a;e.slice(-1)==="Z"?i=fe.utcTimezone:n&&(a=n.getParameter("tzid"),n.parent&&(n.parent.name==="standard"||n.parent.name==="daylight"?i=fe.localTimezone:a&&(i=n.parent.getTimeZoneByID(a))));let r={year:kt(e.slice(0,4)),month:kt(e.slice(5,7)),day:kt(e.slice(8,10)),hour:kt(e.slice(11,13)),minute:kt(e.slice(14,16)),second:kt(e.slice(17,19))};return a&&!i&&(r.timezone=a),new P(r,i)}static fromString(e,n){return e.length>10?P.fromDateTimeString(e,n):P.fromDateString(e)}static fromJSDate(e,n){return new P().fromJSDate(e,n)}static now(){return P.fromJSDate(new Date,!1)}static weekOneStarts(e,n){let i=P.fromData({year:e,month:1,day:1,isDate:!0}),a=i.dayOfWeek(),r=n||P.DEFAULT_WEEK_START;return a>P.THURSDAY&&(i.day+=7),r>P.THURSDAY&&(i.day-=7),i.day-=a-r,i}static getDominicalLetter(e){let n="GFEDCBA",i=(e+(e/4|0)+(e/400|0)-(e/100|0)-1)%7;return P.isLeapYear(e)?n[(i+6)%7]+n[i]:n[i]}static get epochTime(){return Fa(this,Xl)||ou(this,Xl,P.fromData({year:1970,month:1,day:1,hour:0,minute:0,second:0,isDate:!1,timezone:"Z"})),Fa(this,Xl)}static _cmp_attr(e,n,i){return e[i]>n[i]?1:e[i]<n[i]?-1:0}get icaltype(){return this.isDate?"date":"date-time"}get year(){return this._getTimeAttr("year")}set year(e){this._setTimeAttr("year",e)}get month(){return this._getTimeAttr("month")}set month(e){this._setTimeAttr("month",e)}get day(){return this._getTimeAttr("day")}set day(e){this._setTimeAttr("day",e)}get hour(){return this._getTimeAttr("hour")}set hour(e){this._setTimeAttr("hour",e)}get minute(){return this._getTimeAttr("minute")}set minute(e){this._setTimeAttr("minute",e)}get second(){return this._getTimeAttr("second")}set second(e){this._setTimeAttr("second",e)}get isDate(){return this._getTimeAttr("isDate")}set isDate(e){this._setTimeAttr("isDate",e)}_getTimeAttr(e){return this._pendingNormalization&&(this._normalize(),this._pendingNormalization=!1),this._time[e]}_setTimeAttr(e,n){e==="isDate"&&n&&!this._time.isDate&&this.adjust(0,0,0,0),this._cachedUnixTime=null,this._pendingNormalization=!0,this._time[e]=n}clone(){return new P(this._time,this.zone)}reset(){this.fromData(P.epochTime),this.zone=fe.utcTimezone}resetTo(e,n,i,a,r,l,s){this.fromData({year:e,month:n,day:i,hour:a,minute:r,second:l,zone:s})}fromJSDate(e,n){return e?n?(this.zone=fe.utcTimezone,this.year=e.getUTCFullYear(),this.month=e.getUTCMonth()+1,this.day=e.getUTCDate(),this.hour=e.getUTCHours(),this.minute=e.getUTCMinutes(),this.second=e.getUTCSeconds()):(this.zone=fe.localTimezone,this.year=e.getFullYear(),this.month=e.getMonth()+1,this.day=e.getDate(),this.hour=e.getHours(),this.minute=e.getMinutes(),this.second=e.getSeconds()):this.reset(),this._cachedUnixTime=null,this}fromData(e,n){if(e)for(let[i,a]of Object.entries(e))i!=="icaltype"&&(this[i]=a);if(n&&(this.zone=n),e&&!("isDate"in e)?this.isDate=!("hour"in e):e&&"isDate"in e&&(this.isDate=e.isDate),e&&"timezone"in e){let i=uf.get(e.timezone);this.zone=i||fe.localTimezone}return e&&"zone"in e&&(this.zone=e.zone),this.zone||(this.zone=fe.localTimezone),this._cachedUnixTime=null,this}dayOfWeek(e){let n=e||P.SUNDAY,i=(this.year<<12)+(this.month<<8)+(this.day<<3)+n;if(i in P._dowCache)return P._dowCache[i];let a=this.day,r=this.month+(this.month<3?12:0),l=this.year-(this.month<3?1:0),s=a+l+bt((r+1)*26/10)+bt(l/4);return s+=bt(l/100)*6+bt(l/400),s=(s+7-n)%7+1,P._dowCache[i]=s,s}dayOfYear(){let e=P.isLeapYear(this.year)?1:0;return P.daysInYearPassedMonth[e][this.month-1]+this.day}startOfWeek(e){let n=e||P.SUNDAY,i=this.clone();return i.day-=(this.dayOfWeek()+7-n)%7,i.isDate=!0,i.hour=0,i.minute=0,i.second=0,i}endOfWeek(e){let n=e||P.SUNDAY,i=this.clone();return i.day+=(7-this.dayOfWeek()+n-P.SUNDAY)%7,i.isDate=!0,i.hour=0,i.minute=0,i.second=0,i}startOfMonth(){let e=this.clone();return e.day=1,e.isDate=!0,e.hour=0,e.minute=0,e.second=0,e}endOfMonth(){let e=this.clone();return e.day=P.daysInMonth(e.month,e.year),e.isDate=!0,e.hour=0,e.minute=0,e.second=0,e}startOfYear(){let e=this.clone();return e.day=1,e.month=1,e.isDate=!0,e.hour=0,e.minute=0,e.second=0,e}endOfYear(){let e=this.clone();return e.day=31,e.month=12,e.isDate=!0,e.hour=0,e.minute=0,e.second=0,e}startDoyWeek(e){let n=e||P.SUNDAY,i=this.dayOfWeek()-n;return i<0&&(i+=7),this.dayOfYear()-i}getDominicalLetter(){return P.getDominicalLetter(this.year)}nthWeekDay(e,n){let i=P.daysInMonth(this.month,this.year),a,r=n,l=0,s=this.clone();if(r>=0){s.day=1,r!=0&&r--,l=s.day;let o=s.dayOfWeek(),u=e-o;u<0&&(u+=7),l+=u,l-=e,a=e}else{s.day=i;let o=s.dayOfWeek();r++,a=o-e,a<0&&(a+=7),a=i-a}return a+=r*7,l+a}isNthWeekDay(e,n){let i=this.dayOfWeek();return n===0&&i===e||this.nthWeekDay(e,n)===this.day}weekNumber(e){let n=(this.year<<12)+(this.month<<8)+(this.day<<3)+e;if(n in P._wnCache)return P._wnCache[n];let i,a=this.clone();a.isDate=!0;let r=this.year;a.month==12&&a.day>25?(i=P.weekOneStarts(r+1,e),a.compare(i)<0?i=P.weekOneStarts(r,e):r++):(i=P.weekOneStarts(r,e),a.compare(i)<0&&(i=P.weekOneStarts(--r,e)));let l=a.subtractDate(i).toSeconds()/86400,s=bt(l/7)+1;return P._wnCache[n]=s,s}addDuration(e){let n=e.isNegative?-1:1,i=this.second,a=this.minute,r=this.hour,l=this.day;i+=n*e.seconds,a+=n*e.minutes,r+=n*e.hours,l+=n*e.days,l+=n*7*e.weeks,this.second=i,this.minute=a,this.hour=r,this.day=l,this._cachedUnixTime=null}subtractDate(e){let n=this.toUnixTime()+this.utcOffset(),i=e.toUnixTime()+e.utcOffset();return St.fromSeconds(n-i)}subtractDateTz(e){let n=this.toUnixTime(),i=e.toUnixTime();return St.fromSeconds(n-i)}compare(e){if(e instanceof Un)return-1*e.compare(this);{let n=this.toUnixTime(),i=e.toUnixTime();return n>i?1:i>n?-1:0}}compareDateOnlyTz(e,n){let i=this.convertToZone(n),a=e.convertToZone(n),r=0;return(r=P._cmp_attr(i,a,"year"))!=0||(r=P._cmp_attr(i,a,"month"))!=0||(r=P._cmp_attr(i,a,"day"))!=0,r}convertToZone(e){let n=this.clone(),i=this.zone.tzid==e.tzid;return!this.isDate&&!i&&fe.convert_time(n,this.zone,e),n.zone=e,n}utcOffset(){return this.zone==fe.localTimezone||this.zone==fe.utcTimezone?0:this.zone.utcOffset(this)}toICALString(){let e=this.toString();return e.length>10?Ae.icalendar.value["date-time"].toICAL(e):Ae.icalendar.value.date.toICAL(e)}toString(){let e=this.year+"-"+$t(this.month)+"-"+$t(this.day);return this.isDate||(e+="T"+$t(this.hour)+":"+$t(this.minute)+":"+$t(this.second),this.zone===fe.utcTimezone&&(e+="Z")),e}toJSDate(){return this.zone==fe.localTimezone?this.isDate?new Date(this.year,this.month-1,this.day):new Date(this.year,this.month-1,this.day,this.hour,this.minute,this.second,0):new Date(this.toUnixTime()*1e3)}_normalize(){return this._time.isDate&&(this._time.hour=0,this._time.minute=0,this._time.second=0),this.adjust(0,0,0,0),this}adjust(e,n,i,a,r){let l,s,o=0,u=0,c,h,d,f,p,y=r||this._time;if(y.isDate||(c=y.second+a,y.second=c%60,l=bt(c/60),y.second<0&&(y.second+=60,l--),h=y.minute+i+l,y.minute=h%60,s=bt(h/60),y.minute<0&&(y.minute+=60,s--),d=y.hour+n+s,y.hour=d%24,o=bt(d/24),y.hour<0&&(y.hour+=24,o--)),y.month>12?u=bt((y.month-1)/12):y.month<1&&(u=bt(y.month/12)-1),y.year+=u,y.month-=12*u,f=y.day+e+o,f>0)for(;p=P.daysInMonth(y.month,y.year),!(f<=p);)y.month++,y.month>12&&(y.year++,y.month=1),f-=p;else for(;f<=0;)y.month==1?(y.year--,y.month=12):y.month--,f+=P.daysInMonth(y.month,y.year);return y.day=f,this._cachedUnixTime=null,this}fromUnixTime(e){this.zone=fe.utcTimezone;let n=new Date(e*1e3);this.year=n.getUTCFullYear(),this.month=n.getUTCMonth()+1,this.day=n.getUTCDate(),this._time.isDate?(this.hour=0,this.minute=0,this.second=0):(this.hour=n.getUTCHours(),this.minute=n.getUTCMinutes(),this.second=n.getUTCSeconds()),this._cachedUnixTime=null}toUnixTime(){if(this._cachedUnixTime!==null)return this._cachedUnixTime;let e=this.utcOffset(),n=Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second-e);return this._cachedUnixTime=n/1e3,this._cachedUnixTime}toJSON(){let e=["year","month","day","hour","minute","second","isDate"],n=Object.create(null),i=0,a=e.length,r;for(;i<a;i++)r=e[i],n[r]=this[r];return this.zone&&(n.timezone=this.zone.tzid),n}},L=P;Xl=new WeakMap,N(L,"_dowCache",{}),N(L,"_wnCache",{}),N(L,"fromData",function(n,i){return new P().fromData(n,i)}),su(L,Xl,null),N(L,"daysInYearPassedMonth",[[0,31,59,90,120,151,181,212,243,273,304,334,365],[0,31,60,91,121,152,182,213,244,274,305,335,366]]),N(L,"SUNDAY",1),N(L,"MONDAY",2),N(L,"TUESDAY",3),N(L,"WEDNESDAY",4),N(L,"THURSDAY",5),N(L,"FRIDAY",6),N(L,"SATURDAY",7),N(L,"DEFAULT_WEEK_START",2);var bN=/[^ \t]/,of=":",Cy=";",EN="=",SN="unknown",DN="text",AN={"^'":'"',"^n":`
`,"^^":"^"};function Se(t){let e={},n=e.component=[];if(e.stack=[n],Se._eachLine(t,function(i,a){Se._handleContentLine(a,e)}),e.stack.length>1)throw new Yi("invalid ical body. component began but did not end");return e=null,n.length==1?n[0]:n}Se.property=function(t,e){let n={component:[[],[]],designSet:e||Ae.defaultSet};return Se._handleContentLine(t,n),n.component[1][0]};Se.component=function(t){return Se(t)};var Yi=class extends Error{constructor(){super(...arguments);N(this,"name",this.constructor.name)}};Se.ParserError=Yi;Se._handleContentLine=function(t,e){let n=t.indexOf(of),i=t.indexOf(Cy),a,r,l,s,o={};i!==-1&&n!==-1&&i>n&&(i=-1);let u;if(i!==-1){if(l=t.slice(0,Math.max(0,i)).toLowerCase(),u=Se._parseParameters(t.slice(Math.max(0,i)),0,e.designSet),u[2]==-1)throw new Yi("Invalid parameters in '"+t+"'");o=u[0];let g;if(typeof u[1]=="string"?g=u[1].length:g=u[1].reduce((m,v)=>m+v.length,0),a=g+u[2]+i,(r=t.slice(Math.max(0,a)).indexOf(of))!==-1)s=t.slice(Math.max(0,a+r+1));else throw new Yi("Missing parameter value in '"+t+"'")}else if(n!==-1){if(l=t.slice(0,Math.max(0,n)).toLowerCase(),s=t.slice(Math.max(0,n+1)),l==="begin"){let g=[s.toLowerCase(),[],[]];e.stack.length===1?e.component.push(g):e.component[2].push(g),e.stack.push(e.component),e.component=g,e.designSet||(e.designSet=Ae.getDesignSet(e.component[0]));return}else if(l==="end"){e.component=e.stack.pop();return}}else throw new Yi('invalid line (no token ";" or ":") "'+t+'"');let c,h=!1,d=!1,f,p,y;e.designSet.propertyGroups&&l.indexOf(".")!==-1?(p=l.split("."),o.group=p[0],y=p[1]):y=l,y in e.designSet.property&&(f=e.designSet.property[y],"multiValue"in f&&(h=f.multiValue),"structuredValue"in f&&(d=f.structuredValue),s&&"detectType"in f&&(c=f.detectType(s))),c||("value"in o?c=o.value.toLowerCase():f?c=f.defaultType:c=SN),delete o.value;let b;h&&d?(s=Se._parseMultiValue(s,d,c,[],h,e.designSet,d),b=[y,o,c,s]):h?(b=[y,o,c],Se._parseMultiValue(s,h,c,b,null,e.designSet,!1)):d?(s=Se._parseMultiValue(s,d,c,[],null,e.designSet,d),b=[y,o,c,s]):(s=Se._parseValue(s,c,e.designSet,!1),b=[y,o,c,s]),e.component[0]==="vcard"&&e.component[1].length===0&&!(l==="version"&&s==="4.0")&&(e.designSet=Ae.getDesignSet("vcard3")),e.component[1].push(b)};Se._parseValue=function(t,e,n,i){return e in n.value&&"fromICAL"in n.value[e]?n.value[e].fromICAL(t,i):t};Se._parseParameters=function(t,e,n){let i=e,a=0,r=EN,l={},s,o,u,c=-1,h,d,f;for(;a!==!1&&(a=t.indexOf(r,a+1))!==-1;){if(s=t.slice(i+1,a),s.length==0)throw new Yi("Empty parameter name in '"+t+"'");if(o=s.toLowerCase(),f=!1,d=!1,o in n.param&&n.param[o].valueType?h=n.param[o].valueType:h=DN,o in n.param&&(d=n.param[o].multiValue,n.param[o].multiValueSeparateDQuote&&(f=Se._rfc6868Escape('"'+d+'"'))),t[a+1]==='"'){if(c=a+2,a=t.indexOf('"',c),d&&a!=-1){let g=!0;for(;g;)t[a+1]==d&&t[a+2]=='"'?a=t.indexOf('"',a+3):g=!1}if(a===-1)throw new Yi('invalid line (no matching double quote) "'+t+'"');u=t.slice(c,a),i=t.indexOf(Cy,a);let b=t.indexOf(of,a);(i===-1||b!==-1&&i>b)&&(a=!1)}else{c=a+1;let b=t.indexOf(Cy,c),g=t.indexOf(of,c);g!==-1&&b>g?(b=g,a=!1):b===-1?(g===-1?b=t.length:b=g,a=!1):(i=b,a=b),u=t.slice(c,b)}let y=u.length;if(u=Se._rfc6868Escape(u),c+=y-u.length,d){let b=f||d;u=Se._parseMultiValue(u,b,h,[],null,n)}else u=Se._parseValue(u,h,n);d&&o in l?Array.isArray(l[o])?l[o].push(u):l[o]=[l[o],u]:l[o]=u}return[l,u,c]};Se._rfc6868Escape=function(t){return t.replace(/\^['n^]/g,function(e){return AN[e]})};Se._parseMultiValue=function(t,e,n,i,a,r,l){let s=0,o=0,u;if(e.length===0)return t;for(;(s=lT(t,e,o))!==-1;)u=t.slice(o,s),a?u=Se._parseMultiValue(u,a,n,[],null,r,l):u=Se._parseValue(u,n,r,l),i.push(u),o=s+e.length;return u=t.slice(o),a?u=Se._parseMultiValue(u,a,n,[],null,r,l):u=Se._parseValue(u,n,r,l),i.push(u),i.length==1?i[0]:i};Se._eachLine=function(t,e){let n=t.length,i=t.search(bN),a=i,r,l,s;do a=t.indexOf(`
`,i)+1,a>1&&t[a-2]==="\r"?s=2:s=1,a===0&&(a=n,s=0),l=t[i],l===" "||l==="	"?r+=t.slice(i+1,a-s):(r&&e(null,r),r=t.slice(i,a-s)),i=a;while(a!==n);r=r.trim(),r.length&&e(null,r)};var CN=["tzid","location","tznames","latitude","longitude"],Kl,$l,we=class{constructor(e){N(this,"tzid","");N(this,"location","");N(this,"tznames","");N(this,"latitude",0);N(this,"longitude",0);N(this,"component",null);N(this,"expandedUntilYear",0);N(this,"icalclass","icaltimezone");this.wrappedJSObject=this,this.fromData(e)}static _compare_change_fn(e,n){return e.year<n.year?-1:e.year>n.year?1:e.month<n.month?-1:e.month>n.month?1:e.day<n.day?-1:e.day>n.day?1:e.hour<n.hour?-1:e.hour>n.hour?1:e.minute<n.minute?-1:e.minute>n.minute?1:e.second<n.second?-1:e.second>n.second?1:0}static convert_time(e,n,i){if(e.isDate||n.tzid==i.tzid||n==we.localTimezone||i==we.localTimezone)return e.zone=i,e;let a=n.utcOffset(e);return e.adjust(0,0,0,-a),a=i.utcOffset(e),e.adjust(0,0,0,a),null}static fromData(e){return new we().fromData(e)}static get utcTimezone(){return Fa(this,Kl)||ou(this,Kl,we.fromData({tzid:"UTC"})),Fa(this,Kl)}static get localTimezone(){return Fa(this,$l)||ou(this,$l,we.fromData({tzid:"floating"})),Fa(this,$l)}static adjust_change(e,n,i,a,r){return L.prototype.adjust.call(e,n,i,a,r,e)}fromData(e){if(this.expandedUntilYear=0,this.changes=[],e instanceof Ut)this.component=e;else{if(e&&"component"in e)if(typeof e.component=="string"){let n=Se(e.component);this.component=new Ut(n)}else e.component instanceof Ut?this.component=e.component:this.component=null;for(let n of CN)e&&n in e&&(this[n]=e[n])}return this.component instanceof Ut&&!this.tzid&&(this.tzid=this.component.getFirstPropertyValue("tzid")),this}utcOffset(e){if(this==we.utcTimezone||this==we.localTimezone||(this._ensureCoverage(e.year),!this.changes.length))return 0;let n={year:e.year,month:e.month,day:e.day,hour:e.hour,minute:e.minute,second:e.second},i=this._findNearbyChange(n),a=-1,r=1;for(;;){let o=zr(this.changes[i],!0);if(o.utcOffset<o.prevUtcOffset?we.adjust_change(o,0,0,0,o.utcOffset):we.adjust_change(o,0,0,0,o.prevUtcOffset),we._compare_change_fn(n,o)>=0?a=i:r=-1,r==-1&&a!=-1)break;if(i+=r,i<0)return 0;if(i>=this.changes.length)break}let l=this.changes[a];if(l.utcOffset-l.prevUtcOffset<0&&a>0){let o=zr(l,!0);if(we.adjust_change(o,0,0,0,o.prevUtcOffset),we._compare_change_fn(n,o)<0){let u=this.changes[a-1],c=!1;l.is_daylight!=c&&u.is_daylight==c&&(l=u)}}return l.utcOffset}_findNearbyChange(e){let n=kr(this.changes,e,we._compare_change_fn);return n>=this.changes.length?this.changes.length-1:n}_ensureCoverage(e){if(we._minimumExpansionYear==-1){let i=L.now();we._minimumExpansionYear=i.year}let n=e;if(n<we._minimumExpansionYear&&(n=we._minimumExpansionYear),n+=we.EXTRA_COVERAGE,!this.changes.length||this.expandedUntilYear<e){let i=this.component.getAllSubcomponents(),a=i.length,r=0;for(;r<a;r++)this._expandComponent(i[r],n,this.changes);this.changes.sort(we._compare_change_fn),this.expandedUntilYear=n}}_expandComponent(e,n,i){if(!e.hasProperty("dtstart")||!e.hasProperty("tzoffsetto")||!e.hasProperty("tzoffsetfrom"))return null;let a=e.getFirstProperty("dtstart").getFirstValue(),r;function l(o){return o.factor*(o.hours*3600+o.minutes*60)}function s(){let o={};return o.is_daylight=e.name=="daylight",o.utcOffset=l(e.getFirstProperty("tzoffsetto").getFirstValue()),o.prevUtcOffset=l(e.getFirstProperty("tzoffsetfrom").getFirstValue()),o}if(!e.hasProperty("rrule")&&!e.hasProperty("rdate"))r=s(),r.year=a.year,r.month=a.month,r.day=a.day,r.hour=a.hour,r.minute=a.minute,r.second=a.second,we.adjust_change(r,0,0,0,-r.prevUtcOffset),i.push(r);else{let o=e.getAllProperties("rdate");for(let c of o){let h=c.getFirstValue();r=s(),r.year=h.year,r.month=h.month,r.day=h.day,h.isDate?(r.hour=a.hour,r.minute=a.minute,r.second=a.second,a.zone!=we.utcTimezone&&we.adjust_change(r,0,0,0,-r.prevUtcOffset)):(r.hour=h.hour,r.minute=h.minute,r.second=h.second,h.zone!=we.utcTimezone&&we.adjust_change(r,0,0,0,-r.prevUtcOffset)),i.push(r)}let u=e.getFirstProperty("rrule");if(u){u=u.getFirstValue(),r=s(),u.until&&u.until.zone==we.utcTimezone&&(u.until.adjust(0,0,0,r.prevUtcOffset),u.until.zone=we.localTimezone);let c=u.iterator(a),h;for(;(h=c.next())&&(r=s(),!(h.year>n||!h));)r.year=h.year,r.month=h.month,r.day=h.day,r.hour=h.hour,r.minute=h.minute,r.second=h.second,r.isDate=h.isDate,we.adjust_change(r,0,0,0,-r.prevUtcOffset),i.push(r)}}return i}toString(){return this.tznames?this.tznames:this.tzid}},fe=we;Kl=new WeakMap,$l=new WeakMap,su(fe,Kl,null),su(fe,$l,null),N(fe,"_minimumExpansionYear",-1),N(fe,"EXTRA_COVERAGE",5);var It=null,uf={get count(){return It===null?0:Object.keys(It).length},reset:function(){It=Object.create(null);let t=fe.utcTimezone;It.Z=t,It.UTC=t,It.GMT=t},_hard_reset:function(){It=null},has:function(t){return It===null?!1:!!It[t]},get:function(t){return It===null&&this.reset(),It[t]},register:function(t,e){if(It===null&&this.reset(),typeof t=="string"&&e instanceof fe&&([t,e]=[e,t]),e||(t instanceof fe?e=t.tzid:t.name==="vtimezone"&&(t=new fe(t),e=t.tzid)),!e)throw new TypeError("Neither a timezone nor a name was passed");if(t instanceof fe)It[e]=t;else throw new TypeError("timezone must be ICAL.Timezone or ICAL.Component")},remove:function(t){return It===null?null:delete It[t]}};function TN(t){let e,n,i,a,r;if(!t||t.name!=="vcalendar")return t;for(e=t.getAllSubcomponents(),n=[],i={},r=0;r<e.length;r++)if(e[r].name==="vtimezone"){let l=e[r].getFirstProperty("tzid").getFirstValue();i[l]=e[r]}else n=n.concat(e[r].getAllProperties());for(a={},r=0;r<n.length;r++){let l=n[r].getParameter("tzid");l&&(a[l]=!0)}for(let[l,s]of Object.entries(i))a[l]||t.removeSubcomponent(s);for(let l of Object.keys(a))!i[l]&&uf.has(l)&&t.addSubcomponent(uf.get(l).component);return t}function tu(t){return typeof t=="number"&&isNaN(t)}function kt(t){let e=parseInt(t,10);if(tu(e))throw new Error('Could not extract integer from "'+t+'"');return e}function Ui(t,e){if(typeof t!="undefined")return t instanceof e?t:new e(t)}function lT(t,e,n){for(;(n=t.indexOf(e,n))!==-1;)if(n>0&&t[n-1]==="\\")n+=1;else return n;return-1}function kr(t,e,n){if(!t.length)return 0;let i=0,a=t.length-1,r,l;for(;i<=a;)if(r=i+Math.floor((a-i)/2),l=n(e,t[r]),l<0)a=r-1;else if(l>0)i=r+1;else break;return l<0?r:l>0?r+1:r}function zr(t,e){if(!t||typeof t!="object")return t;if(t instanceof Date)return new Date(t.getTime());if("clone"in t)return t.clone();if(Array.isArray(t)){let n=[];for(let i=0;i<t.length;i++)n.push(e?zr(t[i],!0):t[i]);return n}else{let n={};for(let[i,a]of Object.entries(t))e?n[i]=zr(a,!0):n[i]=a;return n}}function sT(t){let e="",n=t||"",i=0,a=0;for(;n.length;){let r=n.codePointAt(i);r<128?++a:r<2048?a+=2:r<65536?a+=3:a+=4,a<Yn.foldLength+1?i+=r>65535?2:1:(e+=Yn.newLineChar+" "+n.slice(0,Math.max(0,i)),n=n.slice(Math.max(0,i)),i=a=0)}return e.slice(Yn.newLineChar.length+1)}function $t(t){switch(typeof t!="string"&&(typeof t=="number"&&(t=parseInt(t)),t=String(t)),t.length){case 0:return"00";case 1:return"0"+t;default:return t}}function bt(t){return t<0?Math.ceil(t):Math.floor(t)}function Hr(t,e){for(let n in t){let i=Object.getOwnPropertyDescriptor(t,n);i&&!Object.getOwnPropertyDescriptor(e,n)&&Object.defineProperty(e,n,i)}return e}var _N=Object.freeze({__proto__:null,binsearchInsert:kr,clone:zr,extend:Hr,foldline:sT,formatClassType:Ui,isStrictlyNaN:tu,pad2:$t,strictParseInt:kt,trunc:bt,unescapedIndexOf:lT,updateTimezones:TN}),hn=class{constructor(e){N(this,"hours",0);N(this,"minutes",0);N(this,"factor",1);N(this,"icaltype","utc-offset");this.fromData(e)}static fromString(e){let n={};return n.factor=e[0]==="+"?1:-1,n.hours=kt(e.slice(1,3)),n.minutes=kt(e.slice(4,6)),new hn(n)}static fromSeconds(e){let n=new hn;return n.fromSeconds(e),n}clone(){return hn.fromSeconds(this.toSeconds())}fromData(e){if(e)for(let[n,i]of Object.entries(e))this[n]=i;this._normalize()}fromSeconds(e){let n=Math.abs(e);return this.factor=e<0?-1:1,this.hours=bt(n/3600),n-=this.hours*3600,this.minutes=bt(n/60),this}toSeconds(){return this.factor*(60*this.minutes+3600*this.hours)}compare(e){let n=this.toSeconds(),i=e.toSeconds();return(n>i)-(i>n)}_normalize(){let e=this.toSeconds(),n=this.factor;for(;e<-43200;)e+=97200;for(;e>50400;)e-=97200;this.fromSeconds(e),e==0&&(this.factor=n)}toICALString(){return Ae.icalendar.value["utc-offset"].toICAL(this.toString())}toString(){return(this.factor==1?"+":"-")+$t(this.hours)+":"+$t(this.minutes)}},oi=class extends L{constructor(n,i,a){super(n,i);N(this,"icalclass","vcardtime");N(this,"icaltype","date-and-or-time");this.icaltype=a||"date-and-or-time"}static fromDateAndOrTimeString(n,i){function a(b,g,m){return b?kt(b.slice(g,g+m)):null}let r=n.split("T"),l=r[0],s=r[1],o=s?Ae.vcard.value.time._splitZone(s):[],u=o[0],c=o[1],h=l?l.length:0,d=c?c.length:0,f=l&&l[0]=="-"&&l[1]=="-",p=c&&c[0]=="-",y={year:f?null:a(l,0,4),month:f&&(h==4||h==7)?a(l,2,2):h==7||h==10?a(l,5,2):null,day:h==5?a(l,3,2):h==7&&f?a(l,5,2):h==10?a(l,8,2):null,hour:p?null:a(c,0,2),minute:p&&d==3?a(c,1,2):d>4?p?a(c,1,2):a(c,3,2):null,second:d==4?a(c,2,2):d==6?a(c,4,2):d==8?a(c,6,2):null};return u=="Z"?u=fe.utcTimezone:u&&u[3]==":"?u=hn.fromString(u):u=null,new oi(y,u,i)}clone(){return new oi(this._time,this.zone,this.icaltype)}_normalize(){return this}utcOffset(){return this.zone instanceof hn?this.zone.toSeconds():L.prototype.utcOffset.apply(this,arguments)}toICALString(){return Ae.vcard.value[this.icaltype].toICAL(this.toString())}toString(){let n=this.year,i=this.month,a=this.day,r=this.hour,l=this.minute,s=this.second,o=n!==null,u=i!==null,c=a!==null,h=r!==null,d=l!==null,f=s!==null,p=(o?$t(n)+(u||c?"-":""):u||c?"--":"")+(u?$t(i):"")+(c?"-"+$t(a):""),y=(h?$t(r):"-")+(h&&d?":":"")+(d?$t(l):"")+(!h&&!d?"-":"")+(d&&f?":":"")+(f?$t(s):""),b;switch(this.zone===fe.utcTimezone?b="Z":this.zone instanceof hn?b=this.zone.toString():this.zone===fe.localTimezone?b="":this.zone instanceof fe?b=hn.fromSeconds(this.zone.utcOffset(this)).toString():b="",this.icaltype){case"time":return y+b;case"date-and-or-time":case"date-time":return p+(y=="--"?"":"T"+y+b);case"date":return p}return null}},Ia=class{constructor(e){N(this,"completed",!1);N(this,"rule",null);N(this,"dtstart",null);N(this,"last",null);N(this,"occurrence_number",0);N(this,"by_indices",null);N(this,"initialized",!1);N(this,"by_data",null);N(this,"days",null);N(this,"days_index",0);this.fromData(e)}fromData(e){if(this.rule=Ui(e.rule,Et),!this.rule)throw new Error("iterator requires a (ICAL.Recur) rule");if(this.dtstart=Ui(e.dtstart,L),!this.dtstart)throw new Error("iterator requires a (ICAL.Time) dtstart");if(e.by_data?this.by_data=e.by_data:this.by_data=zr(this.rule.parts,!0),e.occurrence_number&&(this.occurrence_number=e.occurrence_number),this.days=e.days||[],e.last&&(this.last=Ui(e.last,L)),this.by_indices=e.by_indices,this.by_indices||(this.by_indices={BYSECOND:0,BYMINUTE:0,BYHOUR:0,BYDAY:0,BYMONTH:0,BYWEEKNO:0,BYMONTHDAY:0}),this.initialized=e.initialized||!1,!this.initialized)try{this.init()}catch(n){if(n instanceof Zl)this.completed=!0;else throw n}}init(){this.initialized=!0,this.last=this.dtstart.clone();let e=this.by_data;if("BYDAY"in e&&this.sort_byday_rules(e.BYDAY),"BYYEARDAY"in e&&("BYMONTH"in e||"BYWEEKNO"in e||"BYMONTHDAY"in e))throw new Error("Invalid BYYEARDAY rule");if("BYWEEKNO"in e&&"BYMONTHDAY"in e)throw new Error("BYWEEKNO does not fit to BYMONTHDAY");if(this.rule.freq=="MONTHLY"&&("BYYEARDAY"in e||"BYWEEKNO"in e))throw new Error("For MONTHLY recurrences neither BYYEARDAY nor BYWEEKNO may appear");if(this.rule.freq=="WEEKLY"&&("BYYEARDAY"in e||"BYMONTHDAY"in e))throw new Error("For WEEKLY recurrences neither BYMONTHDAY nor BYYEARDAY may appear");if(this.rule.freq!="YEARLY"&&"BYYEARDAY"in e)throw new Error("BYYEARDAY may only appear in YEARLY rules");if(this.last.second=this.setup_defaults("BYSECOND","SECONDLY",this.dtstart.second),this.last.minute=this.setup_defaults("BYMINUTE","MINUTELY",this.dtstart.minute),this.last.hour=this.setup_defaults("BYHOUR","HOURLY",this.dtstart.hour),this.last.day=this.setup_defaults("BYMONTHDAY","DAILY",this.dtstart.day),this.last.month=this.setup_defaults("BYMONTH","MONTHLY",this.dtstart.month),this.rule.freq=="WEEKLY")if("BYDAY"in e){let[,n]=this.ruleDayOfWeek(e.BYDAY[0],this.rule.wkst),i=n-this.last.dayOfWeek(this.rule.wkst);(this.last.dayOfWeek(this.rule.wkst)<n&&i>=0||i<0)&&(this.last.day+=i)}else{let n=Et.numericDayToIcalDay(this.dtstart.dayOfWeek());e.BYDAY=[n]}if(this.rule.freq=="YEARLY"){let n=this.rule.until?this.rule.until.year:2e4;for(;this.last.year<=n&&(this.expand_year_days(this.last.year),!(this.days.length>0));)this.increment_year(this.rule.interval);if(this.days.length==0)throw new Zl;if(!this._nextByYearDay()&&!this.next_year()&&!this.next_year()&&!this.next_year())throw new Zl}if(this.rule.freq=="MONTHLY"){if(this.has_by_data("BYDAY")){let n=null,i=this.last.clone(),a=L.daysInMonth(this.last.month,this.last.year);for(let r of this.by_data.BYDAY){this.last=i.clone();let[l,s]=this.ruleDayOfWeek(r),o=this.last.nthWeekDay(s,l);if(l>=6||l<=-6)throw new Error("Malformed values in BYDAY part");if(o>a||o<=0){if(n&&n.month==i.month)continue;for(;o>a||o<=0;)this.increment_month(),a=L.daysInMonth(this.last.month,this.last.year),o=this.last.nthWeekDay(s,l)}this.last.day=o,(!n||this.last.compare(n)<0)&&(n=this.last.clone())}if(this.last=n.clone(),this.has_by_data("BYMONTHDAY")&&this._byDayAndMonthDay(!0),this.last.day>a||this.last.day==0)throw new Error("Malformed values in BYDAY part")}else if(this.has_by_data("BYMONTHDAY")){this.last.day=1;let n=this.normalizeByMonthDayRules(this.last.year,this.last.month,this.rule.parts.BYMONTHDAY).filter(i=>i>=this.last.day);if(n.length)this.last.day=n[0],this.by_data.BYMONTHDAY=n;else if(!this.next_month()&&!this.next_month()&&!this.next_month())throw new Zl}}}next(e=!1){let n=this.last?this.last.clone():null;if((this.rule.count&&this.occurrence_number>=this.rule.count||this.rule.until&&this.last.compare(this.rule.until)>0)&&(this.completed=!0),this.completed)return null;if(this.occurrence_number==0&&this.last.compare(this.dtstart)>=0)return this.occurrence_number++,this.last;let i,a=0;do switch(i=1,this.rule.freq){case"SECONDLY":this.next_second();break;case"MINUTELY":this.next_minute();break;case"HOURLY":this.next_hour();break;case"DAILY":this.next_day();break;case"WEEKLY":this.next_week();break;case"MONTHLY":if(i=this.next_month(),i)a=0;else if(++a==336)return this.completed=!0,null;break;case"YEARLY":if(i=this.next_year(),i)a=0;else if(++a==28)return this.completed=!0,null;break;default:return null}while(!this.check_contracting_rules()||this.last.compare(this.dtstart)<0||!i);if(this.last.compare(n)==0){if(e)throw new Error("Same occurrence found twice, protecting you from death by recursion");this.next(!0)}return this.rule.until&&this.last.compare(this.rule.until)>0?(this.completed=!0,null):(this.occurrence_number++,this.last)}next_second(){return this.next_generic("BYSECOND","SECONDLY","second","minute")}increment_second(e){return this.increment_generic(e,"second",60,"minute")}next_minute(){return this.next_generic("BYMINUTE","MINUTELY","minute","hour","next_second")}increment_minute(e){return this.increment_generic(e,"minute",60,"hour")}next_hour(){return this.next_generic("BYHOUR","HOURLY","hour","monthday","next_minute")}increment_hour(e){this.increment_generic(e,"hour",24,"monthday")}next_day(){let e=this.rule.freq=="DAILY";return this.next_hour()==0||(e?this.increment_monthday(this.rule.interval):this.increment_monthday(1)),0}next_week(){let e=0;if(this.next_weekday_by_week()==0)return e;if(this.has_by_data("BYWEEKNO")){this.by_indices.BYWEEKNO++,this.by_indices.BYWEEKNO==this.by_data.BYWEEKNO.length&&(this.by_indices.BYWEEKNO=0,e=1),this.last.month=1,this.last.day=1;let n=this.by_data.BYWEEKNO[this.by_indices.BYWEEKNO];this.last.day+=7*n,e&&this.increment_year(1)}else this.increment_monthday(7*this.rule.interval);return e}normalizeByMonthDayRules(e,n,i){let a=L.daysInMonth(n,e),r=[],l=0,s=i.length,o;for(;l<s;l++){if(o=parseInt(i[l],10),isNaN(o))throw new Error("Invalid BYMONTHDAY value");if(!(Math.abs(o)>a)){if(o<0)o=a+(o+1);else if(o===0)continue;r.indexOf(o)===-1&&r.push(o)}}return r.sort(function(u,c){return u-c})}_byDayAndMonthDay(e){let n,i=this.by_data.BYDAY,a,r=0,l,s=i.length,o=0,u,c=this,h=this.last.day;function d(){for(u=L.daysInMonth(c.last.month,c.last.year),n=c.normalizeByMonthDayRules(c.last.year,c.last.month,c.by_data.BYMONTHDAY),l=n.length;n[r]<=h&&!(e&&n[r]==h)&&r<l-1;)r++}function f(){h=0,c.increment_month(),r=0,d()}d(),e&&(h-=1);let p=48;for(;!o&&p;){if(p--,a=h+1,a>u){f();continue}let y=n[r++];if(y>=a)h=y;else{f();continue}for(let b=0;b<s;b++){let g=this.ruleDayOfWeek(i[b]),m=g[0],v=g[1];if(this.last.day=h,this.last.isNthWeekDay(v,m)){o=1;break}}if(!o&&r===l){f();continue}}if(p<=0)throw new Error("Malformed values in BYDAY combined with BYMONTHDAY parts");return o}next_month(){let e=1;if(this.next_hour()==0)return e;if(this.has_by_data("BYDAY")&&this.has_by_data("BYMONTHDAY"))e=this._byDayAndMonthDay();else if(this.has_by_data("BYDAY")){let n=L.daysInMonth(this.last.month,this.last.year),i=0,a=0;if(this.has_by_data("BYSETPOS")){let l=this.last.day;for(let s=1;s<=n;s++)this.last.day=s,this.is_day_in_byday(this.last)&&(a++,s<=l&&i++);this.last.day=l}e=0;let r;for(r=this.last.day+1;r<=n;r++)if(this.last.day=r,this.is_day_in_byday(this.last)&&(!this.has_by_data("BYSETPOS")||this.check_set_position(++i)||this.check_set_position(i-a-1))){e=1;break}r>n&&(this.last.day=1,this.increment_month(),this.is_day_in_byday(this.last)?(!this.has_by_data("BYSETPOS")||this.check_set_position(1))&&(e=1):e=0)}else if(this.has_by_data("BYMONTHDAY")){if(this.by_indices.BYMONTHDAY++,this.by_indices.BYMONTHDAY>=this.by_data.BYMONTHDAY.length&&(this.by_indices.BYMONTHDAY=0,this.increment_month(),this.by_indices.BYMONTHDAY>=this.by_data.BYMONTHDAY.length))return 0;let n=L.daysInMonth(this.last.month,this.last.year),i=this.by_data.BYMONTHDAY[this.by_indices.BYMONTHDAY];i<0&&(i=n+i+1),i>n?(this.last.day=1,e=this.is_day_in_byday(this.last)):this.last.day=i}else{this.increment_month();let n=L.daysInMonth(this.last.month,this.last.year);this.by_data.BYMONTHDAY[0]>n?e=0:this.last.day=this.by_data.BYMONTHDAY[0]}return e}next_weekday_by_week(){let e=0;if(this.next_hour()==0)return e;if(!this.has_by_data("BYDAY"))return 1;for(;;){let n=new L;this.by_indices.BYDAY++,this.by_indices.BYDAY==Object.keys(this.by_data.BYDAY).length&&(this.by_indices.BYDAY=0,e=1);let i=this.by_data.BYDAY[this.by_indices.BYDAY],r=this.ruleDayOfWeek(i)[1];r-=this.rule.wkst,r<0&&(r+=7),n.year=this.last.year,n.month=this.last.month,n.day=this.last.day;let l=n.startDoyWeek(this.rule.wkst);if(r+l<1&&!e)continue;let s=L.fromDayOfYear(l+r,this.last.year);return this.last.year=s.year,this.last.month=s.month,this.last.day=s.day,e}}next_year(){return this.next_hour()==0||(this.days.length==0||++this.days_index==this.days.length)&&(this.days_index=0,this.increment_year(this.rule.interval),this.has_by_data("BYMONTHDAY")&&(this.by_data.BYMONTHDAY=this.normalizeByMonthDayRules(this.last.year,this.last.month,this.rule.parts.BYMONTHDAY)),this.expand_year_days(this.last.year),this.days.length==0)?0:this._nextByYearDay()}_nextByYearDay(){let e=this.days[this.days_index],n=this.last.year;if(Math.abs(e)==366&&!L.isLeapYear(this.last.year))return 0;e<1&&(e+=1,n+=1);let i=L.fromDayOfYear(e,n);return this.last.day=i.day,this.last.month=i.month,1}ruleDayOfWeek(e,n){let i=e.match(/([+-]?[0-9])?(MO|TU|WE|TH|FR|SA|SU)/);if(i){let a=parseInt(i[1]||0,10);return e=Et.icalDayToNumericDay(i[2],n),[a,e]}else return[0,0]}next_generic(e,n,i,a,r){let l=e in this.by_data,s=this.rule.freq==n,o=0;if(r&&this[r]()==0)return o;if(l){this.by_indices[e]++;let u=this.by_data[e];this.by_indices[e]==u.length&&(this.by_indices[e]=0,o=1),this.last[i]=u[this.by_indices[e]]}else s&&this["increment_"+i](this.rule.interval);return l&&o&&s&&this["increment_"+a](1),o}increment_monthday(e){for(let n=0;n<e;n++){let i=L.daysInMonth(this.last.month,this.last.year);this.last.day++,this.last.day>i&&(this.last.day-=i,this.increment_month())}}increment_month(){if(this.last.day=1,this.has_by_data("BYMONTH"))this.by_indices.BYMONTH++,this.by_indices.BYMONTH==this.by_data.BYMONTH.length&&(this.by_indices.BYMONTH=0,this.increment_year(1)),this.last.month=this.by_data.BYMONTH[this.by_indices.BYMONTH];else{this.rule.freq=="MONTHLY"?this.last.month+=this.rule.interval:this.last.month++,this.last.month--;let e=bt(this.last.month/12);this.last.month%=12,this.last.month++,e!=0&&this.increment_year(e)}this.has_by_data("BYMONTHDAY")&&(this.by_data.BYMONTHDAY=this.normalizeByMonthDayRules(this.last.year,this.last.month,this.rule.parts.BYMONTHDAY))}increment_year(e){this.last.day=1,this.last.year+=e}increment_generic(e,n,i,a){this.last[n]+=e;let r=bt(this.last[n]/i);this.last[n]%=i,r!=0&&this["increment_"+a](r)}has_by_data(e){return e in this.rule.parts}expand_year_days(e){let n=new L;this.days=[];let i={},a=["BYDAY","BYWEEKNO","BYMONTHDAY","BYMONTH","BYYEARDAY"];for(let s of a)s in this.rule.parts&&(i[s]=this.rule.parts[s]);if("BYMONTH"in i&&"BYWEEKNO"in i){let s=1,o={};n.year=e,n.isDate=!0;for(let u=0;u<this.by_data.BYMONTH.length;u++){let c=this.by_data.BYMONTH[u];n.month=c,n.day=1;let h=n.weekNumber(this.rule.wkst);n.day=L.daysInMonth(c,e);let d=n.weekNumber(this.rule.wkst);for(u=h;u<d;u++)o[u]=1}for(let u=0;u<this.by_data.BYWEEKNO.length&&s;u++)this.by_data.BYWEEKNO[u]<52?s&=o[u]:s=0;s?delete i.BYMONTH:delete i.BYWEEKNO}let r=Object.keys(i).length;if(r==0){let s=this.dtstart.clone();s.year=this.last.year,this.days.push(s.dayOfYear())}else if(r==1&&"BYMONTH"in i)for(let s of this.by_data.BYMONTH){let o=this.dtstart.clone();o.year=e,o.month=s,o.isDate=!0,this.days.push(o.dayOfYear())}else if(r==1&&"BYMONTHDAY"in i)for(let s of this.by_data.BYMONTHDAY){let o=this.dtstart.clone();if(s<0){let u=L.daysInMonth(o.month,e);s=s+u+1}o.day=s,o.year=e,o.isDate=!0,this.days.push(o.dayOfYear())}else if(r==2&&"BYMONTHDAY"in i&&"BYMONTH"in i)for(let s of this.by_data.BYMONTH){let o=L.daysInMonth(s,e);for(let u of this.by_data.BYMONTHDAY)u<0&&(u=u+o+1),n.day=u,n.month=s,n.year=e,n.isDate=!0,this.days.push(n.dayOfYear())}else if(!(r==1&&"BYWEEKNO"in i)){if(!(r==2&&"BYWEEKNO"in i&&"BYMONTHDAY"in i)){if(r==1&&"BYDAY"in i)this.days=this.days.concat(this.expand_by_day(e));else if(r==2&&"BYDAY"in i&&"BYMONTH"in i){for(let s of this.by_data.BYMONTH){let o=L.daysInMonth(s,e);n.year=e,n.month=s,n.day=1,n.isDate=!0;let u=n.dayOfWeek(),c=n.dayOfYear()-1;n.day=o;let h=n.dayOfWeek();if(this.has_by_data("BYSETPOS")){let d=[];for(let f=1;f<=o;f++)n.day=f,this.is_day_in_byday(n)&&d.push(f);for(let f=0;f<d.length;f++)(this.check_set_position(f+1)||this.check_set_position(f-d.length))&&this.days.push(c+d[f])}else for(let d of this.by_data.BYDAY){let f=this.ruleDayOfWeek(d),p=f[0],y=f[1],b,g=(y+7-u)%7+1,m=o-(h+7-y)%7;if(p==0)for(let v=g;v<=o;v+=7)this.days.push(c+v);else p>0?(b=g+(p-1)*7,b<=o&&this.days.push(c+b)):(b=m+(p+1)*7,b>0&&this.days.push(c+b))}}this.days.sort(function(s,o){return s-o})}else if(r==2&&"BYDAY"in i&&"BYMONTHDAY"in i){let s=this.expand_by_day(e);for(let o of s){let u=L.fromDayOfYear(o,e);this.by_data.BYMONTHDAY.indexOf(u.day)>=0&&this.days.push(o)}}else if(r==3&&"BYDAY"in i&&"BYMONTHDAY"in i&&"BYMONTH"in i){let s=this.expand_by_day(e);for(let o of s){let u=L.fromDayOfYear(o,e);this.by_data.BYMONTH.indexOf(u.month)>=0&&this.by_data.BYMONTHDAY.indexOf(u.day)>=0&&this.days.push(o)}}else if(r==2&&"BYDAY"in i&&"BYWEEKNO"in i){let s=this.expand_by_day(e);for(let o of s){let c=L.fromDayOfYear(o,e).weekNumber(this.rule.wkst);this.by_data.BYWEEKNO.indexOf(c)&&this.days.push(o)}}else if(!(r==3&&"BYDAY"in i&&"BYWEEKNO"in i&&"BYMONTHDAY"in i))if(r==1&&"BYYEARDAY"in i)this.days=this.days.concat(this.by_data.BYYEARDAY);else if(r==2&&"BYYEARDAY"in i&&"BYDAY"in i){let s=L.isLeapYear(e)?366:365,o=new Set(this.expand_by_day(e));for(let u of this.by_data.BYYEARDAY)u<0&&(u+=s+1),o.has(u)&&this.days.push(u)}else this.days=[]}}let l=L.isLeapYear(e)?366:365;return this.days.sort((s,o)=>(s<0&&(s+=l+1),o<0&&(o+=l+1),s-o)),0}expand_by_day(e){let n=[],i=this.last.clone();i.year=e,i.month=1,i.day=1,i.isDate=!0;let a=i.dayOfWeek();i.month=12,i.day=31,i.isDate=!0;let r=i.dayOfWeek(),l=i.dayOfYear();for(let s of this.by_data.BYDAY){let o=this.ruleDayOfWeek(s),u=o[0],c=o[1];if(u==0){let h=(c+7-a)%7+1;for(let d=h;d<=l;d+=7)n.push(d)}else if(u>0){let h;c>=a?h=c-a+1:h=c-a+8,n.push(h+(u-1)*7)}else{let h;u=-u,c<=r?h=l-r+c:h=l-r+c-7,n.push(h-(u-1)*7)}}return n}is_day_in_byday(e){if(this.by_data.BYDAY)for(let n of this.by_data.BYDAY){let i=this.ruleDayOfWeek(n),a=i[0],r=i[1],l=e.dayOfWeek();if(a==0&&r==l||e.nthWeekDay(r,a)==e.day)return 1}return 0}check_set_position(e){return this.has_by_data("BYSETPOS")?this.by_data.BYSETPOS.indexOf(e)!==-1:!1}sort_byday_rules(e){for(let n=0;n<e.length;n++)for(let i=0;i<n;i++){let a=this.ruleDayOfWeek(e[i],this.rule.wkst)[1],r=this.ruleDayOfWeek(e[n],this.rule.wkst)[1];if(a>r){let l=e[n];e[n]=e[i],e[i]=l}}}check_contract_restriction(e,n){let i=Ia._indexMap[e],a=Ia._expandMap[this.rule.freq][i],r=!1;if(e in this.by_data&&a==Ia.CONTRACT){let l=this.by_data[e];for(let s of l)if(s==n){r=!0;break}}else r=!0;return r}check_contracting_rules(){let e=this.last.dayOfWeek(),n=this.last.weekNumber(this.rule.wkst),i=this.last.dayOfYear();return this.check_contract_restriction("BYSECOND",this.last.second)&&this.check_contract_restriction("BYMINUTE",this.last.minute)&&this.check_contract_restriction("BYHOUR",this.last.hour)&&this.check_contract_restriction("BYDAY",Et.numericDayToIcalDay(e))&&this.check_contract_restriction("BYWEEKNO",n)&&this.check_contract_restriction("BYMONTHDAY",this.last.day)&&this.check_contract_restriction("BYMONTH",this.last.month)&&this.check_contract_restriction("BYYEARDAY",i)}setup_defaults(e,n,i){let a=Ia._indexMap[e];return Ia._expandMap[this.rule.freq][a]!=Ia.CONTRACT&&(e in this.by_data||(this.by_data[e]=[i]),this.rule.freq!=n)?this.by_data[e][0]:i}toJSON(){let e=Object.create(null);return e.initialized=this.initialized,e.rule=this.rule.toJSON(),e.dtstart=this.dtstart.toJSON(),e.by_data=this.by_data,e.days=this.days,e.last=this.last.toJSON(),e.by_indices=this.by_indices,e.occurrence_number=this.occurrence_number,e}},In=Ia;N(In,"_indexMap",{BYSECOND:0,BYMINUTE:1,BYHOUR:2,BYDAY:3,BYMONTHDAY:4,BYYEARDAY:5,BYWEEKNO:6,BYMONTH:7,BYSETPOS:8}),N(In,"_expandMap",{SECONDLY:[1,1,1,1,1,1,1,1],MINUTELY:[2,1,1,1,1,1,1,1],HOURLY:[2,2,1,1,1,1,1,1],DAILY:[2,2,2,1,1,1,1,1],WEEKLY:[2,2,2,2,3,3,1,1],MONTHLY:[2,2,2,2,2,3,3,1],YEARLY:[2,2,2,2,2,2,2,2]}),N(In,"UNKNOWN",0),N(In,"CONTRACT",1),N(In,"EXPAND",2),N(In,"ILLEGAL",3);var Zl=class extends Error{constructor(){super("Recurrence rule has no valid occurrences")}},wN=/^(SU|MO|TU|WE|TH|FR|SA)$/,xN=/^([+-])?(5[0-3]|[1-4][0-9]|[1-9])?(SU|MO|TU|WE|TH|FR|SA)$/,oT={SU:L.SUNDAY,MO:L.MONDAY,TU:L.TUESDAY,WE:L.WEDNESDAY,TH:L.THURSDAY,FR:L.FRIDAY,SA:L.SATURDAY},RN=Object.fromEntries(Object.entries(oT).map(t=>t.reverse())),ZC=["SECONDLY","MINUTELY","HOURLY","DAILY","WEEKLY","MONTHLY","YEARLY"],Et=class{constructor(e){N(this,"parts",null);N(this,"interval",1);N(this,"wkst",L.MONDAY);N(this,"until",null);N(this,"count",null);N(this,"freq",null);N(this,"icalclass","icalrecur");N(this,"icaltype","recur");this.wrappedJSObject=this,this.parts={},e&&typeof e=="object"&&this.fromData(e)}static fromString(e){let n=this._stringToData(e,!1);return new Et(n)}static fromData(e){return new Et(e)}static _stringToData(e,n){let i=Object.create(null),a=e.split(";"),r=a.length;for(let l=0;l<r;l++){let s=a[l].split("="),o=s[0].toUpperCase(),u=s[0].toLowerCase(),c=n?u:o,h=s[1];if(o in Ay){let d=h.split(","),f=new Set;for(let p of d)f.add(Ay[o](p));d=[...f],i[c]=d.length==1?d[0]:d}else o in Dy?Dy[o](h,i,n):i[u]=h}return i}static icalDayToNumericDay(e,n){let i=n||L.SUNDAY;return(oT[e]-i+7)%7+1}static numericDayToIcalDay(e,n){let i=n||L.SUNDAY,a=e+i-L.SUNDAY;return a>7&&(a-=7),RN[a]}iterator(e){return new In({rule:this,dtstart:e})}clone(){return new Et(this.toJSON())}isFinite(){return!!(this.count||this.until)}isByCount(){return!!(this.count&&!this.until)}addComponent(e,n){let i=e.toUpperCase();i in this.parts?this.parts[i].push(n):this.parts[i]=[n]}setComponent(e,n){this.parts[e.toUpperCase()]=n.slice()}getComponent(e){let n=e.toUpperCase();return n in this.parts?this.parts[n].slice():[]}getNextOccurrence(e,n){let i=this.iterator(e),a;do a=i.next();while(a&&a.compare(n)<=0);return a&&n.zone&&(a.zone=n.zone),a}fromData(e){for(let n in e){let i=n.toUpperCase();i in Ay?Array.isArray(e[n])?this.parts[i]=e[n]:this.parts[i]=[e[n]]:this[n]=e[n]}this.interval&&typeof this.interval!="number"&&Dy.INTERVAL(this.interval,this),this.wkst&&typeof this.wkst!="number"&&(this.wkst=Et.icalDayToNumericDay(this.wkst)),this.until&&!(this.until instanceof L)&&(this.until=L.fromString(this.until))}toJSON(){let e=Object.create(null);e.freq=this.freq,this.count&&(e.count=this.count),this.interval>1&&(e.interval=this.interval);for(let[n,i]of Object.entries(this.parts))Array.isArray(i)&&i.length==1?e[n.toLowerCase()]=i[0]:e[n.toLowerCase()]=zr(i);return this.until&&(e.until=this.until.toString()),"wkst"in this&&this.wkst!==L.DEFAULT_WEEK_START&&(e.wkst=Et.numericDayToIcalDay(this.wkst)),e}toString(){let e="FREQ="+this.freq;this.count&&(e+=";COUNT="+this.count),this.interval>1&&(e+=";INTERVAL="+this.interval);for(let[n,i]of Object.entries(this.parts))e+=";"+n+"="+i;return this.until&&(e+=";UNTIL="+this.until.toICALString()),"wkst"in this&&this.wkst!==L.DEFAULT_WEEK_START&&(e+=";WKST="+Et.numericDayToIcalDay(this.wkst)),e}};function za(t,e,n,i){let a=i;if(i[0]==="+"&&(a=i.slice(1)),a=kt(a),e!==void 0&&i<e)throw new Error(t+': invalid value "'+i+'" must be > '+e);if(n!==void 0&&i>n)throw new Error(t+': invalid value "'+i+'" must be < '+e);return a}var Dy={FREQ:function(t,e,n){if(ZC.indexOf(t)!==-1)e.freq=t;else throw new Error('invalid frequency "'+t+'" expected: "'+ZC.join(", ")+'"')},COUNT:function(t,e,n){e.count=kt(t)},INTERVAL:function(t,e,n){e.interval=kt(t),e.interval<1&&(e.interval=1)},UNTIL:function(t,e,n){t.length>10?e.until=Ae.icalendar.value["date-time"].fromICAL(t):e.until=Ae.icalendar.value.date.fromICAL(t),n||(e.until=L.fromString(e.until))},WKST:function(t,e,n){if(wN.test(t))e.wkst=Et.icalDayToNumericDay(t);else throw new Error('invalid WKST value "'+t+'"')}},Ay={BYSECOND:za.bind(void 0,"BYSECOND",0,60),BYMINUTE:za.bind(void 0,"BYMINUTE",0,59),BYHOUR:za.bind(void 0,"BYHOUR",0,23),BYDAY:function(t){if(xN.test(t))return t;throw new Error('invalid BYDAY value "'+t+'"')},BYMONTHDAY:za.bind(void 0,"BYMONTHDAY",-31,31),BYYEARDAY:za.bind(void 0,"BYYEARDAY",-366,366),BYWEEKNO:za.bind(void 0,"BYWEEKNO",-53,53),BYMONTH:za.bind(void 0,"BYMONTH",1,12),BYSETPOS:za.bind(void 0,"BYSETPOS",-366,366)},MN=/\\\\|\\;|\\,|\\[Nn]/g,ON=/\\|;|,|\n/g,XC=/\\\\|\\,|\\[Nn]/g,KC=/\\|,|\n/g;function Ty(t,e){return{matches:/.*/,fromICAL:function(i,a){return kN(i,t,a)},toICAL:function(i,a){let r=e;return a&&(r=new RegExp(r.source+"|"+a,r.flags)),i.replace(r,function(l){switch(l){case"\\":return"\\\\";case";":return"\\;";case",":return"\\,";case`
`:return"\\n";default:return l}})}}}var ge={defaultType:"text"},nu={defaultType:"text",multiValue:","},cf={defaultType:"text",structuredValue:";"},tf={defaultType:"integer"},nf={defaultType:"date-time",allowedTypes:["date-time","date"]},af={defaultType:"date-time"},Kt={defaultType:"uri"},$C={defaultType:"utc-offset"},JC={defaultType:"recur"},eT={defaultType:"date-and-or-time",allowedTypes:["date-time","date","text"]};function NN(t){switch(t){case"\\\\":return"\\";case"\\;":return";";case"\\,":return",";case"\\n":case"\\N":return`
`;default:return t}}function kN(t,e,n){return t.indexOf("\\")===-1?t:(n&&(e=new RegExp(e.source+"|\\\\"+n,e.flags)),t.replace(e,NN))}var wy={categories:nu,url:Kt,version:ge,uid:ge},xy={boolean:{values:["TRUE","FALSE"],fromICAL:function(t){switch(t){case"TRUE":return!0;case"FALSE":return!1;default:return!1}},toICAL:function(t){return t?"TRUE":"FALSE"}},float:{matches:/^[+-]?\d+\.\d+$/,fromICAL:function(t){let e=parseFloat(t);return tu(e)?0:e},toICAL:function(t){return String(t)}},integer:{fromICAL:function(t){let e=parseInt(t);return tu(e)?0:e},toICAL:function(t){return String(t)}},"utc-offset":{toICAL:function(t){return t.length<7?t.slice(0,3)+t.slice(4,6):t.slice(0,3)+t.slice(4,6)+t.slice(7,9)},fromICAL:function(t){return t.length<6?t.slice(0,3)+":"+t.slice(3,5):t.slice(0,3)+":"+t.slice(3,5)+":"+t.slice(5,7)},decorate:function(t){return hn.fromString(t)},undecorate:function(t){return t.toString()}}},zN={cutype:{values:["INDIVIDUAL","GROUP","RESOURCE","ROOM","UNKNOWN"],allowXName:!0,allowIanaToken:!0},"delegated-from":{valueType:"cal-address",multiValue:",",multiValueSeparateDQuote:!0},"delegated-to":{valueType:"cal-address",multiValue:",",multiValueSeparateDQuote:!0},encoding:{values:["8BIT","BASE64"]},fbtype:{values:["FREE","BUSY","BUSY-UNAVAILABLE","BUSY-TENTATIVE"],allowXName:!0,allowIanaToken:!0},member:{valueType:"cal-address",multiValue:",",multiValueSeparateDQuote:!0},partstat:{values:["NEEDS-ACTION","ACCEPTED","DECLINED","TENTATIVE","DELEGATED","COMPLETED","IN-PROCESS"],allowXName:!0,allowIanaToken:!0},range:{values:["THISANDFUTURE"]},related:{values:["START","END"]},reltype:{values:["PARENT","CHILD","SIBLING"],allowXName:!0,allowIanaToken:!0},role:{values:["REQ-PARTICIPANT","CHAIR","OPT-PARTICIPANT","NON-PARTICIPANT"],allowXName:!0,allowIanaToken:!0},rsvp:{values:["TRUE","FALSE"]},"sent-by":{valueType:"cal-address"},tzid:{matches:/^\//},value:{values:["binary","boolean","cal-address","date","date-time","duration","float","integer","period","recur","text","time","uri","utc-offset"],allowXName:!0,allowIanaToken:!0}},ot=Hr(xy,{text:Ty(MN,ON),uri:{},binary:{decorate:function(t){return Jl.fromString(t)},undecorate:function(t){return t.toString()}},"cal-address":{},date:{decorate:function(t,e){return Ae.strict?L.fromDateString(t,e):L.fromString(t,e)},undecorate:function(t){return t.toString()},fromICAL:function(t){return!Ae.strict&&t.length>=15?ot["date-time"].fromICAL(t):t.slice(0,4)+"-"+t.slice(4,6)+"-"+t.slice(6,8)},toICAL:function(t){let e=t.length;return e==10?t.slice(0,4)+t.slice(5,7)+t.slice(8,10):e>=19?ot["date-time"].toICAL(t):t}},"date-time":{fromICAL:function(t){if(!Ae.strict&&t.length==8)return ot.date.fromICAL(t);{let e=t.slice(0,4)+"-"+t.slice(4,6)+"-"+t.slice(6,8)+"T"+t.slice(9,11)+":"+t.slice(11,13)+":"+t.slice(13,15);return t[15]&&t[15]==="Z"&&(e+="Z"),e}},toICAL:function(t){let e=t.length;if(e==10&&!Ae.strict)return ot.date.toICAL(t);if(e>=19){let n=t.slice(0,4)+t.slice(5,7)+t.slice(8,13)+t.slice(14,16)+t.slice(17,19);return t[19]&&t[19]==="Z"&&(n+="Z"),n}else return t},decorate:function(t,e){return Ae.strict?L.fromDateTimeString(t,e):L.fromString(t,e)},undecorate:function(t){return t.toString()}},duration:{decorate:function(t){return St.fromString(t)},undecorate:function(t){return t.toString()}},period:{fromICAL:function(t){let e=t.split("/");return e[0]=ot["date-time"].fromICAL(e[0]),St.isValueString(e[1])||(e[1]=ot["date-time"].fromICAL(e[1])),e},toICAL:function(t){return t=t.slice(),!Ae.strict&&t[0].length==10?t[0]=ot.date.toICAL(t[0]):t[0]=ot["date-time"].toICAL(t[0]),St.isValueString(t[1])||(!Ae.strict&&t[1].length==10?t[1]=ot.date.toICAL(t[1]):t[1]=ot["date-time"].toICAL(t[1])),t.join("/")},decorate:function(t,e){return Un.fromJSON(t,e,!Ae.strict)},undecorate:function(t){return t.toJSON()}},recur:{fromICAL:function(t){return Et._stringToData(t,!0)},toICAL:function(t){let e="";for(let[n,i]of Object.entries(t))n=="until"?i.length>10?i=ot["date-time"].toICAL(i):i=ot.date.toICAL(i):n=="wkst"?typeof i=="number"&&(i=Et.numericDayToIcalDay(i)):Array.isArray(i)&&(i=i.join(",")),e+=n.toUpperCase()+"="+i+";";return e.slice(0,Math.max(0,e.length-1))},decorate:function(e){return Et.fromData(e)},undecorate:function(t){return t.toJSON()}},time:{fromICAL:function(t){if(t.length<6)return t;let e=t.slice(0,2)+":"+t.slice(2,4)+":"+t.slice(4,6);return t[6]==="Z"&&(e+="Z"),e},toICAL:function(t){if(t.length<8)return t;let e=t.slice(0,2)+t.slice(3,5)+t.slice(6,8);return t[8]==="Z"&&(e+="Z"),e}}}),HN=Hr(wy,{action:ge,attach:{defaultType:"uri"},attendee:{defaultType:"cal-address"},calscale:ge,class:ge,comment:ge,completed:af,contact:ge,created:af,description:ge,dtend:nf,dtstamp:af,dtstart:nf,due:nf,duration:{defaultType:"duration"},exdate:{defaultType:"date-time",allowedTypes:["date-time","date"],multiValue:","},exrule:JC,freebusy:{defaultType:"period",multiValue:","},geo:{defaultType:"float",structuredValue:";"},"last-modified":af,location:ge,method:ge,organizer:{defaultType:"cal-address"},"percent-complete":tf,priority:tf,prodid:ge,"related-to":ge,repeat:tf,rdate:{defaultType:"date-time",allowedTypes:["date-time","date","period"],multiValue:",",detectType:function(t){return t.indexOf("/")!==-1?"period":t.indexOf("T")===-1?"date":"date-time"}},"recurrence-id":nf,resources:nu,"request-status":cf,rrule:JC,sequence:tf,status:ge,summary:ge,transp:ge,trigger:{defaultType:"duration",allowedTypes:["duration","date-time"]},tzoffsetfrom:$C,tzoffsetto:$C,tzurl:Kt,tzid:ge,tzname:ge}),fn=Hr(xy,{text:Ty(XC,KC),uri:Ty(XC,KC),date:{decorate:function(t){return oi.fromDateAndOrTimeString(t,"date")},undecorate:function(t){return t.toString()},fromICAL:function(t){return t.length==8?ot.date.fromICAL(t):t[0]=="-"&&t.length==6?t.slice(0,4)+"-"+t.slice(4):t},toICAL:function(t){return t.length==10?ot.date.toICAL(t):t[0]=="-"&&t.length==7?t.slice(0,4)+t.slice(5):t}},time:{decorate:function(t){return oi.fromDateAndOrTimeString("T"+t,"time")},undecorate:function(t){return t.toString()},fromICAL:function(t){let e=fn.time._splitZone(t,!0),n=e[0],i=e[1];return i.length==6?i=i.slice(0,2)+":"+i.slice(2,4)+":"+i.slice(4,6):i.length==4&&i[0]!="-"?i=i.slice(0,2)+":"+i.slice(2,4):i.length==5&&(i=i.slice(0,3)+":"+i.slice(3,5)),n.length==5&&(n[0]=="-"||n[0]=="+")&&(n=n.slice(0,3)+":"+n.slice(3)),i+n},toICAL:function(t){let e=fn.time._splitZone(t),n=e[0],i=e[1];return i.length==8?i=i.slice(0,2)+i.slice(3,5)+i.slice(6,8):i.length==5&&i[0]!="-"?i=i.slice(0,2)+i.slice(3,5):i.length==6&&(i=i.slice(0,3)+i.slice(4,6)),n.length==6&&(n[0]=="-"||n[0]=="+")&&(n=n.slice(0,3)+n.slice(4)),i+n},_splitZone:function(t,e){let n=t.length-1,i=t.length-(e?5:6),a=t[i],r,l;return t[n]=="Z"?(r=t[n],l=t.slice(0,Math.max(0,n))):t.length>6&&(a=="-"||a=="+")?(r=t.slice(i),l=t.slice(0,Math.max(0,i))):(r="",l=t),[r,l]}},"date-time":{decorate:function(t){return oi.fromDateAndOrTimeString(t,"date-time")},undecorate:function(t){return t.toString()},fromICAL:function(t){return fn["date-and-or-time"].fromICAL(t)},toICAL:function(t){return fn["date-and-or-time"].toICAL(t)}},"date-and-or-time":{decorate:function(t){return oi.fromDateAndOrTimeString(t,"date-and-or-time")},undecorate:function(t){return t.toString()},fromICAL:function(t){let e=t.split("T");return(e[0]?fn.date.fromICAL(e[0]):"")+(e[1]?"T"+fn.time.fromICAL(e[1]):"")},toICAL:function(t){let e=t.split("T");return fn.date.toICAL(e[0])+(e[1]?"T"+fn.time.toICAL(e[1]):"")}},timestamp:ot["date-time"],"language-tag":{matches:/^[a-zA-Z0-9-]+$/},"phone-number":{fromICAL:function(t){return Array.from(t).filter(function(e){return e==="\\"?void 0:e}).join("")},toICAL:function(t){return Array.from(t).map(function(e){return e===","||e===";"?"\\"+e:e}).join("")}}}),LN={type:{valueType:"text",multiValue:","},value:{values:["text","uri","date","time","date-time","date-and-or-time","timestamp","boolean","integer","float","utc-offset","language-tag"],allowXName:!0,allowIanaToken:!0}},BN=Hr(wy,{adr:{defaultType:"text",structuredValue:";",multiValue:","},anniversary:eT,bday:eT,caladruri:Kt,caluri:Kt,clientpidmap:cf,email:ge,fburl:Kt,fn:ge,gender:cf,geo:Kt,impp:Kt,key:Kt,kind:ge,lang:{defaultType:"language-tag"},logo:Kt,member:Kt,n:{defaultType:"text",structuredValue:";",multiValue:","},nickname:nu,note:ge,org:{defaultType:"text",structuredValue:";"},photo:Kt,related:Kt,rev:{defaultType:"timestamp"},role:ge,sound:Kt,source:Kt,tel:{defaultType:"uri",allowedTypes:["uri","text"]},title:ge,tz:{defaultType:"text",allowedTypes:["text","utc-offset","uri"]},xml:ge}),IN=Hr(xy,{binary:ot.binary,date:fn.date,"date-time":fn["date-time"],"phone-number":fn["phone-number"],uri:ot.uri,text:fn.text,time:ot.time,vcard:ot.text,"utc-offset":{toICAL:function(t){return t.slice(0,7)},fromICAL:function(t){return t.slice(0,7)},decorate:function(t){return hn.fromString(t)},undecorate:function(t){return t.toString()}}}),UN={type:{valueType:"text",multiValue:","},value:{values:["text","uri","date","date-time","phone-number","time","boolean","integer","float","utc-offset","vcard","binary"],allowXName:!0,allowIanaToken:!0}},YN=Hr(wy,{fn:ge,n:{defaultType:"text",structuredValue:";",multiValue:","},nickname:nu,photo:{defaultType:"binary",allowedTypes:["binary","uri"]},bday:{defaultType:"date-time",allowedTypes:["date-time","date"],detectType:function(t){return t.indexOf("T")===-1?"date":"date-time"}},adr:{defaultType:"text",structuredValue:";",multiValue:","},label:ge,tel:{defaultType:"phone-number"},email:ge,mailer:ge,tz:{defaultType:"utc-offset",allowedTypes:["utc-offset","text"]},geo:{defaultType:"float",structuredValue:";"},title:ge,role:ge,logo:{defaultType:"binary",allowedTypes:["binary","uri"]},agent:{defaultType:"vcard",allowedTypes:["vcard","text","uri"]},org:cf,note:nu,prodid:ge,rev:{defaultType:"date-time",allowedTypes:["date-time","date"],detectType:function(t){return t.indexOf("T")===-1?"date":"date-time"}},"sort-string":ge,sound:{defaultType:"binary",allowedTypes:["binary","uri"]},class:ge,key:{defaultType:"binary",allowedTypes:["binary","text"]}}),Ii={name:"ical",value:ot,param:zN,property:HN,propertyGroups:!1},tT={name:"vcard4",value:fn,param:LN,property:BN,propertyGroups:!0},nT={name:"vcard3",value:IN,param:UN,property:YN,propertyGroups:!0},Ae={strict:!0,defaultSet:Ii,defaultType:"unknown",components:{vcard:tT,vcard3:nT,vevent:Ii,vtodo:Ii,vjournal:Ii,valarm:Ii,vtimezone:Ii,daylight:Ii,standard:Ii},icalendar:Ii,vcard:tT,vcard3:nT,getDesignSet:function(t){return t&&t in Ae.components?Ae.components[t]:Ae.defaultSet}},sf=`\r
`,iT="unknown",VN={'"':"^'","\n":"^n","^":"^^"};function Ge(t){typeof t[0]=="string"&&(t=[t]);let e=0,n=t.length,i="";for(;e<n;e++)i+=Ge.component(t[e])+sf;return i}Ge.component=function(t,e){let n=t[0].toUpperCase(),i="BEGIN:"+n+sf,a=t[1],r=0,l=a.length,s=t[0];for(s==="vcard"&&t[1].length>0&&!(t[1][0][0]==="version"&&t[1][0][3]==="4.0")&&(s="vcard3"),e=e||Ae.getDesignSet(s);r<l;r++)i+=Ge.property(a[r],e)+sf;let o=t[2]||[],u=0,c=o.length;for(;u<c;u++)i+=Ge.component(o[u],e)+sf;return i+="END:"+n,i};Ge.property=function(t,e,n){let i=t[0].toUpperCase(),a=t[0],r=t[1];e||(e=Ae.defaultSet);let l=r.group,s;e.propertyGroups&&l?s=l.toUpperCase()+"."+i:s=i;for(let[f,p]of Object.entries(r)){if(e.propertyGroups&&f=="group")continue;let y=e.param[f],b=y&&y.multiValue;b&&Array.isArray(p)?(p=p.map(function(g){return g=Ge._rfc6868Unescape(g),g=Ge.paramPropertyValue(g,y.multiValueSeparateDQuote),g}),p=Ge.multiValue(p,b,"unknown",null,e)):(p=Ge._rfc6868Unescape(p),p=Ge.paramPropertyValue(p)),s+=";"+f.toUpperCase()+"="+p}if(t.length===3)return s+":";let o=t[2],u,c=!1,h=!1,d=!1;return a in e.property?(u=e.property[a],"multiValue"in u&&(c=u.multiValue),"structuredValue"in u&&Array.isArray(t[3])&&(h=u.structuredValue),"defaultType"in u?o===u.defaultType&&(d=!0):o===iT&&(d=!0)):o===iT&&(d=!0),d||(s+=";VALUE="+o.toUpperCase()),s+=":",c&&h?s+=Ge.multiValue(t[3],h,o,c,e,h):c?s+=Ge.multiValue(t.slice(3),c,o,null,e,!1):h?s+=Ge.multiValue(t[3],h,o,null,e,h):s+=Ge.value(t[3],o,e,!1),n?s:sT(s)};Ge.paramPropertyValue=function(t,e){return!e&&t.indexOf(",")===-1&&t.indexOf(":")===-1&&t.indexOf(";")===-1?t:'"'+t+'"'};Ge.multiValue=function(t,e,n,i,a,r){let l="",s=t.length,o=0;for(;o<s;o++)i&&Array.isArray(t[o])?l+=Ge.multiValue(t[o],i,n,null,a,r):l+=Ge.value(t[o],n,a,r),o!==s-1&&(l+=e);return l};Ge.value=function(t,e,n,i){return e in n.value&&"toICAL"in n.value[e]?n.value[e].toICAL(t,i):t};Ge._rfc6868Unescape=function(t){return t.replace(/[\n^"]/g,function(e){return VN[e]})};var aT=0,rf=1,lf=2,Ha=3,Vi=class{static fromString(e,n){return new Vi(Se.property(e,n))}constructor(e,n){this._parent=n||null,typeof e=="string"?(this.jCal=[e,{},Ae.defaultType],this.jCal[lf]=this.getDefaultType()):this.jCal=e,this._updateType()}get type(){return this.jCal[lf]}get name(){return this.jCal[aT]}get parent(){return this._parent}set parent(e){let n=!this._parent||e&&e._designSet!=this._parent._designSet;this._parent=e,this.type==Ae.defaultType&&n&&(this.jCal[lf]=this.getDefaultType(),this._updateType())}get _designSet(){return this.parent?this.parent._designSet:Ae.defaultSet}_updateType(){let e=this._designSet;this.type in e.value&&("decorate"in e.value[this.type]?this.isDecorated=!0:this.isDecorated=!1,this.name in e.property&&(this.isMultiValue="multiValue"in e.property[this.name],this.isStructuredValue="structuredValue"in e.property[this.name]))}_hydrateValue(e){return this._values&&this._values[e]?this._values[e]:this.jCal.length<=Ha+e?null:this.isDecorated?(this._values||(this._values=[]),this._values[e]=this._decorate(this.jCal[Ha+e])):this.jCal[Ha+e]}_decorate(e){return this._designSet.value[this.type].decorate(e,this)}_undecorate(e){return this._designSet.value[this.type].undecorate(e,this)}_setDecoratedValue(e,n){this._values||(this._values=[]),typeof e=="object"&&"icaltype"in e?(this.jCal[Ha+n]=this._undecorate(e),this._values[n]=e):(this.jCal[Ha+n]=e,this._values[n]=this._decorate(e))}getParameter(e){if(e in this.jCal[rf])return this.jCal[rf][e]}getFirstParameter(e){let n=this.getParameter(e);return Array.isArray(n)?n[0]:n}setParameter(e,n){let i=e.toLowerCase();typeof n=="string"&&i in this._designSet.param&&"multiValue"in this._designSet.param[i]&&(n=[n]),this.jCal[rf][e]=n}removeParameter(e){delete this.jCal[rf][e]}getDefaultType(){let e=this.jCal[aT],n=this._designSet;if(e in n.property){let i=n.property[e];if("defaultType"in i)return i.defaultType}return Ae.defaultType}resetType(e){this.removeAllValues(),this.jCal[lf]=e,this._updateType()}getFirstValue(){return this._hydrateValue(0)}getValues(){let e=this.jCal.length-Ha;if(e<1)return[];let n=0,i=[];for(;n<e;n++)i[n]=this._hydrateValue(n);return i}removeAllValues(){this._values&&(this._values.length=0),this.jCal.length=3}setValues(e){if(!this.isMultiValue)throw new Error(this.name+`: does not not support mulitValue.
override isMultiValue`);let n=e.length,i=0;if(this.removeAllValues(),n>0&&typeof e[0]=="object"&&"icaltype"in e[0]&&this.resetType(e[0].icaltype),this.isDecorated)for(;i<n;i++)this._setDecoratedValue(e[i],i);else for(;i<n;i++)this.jCal[Ha+i]=e[i]}setValue(e){this.removeAllValues(),typeof e=="object"&&"icaltype"in e&&this.resetType(e.icaltype),this.isDecorated?this._setDecoratedValue(e,0):this.jCal[Ha]=e}toJSON(){return this.jCal}toICALString(){return Ge.property(this.jCal,this._designSet,!0)}},La=0,si=1,Ba=2,jN=0,PN=3,Ut=class{constructor(e,n){N(this,"_hydratedPropertyCount",0);N(this,"_hydratedComponentCount",0);N(this,"_timezoneCache",null);N(this,"_components",null);N(this,"_properties",null);typeof e=="string"&&(e=[e,[],[]]),this.jCal=e,this.parent=n||null,!this.parent&&this.name==="vcalendar"&&(this._timezoneCache=new Map)}static fromString(e){return new Ut(Se.component(e))}get name(){return this.jCal[La]}get _designSet(){var n;let e=this.parent&&this.parent._designSet;if(!e&&this.name=="vcard"){let i=(n=this.jCal[si])==null?void 0:n[0];if(i&&i[jN]=="version"&&i[PN]=="3.0")return Ae.getDesignSet("vcard3")}return e||Ae.getDesignSet(this.name)}_hydrateComponent(e){if(this._components||(this._components=[],this._hydratedComponentCount=0),this._components[e])return this._components[e];let n=new Ut(this.jCal[Ba][e],this);return this._hydratedComponentCount++,this._components[e]=n}_hydrateProperty(e){if(this._properties||(this._properties=[],this._hydratedPropertyCount=0),this._properties[e])return this._properties[e];let n=new Vi(this.jCal[si][e],this);return this._hydratedPropertyCount++,this._properties[e]=n}getFirstSubcomponent(e){if(e){let n=0,i=this.jCal[Ba],a=i.length;for(;n<a;n++)if(i[n][La]===e)return this._hydrateComponent(n)}else if(this.jCal[Ba].length)return this._hydrateComponent(0);return null}getAllSubcomponents(e){let n=this.jCal[Ba].length,i=0;if(e){let a=this.jCal[Ba],r=[];for(;i<n;i++)e===a[i][La]&&r.push(this._hydrateComponent(i));return r}else{if(!this._components||this._hydratedComponentCount!==n)for(;i<n;i++)this._hydrateComponent(i);return this._components||[]}}hasProperty(e){let n=this.jCal[si],i=n.length,a=0;for(;a<i;a++)if(n[a][La]===e)return!0;return!1}getFirstProperty(e){if(e){let n=0,i=this.jCal[si],a=i.length;for(;n<a;n++)if(i[n][La]===e)return this._hydrateProperty(n)}else if(this.jCal[si].length)return this._hydrateProperty(0);return null}getFirstPropertyValue(e){let n=this.getFirstProperty(e);return n?n.getFirstValue():null}getAllProperties(e){let n=this.jCal[si].length,i=0;if(e){let a=this.jCal[si],r=[];for(;i<n;i++)e===a[i][La]&&r.push(this._hydrateProperty(i));return r}else{if(!this._properties||this._hydratedPropertyCount!==n)for(;i<n;i++)this._hydrateProperty(i);return this._properties||[]}}_removeObjectByIndex(e,n,i){if(n=n||[],n[i]){let a=n[i];"parent"in a&&(a.parent=null)}n.splice(i,1),this.jCal[e].splice(i,1)}_removeObject(e,n,i){let a=0,r=this.jCal[e],l=r.length,s=this[n];if(typeof i=="string"){for(;a<l;a++)if(r[a][La]===i)return this._removeObjectByIndex(e,s,a),!0}else if(s){for(;a<l;a++)if(s[a]&&s[a]===i)return this._removeObjectByIndex(e,s,a),!0}return!1}_removeAllObjects(e,n,i){let a=this[n],r=this.jCal[e],l=r.length-1;for(;l>=0;l--)(!i||r[l][La]===i)&&this._removeObjectByIndex(e,a,l)}addSubcomponent(e){this._components||(this._components=[],this._hydratedComponentCount=0),e.parent&&e.parent.removeSubcomponent(e);let n=this.jCal[Ba].push(e.jCal);return this._components[n-1]=e,this._hydratedComponentCount++,e.parent=this,e}removeSubcomponent(e){let n=this._removeObject(Ba,"_components",e);return n&&this._hydratedComponentCount--,n}removeAllSubcomponents(e){let n=this._removeAllObjects(Ba,"_components",e);return this._hydratedComponentCount=0,n}addProperty(e){if(!(e instanceof Vi))throw new TypeError("must be instance of ICAL.Property");this._properties||(this._properties=[],this._hydratedPropertyCount=0),e.parent&&e.parent.removeProperty(e);let n=this.jCal[si].push(e.jCal);return this._properties[n-1]=e,this._hydratedPropertyCount++,e.parent=this,e}addPropertyWithValue(e,n){let i=new Vi(e);return i.setValue(n),this.addProperty(i),i}updatePropertyWithValue(e,n){let i=this.getFirstProperty(e);return i?i.setValue(n):i=this.addPropertyWithValue(e,n),i}removeProperty(e){let n=this._removeObject(si,"_properties",e);return n&&this._hydratedPropertyCount--,n}removeAllProperties(e){let n=this._removeAllObjects(si,"_properties",e);return this._hydratedPropertyCount=0,n}toJSON(){return this.jCal}toString(){return Ge.component(this.jCal,this._designSet)}getTimeZoneByID(e){if(this.parent)return this.parent.getTimeZoneByID(e);if(!this._timezoneCache)return null;if(this._timezoneCache.has(e))return this._timezoneCache.get(e);let n=this.getAllSubcomponents("vtimezone");for(let i of n)if(i.getFirstProperty("tzid").getFirstValue()===e){let a=new fe({component:i,tzid:e});return this._timezoneCache.set(e,a),a}return null}},df=class{constructor(e){N(this,"complete",!1);N(this,"ruleIterators",null);N(this,"ruleDates",null);N(this,"exDates",null);N(this,"ruleDateInc",0);N(this,"exDateInc",0);N(this,"exDate",null);N(this,"ruleDate",null);N(this,"dtstart",null);N(this,"last",null);this.ruleDates=[],this.exDates=[],this.fromData(e)}fromData(e){let n=Ui(e.dtstart,L);if(n)this.dtstart=n;else throw new Error(".dtstart (ICAL.Time) must be given");if(e.component)this._init(e.component);else{if(this.last=Ui(e.last,L)||n.clone(),!e.ruleIterators)throw new Error(".ruleIterators or .component must be given");this.ruleIterators=e.ruleIterators.map(function(i){return Ui(i,In)}),this.ruleDateInc=e.ruleDateInc,this.exDateInc=e.exDateInc,e.ruleDates&&(this.ruleDates=e.ruleDates.map(i=>Ui(i,L)),this.ruleDate=this.ruleDates[this.ruleDateInc]),e.exDates&&(this.exDates=e.exDates.map(i=>Ui(i,L)),this.exDate=this.exDates[this.exDateInc]),typeof e.complete!="undefined"&&(this.complete=e.complete)}}_compare_special(e,n){return!e.isDate&&n.isDate?new L({year:e.year,month:e.month,day:e.day}).compare(n):e.compare(n)}next(){let e,n,i,a=500,r=0;for(;;){if(r++>a)throw new Error("max tries have occurred, rule may be impossible to fulfill.");if(n=this.ruleDate,e=this._nextRecurrenceIter(this.last),!n&&!e){this.complete=!0;break}if((!n||e&&n.compare(e.last)>0)&&(n=e.last.clone(),e.next()),this.ruleDate===n&&this._nextRuleDay(),this.last=n,this.exDate&&(i=this._compare_special(this.last,this.exDate),i>0&&this._nextExDay(),i===0)){this._nextExDay();continue}return this.last}}toJSON(){function e(i){return i.toJSON()}let n=Object.create(null);return n.ruleIterators=this.ruleIterators.map(e),this.ruleDates&&(n.ruleDates=this.ruleDates.map(e)),this.exDates&&(n.exDates=this.exDates.map(e)),n.ruleDateInc=this.ruleDateInc,n.exDateInc=this.exDateInc,n.last=this.last.toJSON(),n.dtstart=this.dtstart.toJSON(),n.complete=this.complete,n}_extractDates(e,n){let i=[],a=e.getAllProperties(n);for(let r=0,l=a.length;r<l;r++)for(let s of a[r].getValues()){let o=kr(i,s,(u,c)=>u.compare(c));i.splice(o,0,s)}return i}_init(e){if(this.ruleIterators=[],this.last=this.dtstart.clone(),!e.hasProperty("rdate")&&!e.hasProperty("rrule")&&!e.hasProperty("recurrence-id")){this.ruleDate=this.last.clone(),this.complete=!0;return}if(e.hasProperty("rdate")&&(this.ruleDates=this._extractDates(e,"rdate"),this.ruleDates[0]&&this.ruleDates[0].compare(this.dtstart)<0?(this.ruleDateInc=0,this.last=this.ruleDates[0].clone()):this.ruleDateInc=kr(this.ruleDates,this.last,(n,i)=>n.compare(i)),this.ruleDate=this.ruleDates[this.ruleDateInc]),e.hasProperty("rrule")){let n=e.getAllProperties("rrule"),i=0,a=n.length,r,l;for(;i<a;i++)r=n[i].getFirstValue(),l=r.iterator(this.dtstart),this.ruleIterators.push(l),l.next()}e.hasProperty("exdate")&&(this.exDates=this._extractDates(e,"exdate"),this.exDateInc=kr(this.exDates,this.last,this._compare_special),this.exDate=this.exDates[this.exDateInc])}_nextExDay(){this.exDate=this.exDates[++this.exDateInc]}_nextRuleDay(){this.ruleDate=this.ruleDates[++this.ruleDateInc]}_nextRecurrenceIter(){let e=this.ruleIterators;if(e.length===0)return null;let n=e.length,i,a,r=0,l;for(;r<n;r++){if(i=e[r],a=i.last,i.completed){n--,r!==0&&r--,e.splice(r,1);continue}(!l||l.last.compare(a)>0)&&(l=i)}return l}},ff=class{constructor(e,n){N(this,"exceptions",null);N(this,"strictExceptions",!1);e instanceof Ut||(n=e,e=null),e?this.component=e:this.component=new Ut("vevent"),this._rangeExceptionCache=Object.create(null),this.exceptions=Object.create(null),this.rangeExceptions=[],n&&n.strictExceptions&&(this.strictExceptions=n.strictExceptions),n&&n.exceptions?n.exceptions.forEach(this.relateException,this):this.component.parent&&!this.isRecurrenceException()&&this.component.parent.getAllSubcomponents("vevent").forEach(function(i){i.hasProperty("recurrence-id")&&this.relateException(i)},this)}relateException(e){if(this.isRecurrenceException())throw new Error("cannot relate exception to exceptions");if(e instanceof Ut&&(e=new ff(e)),this.strictExceptions&&e.uid!==this.uid)throw new Error("attempted to relate unrelated exception");let n=e.recurrenceId.toString();if(this.exceptions[n]=e,e.modifiesFuture()){let i=[e.recurrenceId.toUnixTime(),n],a=kr(this.rangeExceptions,i,rT);this.rangeExceptions.splice(a,0,i)}}modifiesFuture(){return this.component.hasProperty("recurrence-id")?this.component.getFirstProperty("recurrence-id").getParameter("range")===ff.THISANDFUTURE:!1}findRangeException(e){if(!this.rangeExceptions.length)return null;let n=e.toUnixTime(),i=kr(this.rangeExceptions,[n],rT);if(i-=1,i<0)return null;let a=this.rangeExceptions[i];return n<a[0]?null:a[1]}getOccurrenceDetails(e){let n=e.toString(),i=e.convertToZone(fe.utcTimezone).toString(),a,r={recurrenceId:e};if(n in this.exceptions)a=r.item=this.exceptions[n],r.startDate=a.startDate,r.endDate=a.endDate,r.item=a;else if(i in this.exceptions)a=this.exceptions[i],r.startDate=a.startDate,r.endDate=a.endDate,r.item=a;else{let l=this.findRangeException(e),s;if(l){let o=this.exceptions[l];r.item=o;let u=this._rangeExceptionCache[l];if(!u){let h=o.recurrenceId.clone(),d=o.startDate.clone();h.zone=d.zone,u=d.subtractDate(h),this._rangeExceptionCache[l]=u}let c=e.clone();c.zone=o.startDate.zone,c.addDuration(u),s=c.clone(),s.addDuration(o.duration),r.startDate=c,r.endDate=s}else s=e.clone(),s.addDuration(this.duration),r.endDate=s,r.startDate=e,r.item=this}return r}iterator(e){return new df({component:this.component,dtstart:e||this.startDate})}isRecurring(){let e=this.component;return e.hasProperty("rrule")||e.hasProperty("rdate")}isRecurrenceException(){return this.component.hasProperty("recurrence-id")}getRecurrenceTypes(){let e=this.component.getAllProperties("rrule"),n=0,i=e.length,a=Object.create(null);for(;n<i;n++){let r=e[n].getFirstValue();a[r.freq]=!0}return a}get uid(){return this._firstProp("uid")}set uid(e){this._setProp("uid",e)}get startDate(){return this._firstProp("dtstart")}set startDate(e){this._setTime("dtstart",e)}get endDate(){let e=this._firstProp("dtend");if(!e){let n=this._firstProp("duration");e=this.startDate.clone(),n?e.addDuration(n):e.isDate&&(e.day+=1)}return e}set endDate(e){this.component.hasProperty("duration")&&this.component.removeProperty("duration"),this._setTime("dtend",e)}get duration(){let e=this._firstProp("duration");return e||this.endDate.subtractDateTz(this.startDate)}set duration(e){this.component.hasProperty("dtend")&&this.component.removeProperty("dtend"),this._setProp("duration",e)}get location(){return this._firstProp("location")}set location(e){this._setProp("location",e)}get attendees(){return this.component.getAllProperties("attendee")}get summary(){return this._firstProp("summary")}set summary(e){this._setProp("summary",e)}get description(){return this._firstProp("description")}set description(e){this._setProp("description",e)}get color(){return this._firstProp("color")}set color(e){this._setProp("color",e)}get organizer(){return this._firstProp("organizer")}set organizer(e){this._setProp("organizer",e)}get sequence(){return this._firstProp("sequence")}set sequence(e){this._setProp("sequence",e)}get recurrenceId(){return this._firstProp("recurrence-id")}set recurrenceId(e){this._setTime("recurrence-id",e)}_setTime(e,n){let i=this.component.getFirstProperty(e);i||(i=new Vi(e),this.component.addProperty(i)),n.zone===fe.localTimezone||n.zone===fe.utcTimezone?i.removeParameter("tzid"):i.setParameter("tzid",n.zone.tzid),i.setValue(n)}_setProp(e,n){this.component.updatePropertyWithValue(e,n)}_firstProp(e){return this.component.getFirstPropertyValue(e)}toString(){return this.component.toString()}},eu=ff;N(eu,"THISANDFUTURE","THISANDFUTURE");function rT(t,e){return t[0]>e[0]?1:e[0]>t[0]?-1:0}var _y=class{constructor(e){N(this,"parseEvent",!0);N(this,"parseTimezone",!0);N(this,"oncomplete",function(){});N(this,"onerror",function(e){});N(this,"ontimezone",function(e){});N(this,"onevent",function(e){});typeof e=="undefined"&&(e={});for(let[n,i]of Object.entries(e))this[n]=i}process(e){typeof e=="string"&&(e=Se(e)),e instanceof Ut||(e=new Ut(e));let n=e.getAllSubcomponents(),i=0,a=n.length,r;for(;i<a;i++)switch(r=n[i],r.name){case"vtimezone":if(this.parseTimezone){let l=r.getFirstPropertyValue("tzid");l&&this.ontimezone(new fe({tzid:l,component:r}))}break;case"vevent":this.parseEvent&&this.onevent(new eu(r));break;default:continue}this.oncomplete()}},Yn={foldLength:75,debug:!1,newLineChar:`\r
`,Binary:Jl,Component:Ut,ComponentParser:_y,Duration:St,Event:eu,Period:Un,Property:Vi,Recur:Et,RecurExpansion:df,RecurIterator:In,Time:L,Timezone:fe,TimezoneService:uf,UtcOffset:hn,VCardTime:oi,parse:Se,stringify:Ge,design:Ae,helpers:_N};var ji=require("obsidian");var es=class{constructor(){this.cache=new Map;this.CACHE_TTL=5*60*1e3;this.WINDOWS_TZ_MAPPING={"Central Standard Time":"America/Chicago","Eastern Standard Time":"America/New_York","Pacific Standard Time":"America/Los_Angeles","Mountain Standard Time":"America/Denver","India Standard Time":"Asia/Kolkata","China Standard Time":"Asia/Shanghai","Tokyo Standard Time":"Asia/Tokyo","GMT Standard Time":"Europe/London","Romance Standard Time":"Europe/Paris","W. Europe Standard Time":"Europe/Berlin"}}async fetchEvents(e,n,i,a=!1){let r=this.normalizeUrl(e);if(!r)return[];let l=this.getCacheKey(r,n,i,a),s=this.cache.get(l);if(s&&Date.now()<s.expiry)return s.events;try{let o=await(0,ji.requestUrl)({url:r,method:"GET",headers:{Accept:"text/calendar, text/plain;q=0.9, */*;q=0.8"}});if(o.status!==200)return Me("[ExternalCalendar] Failed to fetch calendar:",o.status),[];let u=this.parseICalData(o.text,n,i,a).map(c=>({...c,sourceUrl:r}));return this.cache.set(l,{events:u,expiry:Date.now()+this.CACHE_TTL}),u}catch(o){return Me("[ExternalCalendar] Error fetching calendar:",o),[]}}parseICalData(e,n,i,a=!1){var r,l;try{if(!e||typeof e!="string")return[];if(!e.trim().toUpperCase().includes("BEGIN:VCALENDAR"))return[];let o=Yn.parse(e),c=new Yn.Component(o).getAllSubcomponents("vevent"),h=[],d=n?Yn.Time.fromJSDate(n):null,f=new Map,p=[];for(let y of c)try{let b=new Yn.Event(y);if(p.push({event:b,vevent:y}),b.recurrenceId){let g=b.uid;f.has(g)||f.set(g,[]),(r=f.get(g))==null||r.push(b.recurrenceId)}}catch(b){$e("[ExternalCalendar] Error pre-parsing event:",b)}for(let{event:y,vevent:b}of p)try{let g=b.getFirstProperty("status"),m=this.extractString(b,"status",""),v=(typeof m=="string"?m:"").trim().toUpperCase(),S=v==="CANCELLED"||v==="CANCELED",A=!!b.getFirstProperty("rrule")||!!b.getFirstProperty("rdate"),T=(y.isRecurring()||A)&&!y.recurrenceId,x=!!g&&S&&!T;if(x&&ye(`[ExternalCalendar] Event marked as CANCELLED: "${this.extractString(b,"summary","")}", UID: ${this.extractString(b,"uid","")}, Status: "${v}", HasStatusProp: ${!!g}, IsRecurringMaster: ${T}`),this.extractString(b,"summary","").toLowerCase().includes("jedi")&&ye(`[ExternalCalendar] Found 'Jedi' event. Status: ${v}, IsCancelled: ${x}, UID: ${this.extractString(b,"uid","")}`),x&&!a)continue;let M=this.extractString(b,"summary","Untitled Event"),z=this.extractString(b,"description",""),I=this.extractString(b,"location",""),ee=this.extractString(b,"uid",`${y.startDate.toUnixTime()}`),We=this.extractString(b,"url",""),U=this.extractOrganizer(b),Y=this.extractAttendees(b),Z=b.getFirstProperty("dtstart"),ne=null;if(Z){let $=Z.getParameter("tzid");if(typeof $=="string"&&(ne=$.replace(/^["']|["']$/g,"")),ne){let Q=Z.getFirstValue();if(Q&&Q.zone&&Q.zone.toString()!=="floating"){let Dt=new Yn.Time({year:Q.year,month:Q.month,day:Q.day,hour:Q.hour,minute:Q.minute,second:Q.second,isDate:Q.isDate});y.startDate=Dt;let Qe=b.getFirstProperty("dtend");if(Qe){let He=Qe.getFirstValue();if(He&&He.zone&&He.zone.toString()!=="floating"){let Yt=new Yn.Time({year:He.year,month:He.month,day:He.day,hour:He.hour,minute:He.minute,second:He.second,isDate:He.isDate});y.endDate=Yt}}}}}if(y.isRecurring()){let $=y.iterator(y.startDate),Q=null,Dt=0,Qe=2e3;for(;(Q=$.next())&&(Dt++,!(Dt>Qe||i&&Q.compare(Yn.Time.fromJSDate(i))>0));){let He=y.uid;if(f.has(He)&&Q){let ie=f.get(He);if(ie==null?void 0:ie.some(F=>{if(F.compare(Q)===0)return!0;let nt=F.toUnixTime(),je=Q.toUnixTime();return Math.abs(nt-je)<60||F.year===Q.year&&F.month===Q.month&&F.day===Q.day&&F.hour===Q.hour&&F.minute===Q.minute}))continue}let Yt=y.getOccurrenceDetails(Q),ui=this.normalizeTime(Yt.startDate,ne),he=this.normalizeTime(Yt.endDate,ne);this.pushEvent(h,ui,he,Yt.startDate.isDate,{uid:ee,summary:M,description:z,location:I,organizer:U,attendees:Y,url:We,isCancelled:x},n,i)}}else{let $=(l=y.endDate)!=null?l:y.startDate.clone();!y.endDate&&y.duration&&$.addDuration(y.duration);let Q=this.normalizeTime(y.startDate,ne),Dt=this.normalizeTime($,ne),Qe;if(y.recurrenceId){let He=y.recurrenceId.toJSDate().getTime();Qe=`${ee}-${He}`}else Qe=ee;this.pushEvent(h,Q,Dt,y.startDate.isDate,{uid:ee,id:Qe,summary:M,description:z,location:I,organizer:U,attendees:Y,url:We,isCancelled:x},n,i)}}catch(g){$e("[ExternalCalendar] Error parsing single event:",g);continue}return h}catch(s){return Me("[ExternalCalendar] Error parsing iCal data:",s),[]}}normalizeTime(e,n){if(e.isDate||e.zone&&e.zone.toString()!=="floating"&&!n)return e.toJSDate();let i=n;if(i&&this.WINDOWS_TZ_MAPPING[i]&&(i=this.WINDOWS_TZ_MAPPING[i]),i&&ji.moment.tz&&ji.moment.tz.zone(i)){let r=o=>String(o).padStart(2,"0"),l=`${e.year}-${r(e.month)}-${r(e.day)}T${r(e.hour)}:${r(e.minute)}:${r(e.second)}`,s=ji.moment.tz(l,i);if(s.isValid())return s.toDate();es.warnedZones.has(i)||($e("[ExternalCalendar] moment-timezone conversion failed",{isoString:l,targetTzid:i,fallback:"using manual offset calculation"}),es.warnedZones.add(i))}else i&&(es.warnedZones.has(i)||($e("[ExternalCalendar] moment-timezone not available or zone not found",{targetTzid:i,momentTzAvailable:!!ji.moment.tz,zoneExists:ji.moment.tz?!!ji.moment.tz.zone(i):!1}),es.warnedZones.add(i)));if(i)try{let r=o=>String(o).padStart(2,"0"),l=`${e.year}-${r(e.month)}-${r(e.day)}T${r(e.hour)}:${r(e.minute)}:${r(e.second)}`,s=this.parseDateInTimezone(l,i);if(s)return s}catch(r){$e("[ExternalCalendar] Manual timezone offset calculation failed",{targetTzid:i,error:r instanceof Error?r.message:String(r)})}return e.toJSDate()}parseDateInTimezone(e,n){try{let i=e.match(/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})$/);if(!i)return null;let[,a,r,l,s,o,u]=i,c=parseInt(a),h=parseInt(r),d=parseInt(l),f=parseInt(s),p=parseInt(o),y=parseInt(u);try{let b=new Date(Date.UTC(c,h-1,d,f,p,y)),m=new Intl.DateTimeFormat("en-US",{timeZone:n,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).formatToParts(b),v={};for(let z of m)z.type!=="literal"&&(v[z.type]=z.value);let S=Date.UTC(parseInt(v.year),parseInt(v.month)-1,parseInt(v.day),parseInt(v.hour),parseInt(v.minute),parseInt(v.second)),A=b.getTime(),T=S-A,M=Date.UTC(c,h-1,d,f,p,y)-T;return new Date(M)}catch(b){return $e("[ExternalCalendar] Intl API does not support timezone:",n),null}}catch(i){return null}}pushEvent(e,n,i,a,r,l,s){l&&n<l||s&&n>s||e.push({id:r.id||`${r.uid}-${n.getTime()}`,uid:r.uid,title:r.summary,description:r.description,startDate:n,endDate:i,location:r.location,organizer:r.organizer,attendees:r.attendees,isAllDay:a,url:r.url,isCancelled:r.isCancelled})}extractString(e,n,i){try{let a=e.getFirstPropertyValue(n);if(a==null)return i;if(Array.isArray(a))return a.map(l=>typeof l=="string"?l:String(l)).join(", ");if(typeof a=="string")return a;let r=String(a);return r==="[object Object]"?typeof a.toJSDate=="function"?a.toJSDate().toISOString():i:r}catch(a){return i}}extractOrganizer(e){let n=e.getFirstProperty("organizer");if(!n)return"";let i=n.getParameter("cn"),a=Array.isArray(i)?i[0]:i,r=n.getFirstValue(),l=Array.isArray(r)?String(r[0]):typeof r=="string"?r:String(r);return a||l.replace("mailto:","")||""}extractAttendees(e){let n=[],i=e.getAllProperties("attendee");for(let a of i){let r=a.getParameter("cn"),l=Array.isArray(r)?r[0]:r,s=a.getFirstValue(),o=Array.isArray(s)?String(s[0]):typeof s=="string"?s:String(s),u=l||o.replace("mailto:","")||"";u&&n.push(u)}return n}clearCache(){this.cache.clear()}normalizeUrl(e){if(!e)return null;let n=e.trim();return n?n.toLowerCase().startsWith("webcal://")?"https://"+n.slice(9):n:null}getCacheKey(e,n,i,a){let r=n?n.toISOString().split("T")[0]:"none",l=i?i.toISOString().split("T")[0]:"none";return`${e}::${r}::${l}::${a}`}},Lr=es;Lr.warnedZones=new Set;var Pi=require("obsidian");var hf=class extends Pi.Modal{constructor(n,i,a,r){super(n);this.event=i,this.onCreateNote=a,this.onHide=r}onOpen(){let{contentEl:n}=this;n.empty(),n.addClass("external-event-modal"),n.createEl("h2",{text:this.event.title});let i=n.createDiv({cls:"external-event-details"}),a=i.createDiv({cls:"external-event-field"});if(a.createEl("strong",{text:"When: "}),a.createSpan({text:this.formatEventTime(this.event.startDate,this.event.endDate,this.event.isAllDay)}),this.event.location){let o=i.createDiv({cls:"external-event-field"});o.createEl("strong",{text:"Location: "}),o.createSpan({text:this.event.location})}if(this.event.organizer){let o=i.createDiv({cls:"external-event-field"});o.createEl("strong",{text:"Organizer: "}),o.createSpan({text:this.event.organizer})}if(this.event.attendees&&this.event.attendees.length>0){let o=i.createDiv({cls:"external-event-field"});o.createEl("strong",{text:"Attendees: "}),o.createSpan({text:this.event.attendees.join(", ")})}if(this.event.description&&(i.createDiv({cls:"external-event-field"}).createEl("strong",{text:"Description: "}),i.createDiv({cls:"external-event-description"}).setText(this.event.description)),this.event.url){let o=i.createDiv({cls:"external-event-field"});o.createEl("strong",{text:"Link: "}),o.createEl("a",{text:this.event.url,href:this.event.url}).setAttr("target","_blank")}let r=n.createDiv({cls:"modal-button-container"});r.style.marginTop="20px",r.style.display="flex",r.style.gap="10px",r.style.justifyContent="flex-end",this.onHide&&r.createEl("button",{text:"Hide Event"}).addEventListener("click",async()=>{this.onHide&&(await this.onHide(this.event),this.close())}),r.createEl("button",{text:"Create Meeting Note",cls:"mod-cta"}).addEventListener("click",async()=>{await this.onCreateNote(this.event),this.close()}),r.createEl("button",{text:"Close"}).addEventListener("click",()=>this.close())}onClose(){let{contentEl:n}=this;n.empty()}formatEventTime(n,i,a){let r={weekday:"short",month:"short",day:"numeric",year:"numeric"},l={hour:"numeric",minute:"2-digit",hour12:!0};if(a)return new Intl.DateTimeFormat(void 0,r).format(n);let s=new Intl.DateTimeFormat(void 0,r).format(n),o=new Intl.DateTimeFormat(void 0,l).format(n),u=new Intl.DateTimeFormat(void 0,l).format(i);return`${s}, ${o} - ${u}`}};async function gf(t,e,n,i,a,r,l,s=null){var g;let o="";if(n){let m=t.vault.getAbstractFileByPath((0,Pi.normalizePath)(n));m&&m instanceof Pi.TFile&&(o=await t.vault.read(m))}let u={title:e.title,googleEventId:e.id,tpsCalendarUid:e.uid};if(a&&(u[a]=Bi(e.startDate)),r)if(l){let m=Math.round((e.endDate.getTime()-e.startDate.getTime())/6e4);u[r]=m}else u[r]=Bi(e.endDate);let c=o;o?c=o.replace(/{{title}}/g,e.title).replace(/{{description}}/g,e.description||"").replace(/{{location}}/g,e.location||"").replace(/{{organizer}}/g,e.organizer||"").replace(/{{attendees}}/g,((g=e.attendees)==null?void 0:g.join(", "))||"").replace(/{{url}}/g,e.url||""):(c=`# ${e.title}

`,e.description&&(c+=`## Description
${e.description}

`),e.attendees&&e.attendees.length>0&&(c+=`## Attendees
${e.attendees.map(m=>`- ${m}`).join(`
`)}

`),c+=`## Notes

`);let h=i?(0,Pi.normalizePath)(i):"";if(h&&!t.vault.getAbstractFileByPath(h))try{await t.vault.createFolder(h)}catch(v){Me(`Failed to create folder ${h}:`,v)}let d=e.title.replace(/[\\/:*?"<>|]/g,"").replace(/\s+/g," ").trim(),f=`${e.startDate.getFullYear()}-${String(e.startDate.getMonth()+1).padStart(2,"0")}-${String(e.startDate.getDate()).padStart(2,"0")}`,p=(0,Pi.normalizePath)(`${h}/${d} ${f}.md`),y=1;for(;t.vault.getAbstractFileByPath(p);)p=(0,Pi.normalizePath)(`${h}/${d} ${f} ${y}.md`),y++;let b=await t.vault.create(p,c);return await t.fileManager.processFrontMatter(b,m=>{if(s){let v=[];Array.isArray(m.tags)?v=m.tags.map(String):typeof m.tags=="string"&&(v=[m.tags]),v.includes(s)||v.push(s),m.tags=v}delete m.title,Object.assign(m,u)}),b}var pf=gn(Jo(),1),mf="calendar",Ua=class extends J.BasesView{constructor(n,i,a){super(n);this.type=mf;this.root=null;this.entries=[];this.pendingUpdates=new Map;this.startDateProp=null;this.endDateProp=null;this.titleProp=null;this.weekStartDay=1;this.refreshTimeout=null;this.newEventFolder=null;this.newEventTemplate=null;this.defaultFrontmatter={};this.allDayProperty=null;this.priorityField=null;this.statusField=null;this.condenseLevel=80;this.showFullDay=!1;this.currentDate=null;this.dayCount=7;this.navStep=7;this.minHour="";this.maxHour="";this.showHiddenHoursToggle=!0;this.useEndDuration=!0;this.defaultEventDuration=30;this.showNavButtons=!0;this.externalCalendarUrls=[];this.visibleExternalCalendarUrls=[];this.externalCalendarFilterTerms=[];this.cachedExternalEvents=[];this.isFetchingExternalEvents=!1;this.viewMode="week";this.headerResizeObserver=null;this.headerMutationObserver=null;this.observedHeaders=new WeakSet;this.dayPickerAction=null;this.datePickerInput=null;this.headerPortalContainer=null;this.lastAutoCreateCheck=0;this.lastExternalFetch=0;this.handleTrackedFileChange=(n,i,a)=>{n instanceof J.TFile&&this.hasEntryForFile(n.path)&&(this.fastRefreshEntry(n,a)?(ye(`[CalendarView] Fast refreshed entry: ${n.path}`),this.scheduleRefresh(1e3)):this.scheduleRefresh())};try{n||Me("[CalendarView] Controller is null")}catch(r){console.error("[CalendarView] Error during controller check:",r)}this.controller=n,this.plugin=a,this.scrollEl=i,this.scrollEl.classList.add("bases-calendar-scroll"),this.containerEl=i.createDiv({cls:"bases-calendar-container is-loading",attr:{tabIndex:0}}),this.lastAutoCreateCheck=0,this.newEventService=new ef({app:this.app}),this.externalCalendarService=new Lr,this.debouncedUpdateHeaderOffset=(0,J.debounce)(()=>{this.updateBasesHeaderOffset()},100,!0),this.debouncedRefresh=(0,J.debounce)(()=>{this.updateCalendar()},500,!0)}onload(){typeof Date.prototype.contains!="function"&&(Date.prototype.contains=function(r){let l=String(this);return typeof l.contains=="function"?l.contains(r):l.toLowerCase().includes(String(r).toLowerCase())});let n=console.error;console.error=function(...r){let l=r.length>0?r[0]:"",s=typeof l=="string"?l:l&&l.message?l.message:String(l);s.includes("Cannot find function")&&s.includes("on type Date")||s.includes("Failed to evaluate a filter")&&s.includes("Date")||n.apply(console,r)},this.registerEvent(this.app.workspace.on("tps-gcm-delete-complete",()=>{this.newEventService.ensureFocus()})),this.registerRefreshListeners(),this.updateBasesHeaderOffset(),this.installHeaderResizeObserver();let i=0,a=window.setInterval(()=>{i++;let r=this.containerEl.closest(".workspace-leaf"),l=this.containerEl.closest(".workspace-leaf-content"),s=r||l;s&&s.querySelectorAll(".bases-view-header, .bases-toolbar, .bases-header, .view-header").length>0,i>10&&window.clearInterval(a)},500);this.datePickerInput=this.containerEl.createEl("input",{type:"date",attr:{style:"display:none;"}}),this.datePickerInput.addEventListener("change",r=>{let l=r.target.value;if(l){let[s,o,u]=l.split("-").map(Number),c=new Date(s,o-1,u);this.currentDate=c,this.renderReactCalendar()}}),this.config&&(this.loadConfig(),this.updateCalendar())}onResize(){this.containerEl.isShown()&&(this.debouncedUpdateHeaderOffset(),this.root&&this.renderReactCalendar())}onunload(){var n,i;this.refreshTimeout!==null&&(window.clearTimeout(this.refreshTimeout),this.refreshTimeout=null),this.root&&(this.root.unmount(),this.root=null),this.dayPickerAction&&(this.dayPickerAction.remove(),this.dayPickerAction=null),(n=this.headerResizeObserver)==null||n.disconnect(),this.headerResizeObserver=null,(i=this.headerMutationObserver)==null||i.disconnect(),this.headerMutationObserver=null,this.entries=[],this.headerPortalContainer&&(this.headerPortalContainer.remove(),this.headerPortalContainer=null)}focus(){this.containerEl.focus({preventScroll:!0})}onDataUpdated(){this.containerEl.removeClass("is-loading"),this.loadConfig(),this.debouncedRefresh(),this.debouncedUpdateHeaderOffset(),setTimeout(()=>this.debouncedUpdateHeaderOffset(),0)}updateBasesHeaderOffset(){if(!this.containerEl.isShown()||!this.containerEl.isConnected)return;let n=this.containerEl.closest(".workspace-leaf"),i=this.containerEl.closest(".workspace-leaf-content"),a=n!=null?n:i;if(!a)return;let r=Array.from(a.querySelectorAll(".bases-view-header, .bases-toolbar, .bases-header, .view-header")),l=r.length>1?r[1]:r[0];if(r.length===0)return;let s=null,o=null,u=r.length>1?r[1]:r[0];s=u.querySelector(".view-header-title-container")||u.querySelector(".nav-buttons-container")||u,o=s.firstChild,s&&!J.Platform.isMobile&&(!this.headerPortalContainer||!this.headerPortalContainer.isConnected)&&(this.headerPortalContainer=document.createElement("div"),this.headerPortalContainer.addClass("tps-calendar-nav-portal"),this.headerPortalContainer.style.display="inline-flex",this.headerPortalContainer.style.alignItems="center",this.headerPortalContainer.style.marginLeft="12px",this.headerPortalContainer.style.pointerEvents="none",o?s.insertBefore(this.headerPortalContainer,o):s.appendChild(this.headerPortalContainer),this.renderReactCalendar());let c=r.reduce((h,d)=>{let f=Math.max(0,Math.round(d.getBoundingClientRect().height));return f>h?f:h},0);c>0&&(i==null||i.style.setProperty("--tps-bases-header-height",`${c}px`),this.containerEl.style.setProperty("--tps-bases-header-height",`${c}px`))}installHeaderResizeObserver(){if(this.headerResizeObserver||this.headerMutationObserver)return;let n=this.containerEl.closest(".workspace-leaf-content");if(!n||typeof ResizeObserver=="undefined")return;let i=()=>{let a=Array.from(n.querySelectorAll(".bases-view-header, .bases-toolbar, .bases-header, .view-header"));if(a.length!==0){this.headerResizeObserver||(this.headerResizeObserver=new ResizeObserver(()=>this.debouncedUpdateHeaderOffset()));for(let r of a)this.observedHeaders.has(r)||(this.observedHeaders.add(r),this.headerResizeObserver.observe(r));this.debouncedUpdateHeaderOffset()}};i(),this.headerMutationObserver=new MutationObserver(()=>i()),this.headerMutationObserver.observe(n,{childList:!0,subtree:!0})}loadConfig(){var h,d,f,p,y,b,g;if(!this.config){console.error("[CalendarView] Config is null or undefined");return}this.startDateProp=(h=this.config.getAsPropertyId("startDate"))!=null?h:"note.date",this.endDateProp=(d=this.config.getAsPropertyId("endDate"))!=null?d:"note.end",this.titleProp=this.config.getAsPropertyId("titleProperty"),this.priorityField=(f=this.config.getAsPropertyId("priorityField"))!=null?f:"note.priority",this.statusField=(p=this.config.getAsPropertyId("statusField"))!=null?p:"note.status",this.defaultEventDuration=(y=this.config.get("defaultEventDuration"))!=null?y:30;let n=this.config.get("weekStartDay");this.weekStartDay=n?this.getWeekStartDay(n):1;let i=this.config.get("condenseLevel");i!==void 0?this.condenseLevel=this.normalizeCondenseLevel(i):this.condenseLevel=this.plugin.getDefaultCondenseLevel();let a=this.config.get("minHour"),r=this.config.get("maxHour");this.minHour=this.normalizeHour(a||""),this.maxHour=this.normalizeHour(r||"");let l=this.config.get("showHiddenHoursToggle");this.showHiddenHoursToggle=l==="false"?!1:l!==!1;let s=this.config.get("useEndDuration");this.useEndDuration=!(s==="false"||s===!1);let o=this.config.get("showFullDay");this.showFullDay=o==="true"||o===!0;let u=this.config.get("viewMode");if(["day","3d","5d","7d","week","month","continuous"].includes(u))this.viewMode=u;else{let m=this.parseNumberConfig(this.config.get("dayCount"),7);m===3?this.viewMode="3d":m===5?this.viewMode="5d":m===30?this.viewMode="month":this.viewMode="week"}this.dayPickerAction&&(["3d","5d","7d","week"].includes(this.viewMode)?this.dayPickerAction.style.display="":this.dayPickerAction.style.display="none"),this.navStep=this.parseNumberConfig(this.config.get("navStep"),7);let c=this.config.get("showNavButtons");this.showNavButtons=!(c==="false"||c===!1),this.newEventFolder=this.config.get("newEventFolder")||null,this.newEventTemplate=this.config.get("newEventTemplate")||null,this.defaultFrontmatter={},this.allDayProperty=(b=this.config.getAsPropertyId("allDayProperty"))!=null?b:"note.allDay",this.externalCalendarFilterTerms=this.parseFilterTerms(this.plugin.getExternalCalendarFilter()),this.updateExternalCalendarVisibility(),this.plugin.autoCreateService&&this.plugin.autoCreateService.updateConfig({startProperty:this.config.get("startProperty")||"scheduled",endProperty:this.config.get("endProperty")||"timeEstimate",useEndDuration:this.useEndDuration,syncOnEventDelete:this.plugin.settings.syncOnEventDelete||"nothing",archiveFolder:this.plugin.settings.archiveFolder||"",canceledStatusValue:((g=this.plugin.settings.canceledStatusValue)==null?void 0:g.trim())||null}),this.updateNewEventService()}updateNewEventService(){let n=i=>{if(!i)return null;let a=(0,J.parsePropertyId)(i);if(a.type==="formula"){let r=a.name||a.property;if(r)return`note.${r}`}return i};this.newEventService.updateConfig({app:this.app,startProperty:n(this.startDateProp),endProperty:n(this.endDateProp),allDayProperty:n(this.allDayProperty),folderPath:this.newEventFolder,templatePath:this.newEventTemplate,useEndDuration:this.useEndDuration,defaultDuration:this.defaultEventDuration,additionalFrontmatter:Object.keys(this.defaultFrontmatter).length>0?this.defaultFrontmatter:void 0,inProgressStatusValue:this.plugin.settings.inProgressStatusValue})}async updateCalendar(){var f,p,y,b,g,m,v,S;if(!this.data||!this.startDateProp){(f=this.root)==null||f.unmount(),this.root=null,this.containerEl.empty(),this.containerEl.createDiv("bases-calendar-empty").textContent="Configure a start date property to display entries";return}this.updateExternalCalendarVisibility();let n=[],i=this.currentDate||new Date,a=new Date(i);a.setDate(a.getDate()-30);let r=new Date(i);r.setDate(r.getDate()+60);let l=new Set(this.visibleExternalCalendarUrls),s=this.cachedExternalEvents.filter(A=>!A.sourceUrl||l.has(A.sourceUrl));Date.now()-this.lastExternalFetch>6e4&&this.refreshExternalEvents(a,r);let o=new Set,u=new Set,c=this.statusField?this.getNoteField(this.statusField):null;if(c){let A=this.app.vault.getMarkdownFiles();for(let T of A){let x=this.app.metadataCache.getFileCache(T),M=x==null?void 0:x.frontmatter;if(!M)continue;let z=M[c];if(!z)continue;let I=String(z).toLowerCase().trim();if(I!=="wont-do"&&I!=="wont do")continue;let ee=M.googleEventId?String(M.googleEventId):"";if(!ee)continue;u.add(ee);let We=ee.includes("-")?ee.split("-")[0]:ee;We&&u.add(We)}}for(let A of this.data.data){let T=A.file,x=this.extractDate(A,this.startDateProp);if(x){let M=null,z=null;if(this.statusField){let q=this.getNoteField(this.statusField);if(q&&T){let F=this.app.metadataCache.getFileCache(T);M=(p=F==null?void 0:F.frontmatter)==null?void 0:p[q]}else M=this.tryGetValue(A,this.statusField)}if(this.priorityField){let q=this.getNoteField(this.priorityField);if(q&&T){let F=this.app.metadataCache.getFileCache(T);z=(y=F==null?void 0:F.frontmatter)==null?void 0:y[q]}else z=this.tryGetValue(A,this.priorityField)}let I=this.titleProp?this.valueToString(A.getValue(this.titleProp)):void 0;if(!I){let q=A.getValue("text"),F=A.getValue("content"),nt=A.getValue("name"),je=A.getValue("task");if(q){let oe=this.valueToString(q);oe&&(I=oe)}else if(F){let oe=this.valueToString(F);oe&&(I=oe)}else if(nt){let oe=this.valueToString(nt);oe&&(I=oe)}else if(je){let oe=this.valueToString(je);oe&&(I=oe)}}let ee=T?this.app.metadataCache.getFileCache(T):null,We=(b=ee==null?void 0:ee.frontmatter)!=null&&b.title?String(ee.frontmatter.title):void 0,U=(g=ee==null?void 0:ee.frontmatter)!=null&&g.googleEventId?String(ee.frontmatter.googleEventId):void 0,Y;if(U){if(Y=s.find(q=>q.id===U),!Y){let q=U.includes("-")?U.split("-")[0]:U,F=U.includes("-")?U.substring(U.lastIndexOf("-")+1):null,nt=F?parseInt(F):NaN;for(let je of s)if(je.uid===q){if(!F&&!je.id.includes("-")){Y=je;break}if(F&&je.id.includes("-")){let oe=je.id.substring(je.id.lastIndexOf("-")+1),Ze=parseInt(oe);if(!isNaN(nt)&&!isNaN(Ze)){if(Math.abs(nt-Ze)<65*60*1e3){Y=je;break}let ht=new Date(nt),Mt=new Date(Ze);if(ht.getUTCHours()===Mt.getUTCHours()&&ht.getUTCMinutes()===Mt.getUTCMinutes()&&ht.getUTCDate()===Mt.getUTCDate()){Y=je;break}}}}}}else for(let q of s){if(o.has(q.id))continue;let F=(I||"").trim().toLowerCase()===q.title.trim().toLowerCase(),je=Math.abs(x.getTime()-q.startDate.getTime())<6e4;if(F&&je){Y=q;break}}if(Y&&o.add(Y.id),(this.config.get("filters")||this.config.viewFilters||this.config.filtersAll)&&!this.passesNameFilters([I,We,T==null?void 0:T.basename,T==null?void 0:T.path]))continue;let ne;if(this.endDateProp)if(this.useEndDuration){let q=this.extractDuration(A,this.endDateProp);q!==null&&q>0&&(ne=new Date(x.getTime()+q*60*1e3))}else ne=(m=this.extractDate(A,this.endDateProp))!=null?m:void 0;let $=this.pendingUpdates.get(T.path);if($){let q=x==null?void 0:x.getTime();q&&Math.abs(q-$.start.getTime())<1e3?this.pendingUpdates.delete(T.path):Date.now()-$.timestamp>5e3?this.pendingUpdates.delete(T.path):(x=$.start,ne=$.end)}let Q=I||We||T.basename;Q&&!/^\d{4}-\d{2}-\d{2}$/.test(Q)&&(Q=Q.replace(/ \d{4}-\d{2}-\d{2}$/,""));let Dt=M?String(M):void 0,Qe=z?String(z):void 0,He=["bases-calendar-event"];Qe&&["high","medium","low"].includes(Qe)&&He.push(`bases-calendar-event-priority-${Qe}`),Dt&&He.push(`bases-calendar-event-status-${Dt}`);let Yt=(v=Qe&&li[Qe])!=null?v:li.normal,ui=Yt,he=Yt,ie=this.plugin.getCalendarStyleOverride(Dt,Qe);if(ie!=null&&ie.color&&(ui=ie.color,he=ie.color),ie!=null&&ie.textStyle){let q=ie.textStyle.split(/[,|]/).map(F=>F.trim().toLowerCase()).filter(Boolean);He.push(...q.map(F=>`bases-calendar-status-${F}`))}n.push({entry:A,startDate:x,endDate:ne,title:Q,isExternal:!1,externalEvent:Y?{...Y,startDate:x,endDate:ne||x}:U?{id:U,uid:U.split("-")[0]||U,title:Q||"",description:"",startDate:x,endDate:ne||x,isAllDay:!1,sourceUrl:""}:void 0,status:Dt,priority:Qe,cssClasses:He,backgroundColor:ui,borderColor:he})}}for(let A of s){if(o.has(A.id)||u.has(A.id)||A.uid&&u.has(A.uid))continue;let x=!!(A.id&&this.plugin.getHiddenEvents().includes(A.id));if(x)continue;let M=(A.title||"").toLowerCase();if(this.externalCalendarFilterTerms.some(I=>I&&M.includes(I)))continue;let z=this.createExternalEntry(A);this.passesNameFilters([A.title,z.file.path,z.file.basename])&&n.push({entry:z,startDate:A.startDate,endDate:A.endDate,title:A.title,isExternal:!0,externalEvent:A,color:this.plugin.getCalendarColor(A.sourceUrl||""),isHidden:x,cssClasses:["bases-calendar-event","is-external"]})}let h=new Map;for(let A of n){let T=A.isGhost?`ghost-${A.entry.path}-${A.startDate.getTime()}`:((S=A.entry.file)==null?void 0:S.path)||A.title;h.has(T)||h.set(T,A)}let d=Array.from(h.values());if(d.length>0){let A=d[0]}this.entries=d,this.renderReactCalendar()}async refreshExternalEvents(n,i){if(!this.plugin.isController()){this.cachedExternalEvents=this.plugin.settings.cachedExternalEvents||[],this.lastExternalFetch=this.plugin.settings.lastExternalFetch||0,this.updateCalendar();return}if(this.isFetchingExternalEvents||this.visibleExternalCalendarUrls.length===0)return;this.isFetchingExternalEvents=!0;try{let a=this.visibleExternalCalendarUrls.map(s=>this.externalCalendarService.fetchEvents(s,n,i)),r=await Promise.allSettled(a),l=[];for(let s of r)s.status==="fulfilled"&&l.push(...s.value);this.cachedExternalEvents=l,this.lastExternalFetch=Date.now(),this.plugin.settings.cachedExternalEvents=l,this.plugin.settings.lastExternalFetch=this.lastExternalFetch,await this.plugin.saveSettings(),this.updateCalendar()}catch(a){Me("[CalendarView] Error fetching external events:",a)}finally{this.isFetchingExternalEvents=!1}}tryGetValue(n,i){try{return n.getValue(i)}catch(a){return null}}async handleCreateRange(n,i){if(this.startDateProp)try{await this.newEventService.createEvent(n,i)&&this.updateCalendar()}catch(a){Me("[CalendarView] Error in handleCreateRange:",a),new J.Notice(`Failed to create event: ${a instanceof Error?a.message:String(a)}`)}}async handleCreateMeetingNote(n){try{let i=this.getNoteField(this.startDateProp),a=this.getNoteField(this.endDateProp),r=n.sourceUrl?this.plugin.getExternalCalendarConfig(n.sourceUrl):null,l=typeof(r==null?void 0:r.autoCreateTemplate)=="string"?r.autoCreateTemplate.trim():"",s=typeof(r==null?void 0:r.autoCreateFolder)=="string"?r.autoCreateFolder.trim():"",o=await gf(this.app,n,l,s,i,a,this.useEndDuration,null);o&&(new J.Notice(`Created meeting note: ${o.basename}`),await this.app.workspace.getLeaf("split","vertical").openFile(o),this.updateCalendar())}catch(i){Me("[CalendarView] Error creating meeting note:",i),new J.Notice(`Failed to create meeting note: ${i instanceof Error?i.message:String(i)}`)}}forceRerenderMarkdownViews(){try{this.app.workspace.iterateAllLeaves(n=>{var a,r,l,s;if(!((n==null?void 0:n.view)instanceof J.MarkdownView))return;let i=n.view;try{(r=(a=i.previewMode)==null?void 0:a.rerender)==null||r.call(a,!0),(s=(l=i.editor)==null?void 0:l.refresh)==null||s.call(l)}catch(o){}})}catch(n){}}highlightEventEmbed(n,i,a=0,r={}){var m;if(a>10)return;let s=v=>v.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),u=(v=>v.split("/").pop()||"")(n),c=/ \d{4}-\d{2}-\d{2}$/,h=u.replace(c,""),d=u!==h;if(!u)return;let f=!1,p=this.app.workspace.activeLeaf;if((p==null?void 0:p.view)instanceof J.MarkdownView){let v=p.view;if(v.getMode()==="source"){let A=v.editor,T=A.getValue(),x=u,M=s(x),z=r.wikiLinkOnly?"":"!?",I=new RegExp(`${z}\\[\\[[^\\]]*${M}(?:\\|[^\\]]*)?\\]\\]`,"i"),ee=T.match(I);if(!ee&&d&&(x=h,M=s(x),I=new RegExp(`${z}\\[\\[[^\\]]*${M}(?:\\|[^\\]]*)?\\]\\]`,"i"),ee=T.match(I)),ee&&ee.index!==void 0){let We=A.offsetToPos(ee.index);A.scrollIntoView({from:We,to:{line:We.line+1,ch:0}},!0),f=!0}}}let y=!1,b=!1,g=(v=2e3)=>{let S=Date.now(),A=setInterval(()=>{if(Date.now()-S>v){clearInterval(A),y||ye(`[CalendarView] Highlight failed after ${v}ms. Attempting to repair embeds...`);return}let x=this.applyDomHighlight(n,h,d,f,i,r);!x&&!b&&(b=!0,this.forceRerenderMarkdownViews()),x&&(y=!0)},200),T=this.applyDomHighlight(n,h,d,f,i,r);!T&&!b&&(b=!0,this.forceRerenderMarkdownViews()),T&&(y=!0)};if(!((m=p==null?void 0:p.view)!=null&&m.containerEl)){setTimeout(()=>this.highlightEventEmbed(n,i,a+1,r),200);return}g()}applyDomHighlight(n,i,a,r,l,s={}){var x,M,z,I,ee,We;let o=U=>{var Y;try{let Z=U;if(!Z.isConnected)return!1;let ne=window.getComputedStyle(Z);if(ne.display==="none"||ne.visibility==="hidden")return!1;let $=(Y=Z.getBoundingClientRect)==null?void 0:Y.call(Z);return $?$.width>0&&$.height>0:!0}catch(Z){return!0}},u=[];this.app.workspace.iterateAllLeaves(U=>{var Y;((Y=U.view)==null?void 0:Y.getViewType())==="markdown"&&u.push(U)});let c=U=>{var Y,Z;try{let ne=(Y=U==null?void 0:U.view)==null?void 0:Y.containerEl;if(!ne||!ne.isConnected)return!1;let $=(Z=ne.getBoundingClientRect)==null?void 0:Z.call(ne);return $?$.width>0&&$.height>0:!0}catch(ne){return!0}},h=this.app.workspace.activeLeaf,d=this.app.workspace.getActiveFile(),f=[],p=new Set,y=(x=s.preferredFilePath)==null?void 0:x.trim(),b=((z=(M=h==null?void 0:h.view)==null?void 0:M.getViewType)==null?void 0:z.call(M))==="markdown",g=b?(ee=(I=h.view)==null?void 0:I.file)==null?void 0:ee.path:void 0;if(b&&!p.has(h)&&(!y||g&&g===y)&&(f.push(h),p.add(h)),y){let U=u.filter(ne=>{var Q;let $=(Q=ne.view)==null?void 0:Q.file;return($==null?void 0:$.path)&&$.path===y}),Y=U.filter(c),Z=U.filter(ne=>!c(ne));for(let ne of[...Y,...Z])p.has(ne)||(f.push(ne),p.add(ne))}if(b&&!p.has(h)&&(f.push(h),p.add(h)),d)for(let U of u){if(p.has(U))continue;let Y=(We=U.view)==null?void 0:We.file;Y!=null&&Y.path&&Y.path===d.path&&(f.push(U),p.add(U))}for(let U of u)p.has(U)||(f.push(U),p.add(U));ye(`[Highlight] Scanning ${f.length} leaves for: ${n}`);let m=U=>U.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),v=n.split("/").pop()||"",S=U=>{let Y=n.replace(/\.md$/,""),Z=Y+".md",ne=Array.from(U.querySelectorAll("a.internal-link, .internal-link, [data-href]"));for(let $ of ne){let Q=($.getAttribute("data-href")||$.getAttribute("href")||"").trim();if(!Q||!(Q===Y||Q===Z||Q.endsWith("/"+Y)||Q.endsWith("/"+Z)||Q===v||Q===v+".md"))continue;let Qe=$.closest(".metadata-property")||$.closest("li")||$.closest("p")||$;return A(Qe,"wiki-link")}return!1},A=(U,Y)=>{var ne;let Z=U.getBoundingClientRect();return ye(`[Highlight] SUCCESS via ${Y}`),ye(`[Highlight] Element: <${U.tagName} class="${U.className}">`),ye(`[Highlight] Visibility: ${Z.width}x${Z.height} at (${Z.top},${Z.left})`),ye(`[Highlight] Content: ${(ne=U.textContent)==null?void 0:ne.substring(0,50)}...`),o(U)?(r||U.scrollIntoView({behavior:"smooth",block:"center"}),U.classList.contains("tps-calendar-embed-highlight")||(U.classList.add("tps-calendar-embed-highlight"),setTimeout(()=>U.classList.remove("tps-calendar-embed-highlight"),2e3)),!0):(ye(`[Highlight] Skipping invisible match via ${Y}`),!1)},T=U=>{var Qe,He,Yt,ui;if(!((Qe=U==null?void 0:U.view)!=null&&Qe.containerEl))return!1;let Y=U.view.containerEl;if(s.wikiLinkOnly)return S(Y);let Z=null,$=Array.from(Y.querySelectorAll("span[data-calendar-embed]")).filter(he=>{let ie=he.getAttribute("data-calendar-embed")||"";return ie===n||ie===n+".md"||ie.endsWith("/"+n)||ie.endsWith("/"+v)||a&&new RegExp(`${m(i)}(\\.md)?$`,"i").test(ie)});if(l){let he=null,ie=2e3;for(let q of $){let F=q.getAttribute("data-timestamp");if(F){let nt=Math.abs(Number(F)-l);nt<ie&&(ie=nt,he=q)}}if(Z=he,!Z)if($.length===1)Z=$[0];else{let q=window.moment,F=q(l).startOf("day").valueOf(),nt=q(l).endOf("day").valueOf(),je=null,oe=Number.POSITIVE_INFINITY;for(let Ze of $){let ht=Ze.getAttribute("data-timestamp");if(!ht)continue;let Mt=Number(ht);if(!Number.isFinite(Mt)||Mt<F||Mt>nt)continue;let Ya=Math.abs(Mt-l);Ya<oe&&(oe=Ya,je=Ze)}Z=je}}else $.length>0&&(Z=$[0]);if(ye("[Highlight] Marker found via attribute:",!!Z),!Z&&a&&(Z=Array.from(Y.querySelectorAll("span[data-calendar-embed]")).find(ie=>{let q=ie.getAttribute("data-calendar-embed")||"";return new RegExp(`${m(i)}(\\.md)?$`,"i").test(q)})||null),Z){let he=Z.parentElement,ie=he==null?void 0:he.parentElement;ye(`[Highlight] Marker found in leaf! Parent: ${he==null?void 0:he.tagName}.${he==null?void 0:he.className}`);let q=Array.from(Y.querySelectorAll("*")),F=q.indexOf(Z);ye(`[Highlight] Marker found at index ${F} of ${q.length} elements`);let nt=oe=>{try{if(oe.matches(".block-language-sync")||oe.matches(".cm-preview-code-block.cm-lang-sync")||oe.matches(".cm-preview-code-block")&&(oe.classList.contains("cm-lang-sync")||oe.querySelector(".sync-container, .sync-embed")||oe.querySelector("code.language-sync"))||oe.matches("pre")&&oe.querySelector("code.language-sync"))return!0}catch(Ze){}return!1};if((()=>{var oe,Ze,ht,Mt,Ya,is;if(F===-1)return!1;for(let Fi=F+1;Fi<q.length;Fi++){let ve=q[Fi];if(Fi-F>120||(oe=ve.matches)!=null&&oe.call(ve,"span[data-calendar-embed]"))break;let Vn=null;if(nt(ve))Vn=ve;else if((Ze=ve.matches)!=null&&Ze.call(ve,".sync-embed, .sync-container"))Vn=((ht=ve.closest)==null?void 0:ht.call(ve,".cm-preview-code-block, .block-language-sync, .cm-embed-block"))||ve;else{let Ir=((Mt=ve.querySelector)==null?void 0:Mt.call(ve,".cm-preview-code-block.cm-lang-sync, .block-language-sync"))||null;if(Ir)Vn=Ir;else{let Va=((Ya=ve.querySelector)==null?void 0:Ya.call(ve,"code.language-sync"))||null;Va&&(Vn=((is=Va.closest)==null?void 0:is.call(Va,"pre"))||Va)}}if(Vn&&o(Vn))return A(Vn,"marker-next-sync")}return!1})())return!0;if(F!==-1)for(let oe=F+1;oe<q.length;oe++){let Ze=q[oe];if(oe-F>50)break;if(Ze.matches(".block-language-sync, .sync-embed, .sync-container, .cm-embed-block, .cm-preview-code-block")){let Mt=((He=Ze.closest)==null?void 0:He.call(Ze,".cm-preview-code-block, .block-language-sync, .cm-embed-block"))||Ze;if(A(Mt,"linear-scan-marker"))return!0;continue}let ht=Ze.querySelector(".sync-embed, .sync-container, .cm-embed-block, .cm-preview-code-block");if(ht){let Mt=((Yt=ht.closest)==null?void 0:Yt.call(ht,".cm-preview-code-block, .block-language-sync, .cm-embed-block"))||ht;if(A(Mt,"linear-scan-marker-nested"))return!0;continue}}ye("[Highlight] Linear scan failed to find sync block"),ye("[Highlight] No sync block found via marker search")}let Q=Y.querySelectorAll(".internal-embed");for(let he of Array.from(Q)){let ie=he.getAttribute("src")||"";if((ie.endsWith(v)||ie.endsWith(v+".md")||a&&(ie.endsWith(i)||ie.endsWith(i+".md")))&&A(he,"internal-embed"))return!0}let Dt=Y.querySelectorAll(".block-language-sync, .cm-embed-block, .sync-embed, .sync-container, .cm-preview-code-block");for(let he of Array.from(Dt)){let ie=he.querySelector(".sync-embed-alias-header, h1, h2, .inline-title"),q=((ui=ie==null?void 0:ie.textContent)==null?void 0:ui.trim())||"",F=he.textContent||"";if((q===v||q===i||q===v.replace(/ \d{4}-\d{2}-\d{2}$/,""))&&A(he,"header-match")||F.includes(v)&&A(he,"text-match"))return!0}return!1};for(let U of f)if(T(U))return!0;return ye("[Highlight] FAILED - no matching element found in any leaf"),!1}async getOrCreateDailyNote(n){let i=this.getDailyNotePath(n),a=this.app.vault.getAbstractFileByPath(i);if(!a){let r=i.substring(0,i.lastIndexOf("/"));r&&(this.app.vault.getAbstractFileByPath(r)||await this.app.vault.createFolder(r));let l=await this.buildDailyNoteContent(n,i);a=await this.app.vault.create(i,l)}return a}async handleExternalDrop(n,i,a){let r=this.app.vault.getAbstractFileByPath(n);if(!r||!(r instanceof J.TFile)){$e("[CalendarView] File not found:",n);return}let l=this.getNoteField(this.startDateProp);if(!l){$e("[CalendarView] No start date property configured"),new J.Notice("No start date property configured for calendar.");return}let s=this.getNoteField(this.allDayProperty);await this.app.fileManager.processFrontMatter(r,o=>{let u=c=>{let h=c.getFullYear(),d=String(c.getMonth()+1).padStart(2,"0"),f=String(c.getDate()).padStart(2,"0"),p=String(c.getHours()).padStart(2,"0"),y=String(c.getMinutes()).padStart(2,"0"),b=String(c.getSeconds()).padStart(2,"0");return`${h}-${d}-${f} ${p}:${y}:${b}`};o[l]=u(i),s&&(o[s]=a)}),this.updateCalendar()}getDailyNotePath(n){var u;let i=(u=this.app.internalPlugins)==null?void 0:u.getPluginById("daily-notes"),a="YYYY-MM-DD",r="";i&&i.instance&&i.instance.options&&(a=i.instance.options.format||"YYYY-MM-DD",r=i.instance.options.folder||"");let l=window.moment,o=l(n).format(a);return(0,J.normalizePath)(`${r}/${o}.md`)}handleDateMouseEnter(n,i,a){let r=this.getDailyNotePath(n);this.app.workspace.trigger("hover-link",{event:a,source:"calendar-view",hoverParent:this,targetEl:i,linktext:r})}async handleDateClick(n){let i=this.getDailyNotePath(n),a=this.app.vault.getAbstractFileByPath(i);try{if(!a){let r=i.substring(0,i.lastIndexOf("/"));r&&(this.app.vault.getAbstractFileByPath(r)||await this.app.vault.createFolder(r));let l=await this.buildDailyNoteContent(n,i);a=await this.app.vault.create(i,l)}if(a instanceof J.TFile){let r=this.app.workspace.getLeaf(!1);r&&await r.openFile(a)}}catch(r){Me("Failed to create daily note",r),new J.Notice(`Failed to create daily note: ${r}`)}}async buildDailyNoteContent(n,i){var s,o,u,c;let a=((s=i.split("/").pop())==null?void 0:s.replace(".md",""))||"",r=`---
title: ${a}
---
`,l=(o=this.app.internalPlugins)==null?void 0:o.getPluginById("daily-notes");if(l&&l.enabled){let h=(c=(u=l.instance)==null?void 0:u.options)==null?void 0:c.template;if(h){let d=(0,J.normalizePath)(h),f=this.app.vault.getAbstractFileByPath(d)||(d.toLowerCase().endsWith(".md")?null:this.app.vault.getAbstractFileByPath(`${d}.md`));if(f instanceof J.TFile)try{r=await this.app.vault.read(f),r=this.applyDailyNoteTemplateVariables(r,n,a)}catch(p){$e("Failed to read daily note template, using default:",p)}}}return r}applyDailyNoteTemplateVariables(n,i,a){let r=window.moment,l=r(i);return n.replace(/\{\{date:([^}]+)\}\}/g,(s,o)=>l.format(o)).replace(/\{\{time:([^}]+)\}\}/g,(s,o)=>l.format(o)).replace(/\{\{date\}\}/g,l.format("YYYY-MM-DD")).replace(/\{\{time\}\}/g,l.format("HH:mm")).replace(/\{\{title\}\}/g,a)}renderReactCalendar(){var n;this.root||(this.root=(0,cT.createRoot)(this.containerEl)),this.root.render((0,pf.jsx)(uT.StrictMode,{children:(0,pf.jsx)(Zd.Provider,{value:this.app,children:(0,pf.jsx)(QC,{entries:[...this.entries],weekStartDay:this.weekStartDay,viewMode:this.viewMode,properties:this.config?this.config.getOrder()||[]:[],onEntryClick:async(i,a)=>{if(i.isExternal&&i.externalEvent){new hf(this.app,i.externalEvent,async s=>{await this.handleCreateMeetingNote(s)},async s=>{s.id&&(await this.plugin.addHiddenEvent(s.id),this.updateCalendar())}).open();return}let r=i.entry.file;r&&await this.app.workspace.openLinkText(r.path,"",a)},onEntryContextMenu:(i,a)=>{i.preventDefault(),this.showEntryContextMenu(i.nativeEvent,a)},onEventDrop:(i,a,r,l,s,o,u)=>this.handleEventDrop(i,a,r,l,s,o,u),onEventResize:(i,a,r,l,s,o,u)=>this.handleEventResize(i,a,r,l,s,o,u),onCreateSelection:(i,a)=>this.handleCreateRange(i,a),onExternalDrop:(i,a,r)=>this.handleExternalDrop(i,a,r),editable:this.isEditable(),condenseLevel:this.condenseLevel,onCondenseLevelChange:i=>this.updateCondenseLevel(i),showFullDay:this.showFullDay,navStep:this.navStep,slotRange:this.getSlotRange(),initialDate:this.computeInitialDate(),currentDate:(n=this.currentDate)!=null?n:void 0,onDateChange:i=>{this.currentDate=i,this.renderReactCalendar()},onToggleFullDay:()=>this.toggleFullDay(),allDayProperty:this.allDayProperty,showHiddenHoursToggle:this.showHiddenHoursToggle,onDateClick:i=>this.handleDateClick(i),onDateMouseEnter:(i,a,r)=>this.handleDateMouseEnter(i,a,r),headerPortalTarget:this.headerPortalContainer,showNavButtons:this.showNavButtons})})}))}isEditable(){return!this.startDateProp||(0,J.parsePropertyId)(this.startDateProp).type!=="note"?!1:this.endDateProp?(0,J.parsePropertyId)(this.endDateProp).type==="note":!0}extractDate(n,i){try{let a=n.getValue(i);if(!a)return null;let r=this.resolveDateValue(a);return r||null}catch(a){return Me(`Error extracting date for ${n.file.name}:`,a),null}}extractDuration(n,i){var a;try{let r=n.getValue(i);if(!r)return null;if(typeof r=="number")return r;let l=(a=r.toNumber)==null?void 0:a.call(r);if(typeof l=="number"&&!Number.isNaN(l))return l;let s=this.valueToString(r);if(s){let o=0,u=!1,c=s.match(/(\d+(?:\.\d+)?)h/);c&&(o+=parseFloat(c[1])*60,u=!0);let h=s.match(/(\d+(?:\.\d+)?)m/);if(h&&(o+=parseFloat(h[1]),u=!0),u)return o;let d=parseFloat(s);if(!Number.isNaN(d))return d}return null}catch(r){return Me(`Error extracting duration for ${n.file.name}:`,r),null}}resolveDateValue(n,i=new Set){if(!n)return null;if(typeof n=="object"&&n!==null){if(i.has(n))return null;i.add(n);let r=this.resolveFromPotentialDate(n,i);if(r)return r}if(n instanceof Date)return n;let a=this.valueToString(n);return a?this.tryParseDate(a):null}valueToString(n){if(typeof n=="string")return n;if(typeof n=="number")return String(n);if(typeof n=="object"&&n!==null)try{return n.toString()}catch(i){return null}return null}tryParseDate(n){let i=n.trim();if(!i)return null;if(/^\d+$/.test(i)){let l=Number(i);if(!Number.isNaN(l)){let s=new Date(l);if(!Number.isNaN(s.getTime()))return s}}let a=i.match(/^(\d{4})-(\d{2})-(\d{2})(?:[ T](\d{2}):(\d{2})(?::(\d{2}))?)?$/);if(a){let l=Number(a[1]),s=Number(a[2]),o=Number(a[3]),u=a[4]?Number(a[4]):0,c=a[5]?Number(a[5]):0,h=a[6]?Number(a[6]):0,d=new Date(l,s-1,o,u,c,h);if(!Number.isNaN(d.getTime()))return d}let r=new Date(i);return Number.isNaN(r.getTime())?null:r}resolveFromPotentialDate(n,i){let a=["date","value","timestamp","start","end"];for(let l of a)if(l in n){let s=n[l],o=this.resolveDateValue(s,i);if(o)return o}let r=n.get;if(typeof r=="function")for(let l of a)try{let s=r.call(n,l),o=this.resolveDateValue(s,i);if(o)return o}catch(s){}return null}showEntryContextMenu(n,i){var u;let a=n.fullCalendarEvent,r=(u=a==null?void 0:a.start)!=null?u:null,l=this.entries.find(c=>c.entry.file.path===i.file.path&&(!r||Math.abs(c.startDate.getTime()-r.getTime())<1e3));if(l!=null&&l.isExternal&&l.externalEvent){let c=new J.Menu;c.addItem(h=>h.setTitle("Create Meeting Note").setIcon("calendar-plus").onClick(async()=>{try{await this.promptConvertToMeetingNote(l.externalEvent)}catch(d){Me("[CalendarView] Error creating meeting note:",d),new J.Notice(`Failed to create meeting note: ${d instanceof Error?d.message:String(d)}`)}})),l.isHidden?c.addItem(h=>h.setTitle("Unhide Event").setIcon("eye").onClick(async()=>{var d;(d=l.externalEvent)!=null&&d.id&&(await this.plugin.removeHiddenEvent(l.externalEvent.id),this.updateCalendar())})):c.addItem(h=>h.setTitle("Hide Event").setIcon("eye-off").onClick(async()=>{var d;(d=l.externalEvent)!=null&&d.id&&(await this.plugin.addHiddenEvent(l.externalEvent.id),this.updateCalendar())})),c.showAtMouseEvent(n);return}let s=i.file,o=J.Menu.forEvent(n);this.app.workspace.handleLinkContextMenu(o,s.path,""),o.showAtPosition({x:n.clientX,y:n.clientY})}async handleEventDrop(n,i,a,r,l="all",s,o){let u=this.entries.find(d=>d.entry.file.path===n.file.path);if(u!=null&&u.isExternal&&u.externalEvent){if(!await this.promptConvertToMeetingNote(u.externalEvent))throw new Error("User cancelled conversion to meeting note");return}let c=i,h=a;r&&(c=new Date(i),c.setHours(0,0,0,0),a&&(h=new Date(a),h.setHours(0,0,0,0))),await this.updateEntryDates(n,c,h,r,l)}async promptConvertToMeetingNote(n){return await new Promise(a=>{let r=new J.Modal(this.app);r.contentEl.createEl("h3",{text:"Convert to Meeting Note?"}),r.contentEl.createEl("p",{text:"This is a read-only calendar event. To edit it, you need to convert it to a meeting note first."});let l=r.contentEl.createDiv({cls:"modal-button-container"});l.style.marginTop="20px",l.style.display="flex",l.style.gap="10px",l.style.justifyContent="flex-end",l.createEl("button",{text:"Convert to Note",cls:"mod-cta"}).addEventListener("click",()=>{r.close(),a(!0)}),l.createEl("button",{text:"Cancel"}).addEventListener("click",()=>{r.close(),a(!1)}),r.open()})?(await this.handleCreateMeetingNote(n),!0):!1}async handleEventResize(n,i,a,r,l="all",s,o){let u=this.entries.find(c=>c.entry.file.path===n.file.path);if(u!=null&&u.isExternal&&u.externalEvent){await this.promptConvertToMeetingNote(u.externalEvent);return}if(!a){$e("Event resize requires an end date");return}await this.updateEntryDates(n,i,a,r,l)}async updateEntryDates(n,i,a,r,l="all"){if(!this.startDateProp){$e("[Calendar] No startDateProp configured");return}let s=n.file;this.pendingUpdates.set(s.path,{start:i,end:a,timestamp:Date.now()});let o=this.entries.findIndex(d=>d.entry.file.path===s.path);o!==-1&&(this.entries[o].startDate=i,this.entries[o].endDate=a,this.entries[o].externalEvent&&(this.entries[o].externalEvent.startDate=i,a&&(this.entries[o].externalEvent.endDate=a)),this.renderReactCalendar());let u=this.getNoteField(this.startDateProp),c=this.getNoteField(this.endDateProp),h=this.getNoteField(this.allDayProperty);if(!u){$e("[Calendar] Start date property could not be converted to note field"),this.pendingUpdates.delete(s.path);return}try{await this.app.fileManager.processFrontMatter(s,d=>{let f=p=>{let y=p.getFullYear(),b=String(p.getMonth()+1).padStart(2,"0"),g=String(p.getDate()).padStart(2,"0"),m=String(p.getHours()).padStart(2,"0"),v=String(p.getMinutes()).padStart(2,"0"),S=String(p.getSeconds()).padStart(2,"0");return`${y}-${b}-${g} ${m}:${v}:${S}`};if(d[u]=f(i),a)if(this.useEndDuration){let p=Math.round((a.getTime()-i.getTime())/6e4);if(r&&p===1440){let y=this.defaultEventDuration;y>0&&(p=y)}p>0&&c&&(d[c]=p)}else this.endDateProp&&c&&(d[c]=f(a));h&&r!==void 0&&(d[h]=r)})}catch(d){Me("Failed to update frontmatter",d),this.pendingUpdates.delete(s.path),this.updateCalendar()}}async syncNoteToEvent(n,i){let a=this.getNoteField(this.startDateProp),r=this.getNoteField(this.endDateProp),l=this.getNoteField(this.allDayProperty);if(a)try{await this.app.fileManager.processFrontMatter(n,s=>{let o=u=>{let c=u.getFullYear(),h=String(u.getMonth()+1).padStart(2,"0"),d=String(u.getDate()).padStart(2,"0"),f=String(u.getHours()).padStart(2,"0"),p=String(u.getMinutes()).padStart(2,"0"),y=String(u.getSeconds()).padStart(2,"0");return`${c}-${h}-${d} ${f}:${p}:${y}`};if(s[a]=o(i.startDate),i.endDate)if(this.useEndDuration){let u=Math.round((i.endDate.getTime()-i.startDate.getTime())/6e4);u>0&&r&&(s[r]=u)}else this.endDateProp&&r&&(s[r]=o(i.endDate));l&&(s[l]=i.isAllDay)})}catch(s){Me("[Calendar] Failed to sync note to event",s)}}createExternalEntry(n){return{file:{path:`external:${n.sourceUrl||"external"}:${n.id}`,basename:n.title,name:n.title,extension:"md",stat:{ctime:0,mtime:0,size:0},parent:null},getValue:a=>{let r=typeof a=="string"?(0,J.parsePropertyId)(a):(0,J.parsePropertyId)(a),l=(r.name||r.property||String(a)).toLowerCase();return l==="title"?n.title:l==="startdate"||l==="start"?n.startDate.getTime():l==="enddate"||l==="end"?n.endDate.getTime():l==="allday"?n.isAllDay:l==="description"?n.description:l==="location"?n.location:l==="organizer"?n.organizer:l==="url"?n.url:null}}}setEphemeralState(n){}getEphemeralState(){return{}}getWeekStartDay(n){var a;return(a={sunday:0,monday:1,tuesday:2,wednesday:3,thursday:4,friday:5,saturday:6}[n])!=null?a:1}normalizeCondenseLevel(n){return Math.max(0,Math.min(220,n))}normalizeHour(n){if(!n)return"";let i=n.trim();if(/^\d+$/.test(i)){let r=parseInt(i,10);return r>=0&&r<=24?`${String(r).padStart(2,"0")}:00:00`:""}return/^([0-1]?[0-9]|2[0-3]):[0-5][0-9](:[0-5][0-9])?$/.test(i)?i.length===5?`${i}:00`:i:""}getNoteField(n){if(!n)return null;if(typeof n=="object"&&n!==null&&"key"in n)return n.key;let i=(0,J.parsePropertyId)(n),a=i.name||i.property;return(i.type==="note"||i.type==="formula")&&a||null}getFieldFromPropertyId(n){if(!n)return null;let i=(0,J.parsePropertyId)(n);return i.name||i.property||null}getSlotRange(){if(!(!this.minHour&&!this.maxHour))return{min:this.minHour||"00:00:00",max:this.maxHour||"24:00:00"}}computeInitialDate(){var s;let n=(s=this.currentDate)!=null?s:new Date,i=this.viewMode==="day"?1:this.viewMode==="3d"?3:this.viewMode==="5d"?5:this.viewMode==="7d"||this.viewMode==="week"?7:30;if(i>=30||this.viewMode==="week")return n;let a=Math.max(1,i),r=Math.floor((a-1)/2),l=new Date(n);return l.setHours(0,0,0,0),l.setDate(l.getDate()-r),l}parseNumberConfig(n,i){let a=null;if(typeof n=="number"&&Number.isFinite(n))a=Math.round(n);else if(typeof n=="string"&&n.trim().length>0){let r=parseInt(n,10);Number.isNaN(r)||(a=r)}return a===null||!Number.isFinite(a)?i:Math.max(1,a)}parseExternalCalendarUrls(n){return n?n.split(/[\n,]/).map(i=>i.trim()).filter(Boolean):[]}parseFilterTerms(n){return n?n.split(/[\n,]/).map(i=>i.trim().toLowerCase()).filter(Boolean):[]}getInitialDate(){var n;return(n=this.currentDate)!=null?n:new Date}updateCondenseLevel(n){let i=this.normalizeCondenseLevel(n);this.condenseLevel=i,this.config.set("condenseLevel",i),this.renderReactCalendar()}passesNameFilters(n){try{let i=n.filter(r=>!!r).map(r=>r.toLowerCase());if(i.length===0)return!0;let a=[this.config.viewFilters,this.config.filtersAll];for(let r of a){let{applied:l,result:s}=this.evaluateNameFilter(r,i);if(l&&!s)return!1}return!0}catch(i){return $e("[CalendarView] Error evaluating name filters:",i),!0}}evaluateNameFilter(n,i){let a=(l,s)=>s instanceof RegExp?s.test(l):l.includes(s.toLowerCase()),r=l=>{var b,g;if(!l)return{applied:!1,result:!0};if(typeof l=="object"&&"data"in l)return r(l.data);if(Array.isArray(l)){let m=!1,v=!0;for(let S of l){let A=r(S);A.applied&&(m=!0,v=v&&A.result)}return{applied:m,result:m?v:!0}}if(typeof l=="string"||l instanceof RegExp){let m=l instanceof RegExp?l:l.trim().toLowerCase();return m?{applied:!0,result:i.some(S=>a(S,m))}:{applied:!1,result:!0}}if(typeof l!="object")return{applied:!1,result:!0};if(Array.isArray(l.children)){let v=String(l.type||l.operator||"").toLowerCase().includes("or"),S=!1,A=!v;for(let T of l.children){let x=r(T);x.applied&&(S=!0,v?A=A||x.result:A=A&&x.result)}return{applied:S,result:S?A:!0}}let o=String(l.property||l.field||"").toLowerCase().replace(/\s+/g,""),u=(g=(b=l.value)!=null?b:l.pattern)!=null?g:l.match;u&&typeof u=="object"&&"value"in u&&(u=u.value);let c=String(l.op||l.operator||"").toLowerCase().replace(/\s+/g,"");if(!(o.includes("title")||o.includes("name")||o.includes("filename")||o.includes("filepath")||o==="file"||o.includes("file.name")||o.includes("path"))||u===void 0||u===null)return{applied:!1,result:!0};let d=typeof u=="string"?u.trim():"",f=u instanceof RegExp?u:null;if(!d&&!f)return{applied:!1,result:!0};let p=c||"contains",y=i.some(m=>a(m,f!=null?f:d));return p.includes("doesnot")||p.includes("not")||p.includes("!=")||p.includes("isnot")?{applied:!0,result:!y}:p.includes("equals")||p==="="?{applied:!0,result:i.some(v=>v===d.toLowerCase())}:p.includes("starts")?{applied:!0,result:i.some(v=>v.startsWith(d.toLowerCase()))}:p.includes("ends")?{applied:!0,result:i.some(v=>v.endsWith(d.toLowerCase()))}:{applied:!0,result:y}};return r(n)}toggleFullDay(){this.showFullDay=!this.showFullDay,this.config.set("showFullDay",this.showFullDay),this.renderReactCalendar()}hasEntryForFile(n){return this.entries.some(i=>i.entry.file.path===n)}fastRefreshEntry(n,i){var a,r,l;try{let s=this.entries.findIndex(m=>m.entry.file&&m.entry.file.path===n.path);if(s===-1)return!1;let o=this.entries[s];if(o.status==="log")return!0;let u=null,c=null;if(this.statusField){let m=this.getNoteField(this.statusField);m?u=(a=i.frontmatter)==null?void 0:a[m]:u=this.tryGetValue(o.entry,this.statusField)}if(this.priorityField){let m=this.getNoteField(this.priorityField);m?c=(r=i.frontmatter)==null?void 0:r[m]:c=this.tryGetValue(o.entry,this.priorityField)}let h=u?String(u):void 0,d=c?String(c):void 0,f=["bases-calendar-event"];d&&["high","medium","low"].includes(d)&&f.push(`bases-calendar-event-priority-${d}`),h&&f.push(`bases-calendar-event-status-${h}`);let p=(l=d&&li[d])!=null?l:li.normal,y=p,b=p,g=this.plugin.getCalendarStyleOverride(h,d);if(g!=null&&g.color&&(y=g.color,b=g.color),g!=null&&g.textStyle){let m=g.textStyle.split(/[,|]/).map(v=>v.trim().toLowerCase()).filter(Boolean);f.push(...m.map(v=>`bases-calendar-status-${v}`))}return o.status=h,o.priority=d,o.cssClasses=f,o.backgroundColor=y,o.borderColor=b,this.entries=[...this.entries],this.renderReactCalendar(),!0}catch(s){return $e(`[CalendarView] Failed to fast refresh entry for ${n.path}:`,s),!1}}scheduleRefresh(n=120){this.refreshTimeout!==null&&window.clearTimeout(this.refreshTimeout),this.refreshTimeout=window.setTimeout(()=>{let i=this.scrollEl.scrollTop;this.updateCalendar().catch(a=>Me("[CalendarView] Error during scheduled refresh:",a)).finally(()=>{this.scrollEl.scrollTop=i,this.refreshTimeout=null})},n)}registerRefreshListeners(){this.registerEvent(this.app.metadataCache.on("changed",this.handleTrackedFileChange)),this.registerEvent(this.app.vault.on("rename",n=>{n instanceof J.TFile&&this.scheduleRefresh()})),this.registerEvent(this.app.vault.on("delete",async n=>{var i;if(n instanceof J.TFile){let a=this.entries.find(r=>{var l,s;return((l=r.entry)==null?void 0:l.file)&&r.entry.file.path===n.path&&((s=r.externalEvent)==null?void 0:s.id)});a&&((i=a.externalEvent)!=null&&i.id)&&await this.plugin.addHiddenEvent(a.externalEvent.id),this.updateCalendar()}}))}refreshFromPluginSettings(){this.externalCalendarFilterTerms=this.parseFilterTerms(this.plugin.getExternalCalendarFilter()),this.updateExternalCalendarVisibility(),this.updateCalendar()}getExternalCalendarViewKey(n){return`externalCalendar:${n}`}updateExternalCalendarVisibility(){var a;this.externalCalendarUrls=this.plugin.getExternalCalendarUrls();let n=(a=this.plugin.settings.externalCalendars)!=null?a:[],i=new Map;for(let r of n){if(!(r!=null&&r.url)||!r.id)continue;let l=this.config.get(this.getExternalCalendarViewKey(r.id)),s=!(l==="false"||l===!1);i.set(r.url,s)}this.visibleExternalCalendarUrls=this.externalCalendarUrls.filter(r=>i.has(r)?i.get(r)!==!1:!0)}static getOptions(n){let i=Ua.getExternalCalendarViewOptions(n),a=i.length?{displayName:"External calendars",type:"group",items:i}:null,r=[{displayName:"Properties",type:"group",items:[{displayName:"Start date",type:"property",key:"startDate",placeholder:"note.scheduled"},{displayName:"Use duration for end date",type:"dropdown",key:"useEndDuration",default:"true",options:{false:"No (Use End DateTime)",true:"Yes (Use Duration)"}},{displayName:"End property",type:"property",key:"endDate",placeholder:"note.timeEstimate or note.due"},{displayName:"Title",type:"property",key:"titleProperty",placeholder:"note.title"},{displayName:"Priority field",type:"property",key:"priorityField",default:"priority",placeholder:"priority"},{displayName:"Status",type:"property",key:"statusField",placeholder:"note.status"},{displayName:"All-day",type:"property",key:"allDayProperty",placeholder:"note.allDay"}]},{displayName:"View mode",type:"group",items:[{displayName:"View mode",type:"dropdown",key:"viewMode",default:"week",options:{day:"Day","3d":"3 Days","5d":"5 Days","7d":"7 Days",week:"Week",month:"Month"}},{displayName:"Week starts on",type:"dropdown",key:"weekStartDay",default:"monday",options:{sunday:"Sunday",monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday"}},{displayName:"Navigation step",type:"dropdown",key:"navStep",default:"7",options:{1:"1 day",7:"1 week",30:"1 month"}},{displayName:"Show navigation buttons",type:"dropdown",key:"showNavButtons",default:"true",options:{true:"Show",false:"Hide"}},{displayName:"Show full day slot",type:"dropdown",key:"showFullDay",default:"true",options:{true:"Show",false:"Hide"}}]},{displayName:"Display",type:"group",items:[{displayName:"Zoom Level",type:"slider",key:"condenseLevel",default:80,min:0,max:220,step:10}]},{displayName:"Time range",type:"group",items:[{displayName:"Earliest hour",type:"text",key:"minHour",default:"",placeholder:"06:00"},{displayName:"Latest hour",type:"text",key:"maxHour",default:"",placeholder:"20:00"},{displayName:"Show hidden hours toggle",type:"dropdown",key:"showHiddenHoursToggle",default:"false",options:{false:"Hide",true:"Show"}}]},{displayName:"New events",type:"group",items:[{displayName:"Folder",type:"text",key:"newEventFolder",default:"",placeholder:"Events folder path"},{displayName:"Template",type:"text",key:"newEventTemplate",default:"",placeholder:"Templates/Event.md (overrides template)"}]}];return a&&r.splice(3,0,a),r}static getExternalCalendarViewOptions(n){var r,l;return((l=(r=n==null?void 0:n.settings)==null?void 0:r.externalCalendars)!=null?l:[]).filter(s=>(s==null?void 0:s.url)&&s.enabled!==!1).map(s=>({displayName:Ua.formatExternalCalendarLabel(s.url,s.id),type:"dropdown",key:`externalCalendar:${s.id}`,default:"true",options:{true:"Show",false:"Hide"}}))}static formatExternalCalendarLabel(n,i){if(!n)return i||"External calendar";try{let a=new URL(n);return a.hostname?`${a.hostname}${a.pathname||""}`:n}catch(a){return n}}};var ts=require("obsidian");var yf=class{constructor(e){this.isSyncing=!1;this.VAULT_IDLE_THRESHOLD_MS=5e3;this.VAULT_START_DELAY_MS=1e3;this.VAULT_MAX_WAIT_MS=6e4;this.app=e,this.config={startProperty:"date",endProperty:"end",useEndDuration:!1,syncOnEventDelete:"nothing",archiveFolder:"",canceledStatusValue:null},this.lastVaultChangeTimestamp=Date.now()-this.VAULT_IDLE_THRESHOLD_MS*2;let n=()=>{this.lastVaultChangeTimestamp=Date.now()};this.app.vault.on("modify",n),this.app.vault.on("create",n),this.app.vault.on("delete",n),this.app.vault.on("rename",n)}updateConfig(e){this.config={...this.config,...e}}async checkAndCreateMeetingNotes(e,n,i,a,r){var s,o,u,c;if(this.isSyncing){ye("[AutoCreateService] Sync already in progress, skipping");return}if(!Object.values(a).some(h=>{var d;return((d=h==null?void 0:h.autoCreateEnabled)!=null?d:!0)!==!1})){ye("[AutoCreateService] Auto-create disabled for all calendars");return}await this.waitForVaultToSettle(),this.isSyncing=!0,ye("[AutoCreateService] Starting robust sync...");try{let h=new Date;h.setDate(h.getDate()-7);let d=new Date;d.setDate(d.getDate()+14);let f=i.split(",").map(A=>A.trim().toLowerCase()).filter(Boolean),p=await this.fetchAllRemoteEvents(e,n,h,d),y=new Map;for(let A of p){let T=(s=y.get(A.uid))!=null?s:new Set;T.add(A.id),y.set(A.uid,T)}let b=this.buildVaultIndex(),g=0,m=0,v=0,S=new Set;for(let A of p){let T=await this.processEvent(A,b,a[A.sourceUrl||""],r,f);T.action==="created"&&g++,T.action==="updated"&&m++,T.action==="deleted"&&v++,T.file&&S.add(T.file.path)}if(n.length>0&&p.length===0){$e("[AutoCreateService] No remote events returned; skipping orphan cleanup to avoid mass cancellation."),g+m+v>0?new ts.Notice(`Calendar Sync: ${g} created, ${m} updated, ${v} deleted`):ye("[AutoCreateService] No changes.");return}for(let A of b){if(S.has(A.file.path))continue;let T=(o=A.startDate)!=null?o:this.getRecurrenceDateFromId(A.googleEventId),x=y.has(A.uid),M=(c=(u=y.get(A.uid))==null?void 0:u.has(A.googleEventId))!=null?c:!1;T&&T>=h&&T<=d&&(x?x&&!M&&ye(`[AutoCreateService] Keeping orphan (UID exists): ${A.file.path} | UID: ${A.uid} | ID: ${A.googleEventId}`):($e(`[AutoCreateService] Deleting orphan (UID missing remote): ${A.file.path} | UID: ${A.uid} | ID: ${A.googleEventId}`),await this.deleteOrArchive(A.file)&&v++))}g+m+v>0?new ts.Notice(`Calendar Sync: ${g} created, ${m} updated, ${v} deleted`):ye("[AutoCreateService] No changes.")}catch(h){Me("[AutoCreateService] Sync failed:",h)}finally{this.isSyncing=!1}}async waitForVaultToSettle(){let e=Date.now(),n=!1;for(;;){let i=Date.now(),a=i-this.lastVaultChangeTimestamp,r=e-this.VAULT_IDLE_THRESHOLD_MS;if(this.lastVaultChangeTimestamp>=r&&(n=!0),a>=this.VAULT_IDLE_THRESHOLD_MS&&(n||i-e>=this.VAULT_START_DELAY_MS)||i-e>=this.VAULT_MAX_WAIT_MS)break;await this.delay(250)}n&&ye(`[AutoCreateService] Vault activity settled after ${Date.now()-e}ms`)}delay(e){return new Promise(n=>setTimeout(n,e))}async fetchAllRemoteEvents(e,n,i,a){let r=[];for(let l of n)try{let s=await e.fetchEvents(l,i,a,!0);r.push(...s)}catch(s){Me(`Failed to fetch ${l}`,s)}return r}buildVaultIndex(){let e=[],n=this.app.vault.getMarkdownFiles();for(let i of n){let a=this.app.metadataCache.getFileCache(i),r=a==null?void 0:a.frontmatter;if(!r)continue;let l=r.googleEventId?String(r.googleEventId):null;if(!l)continue;let s=r.tpsCalendarUid?String(r.tpsCalendarUid):l;if(!r.tpsCalendarUid){let c=this.extractUidFromGoogleEventId(l);c&&(s=c)}let o=null,u=r.scheduled||r[this.config.startProperty];if(u){let c=new Date(u);o=Number.isFinite(c.getTime())?c:null}o||(o=this.getRecurrenceDateFromId(l)),e.push({file:i,googleEventId:l,uid:s,startDate:o})}return e}async processEvent(e,n,i,a,r){var h;let l=n.find(d=>d.googleEventId===e.id);if(l?ye(`[AutoCreateService] Found Exact ID Match: ${e.id} -> ${l.file.path}`):ye(`[AutoCreateService] No Exact ID Match for: ${e.id} (UID: ${e.uid}). Checking fuzzy candidates...`),!l){let d=n.filter(f=>f.uid===e.uid);if(d.length>0)if(e.id.includes("-")&&e.id!==e.uid){let p=e.id.substring(e.id.lastIndexOf("-")+1),y=parseInt(p,10),b=this.normalizeRecurrenceTimestamp(y);isNaN(b)||(l=d.find(g=>{let m=g.googleEventId.substring(g.googleEventId.lastIndexOf("-")+1),v=parseInt(m,10),S=this.normalizeRecurrenceTimestamp(v);if(isNaN(S))return!1;if(Math.abs(b-S)<120*60*1e3)return!0;let A=new Date(b),T=new Date(S);return A.getUTCFullYear()===T.getUTCFullYear()&&A.getUTCMonth()===T.getUTCMonth()&&A.getUTCDate()===T.getUTCDate()}),!l&&d.length>0&&(l=d.find(g=>g.startDate?Math.abs(g.startDate.getTime()-e.startDate.getTime())<120*60*1e3:!1)))}else d.length===1?l=d[0]:d.length>0&&(l=d.find(p=>p.startDate&&Math.abs(p.startDate.getTime()-e.startDate.getTime())<120*60*1e3),l||(l=d[0]))}if(l){if(e.isCancelled)return ye(`[AutoCreateService] Marking note as CANCELLED: "${l.file.path}", Event: "${e.title}", Event ID: ${e.id}, UID: ${e.uid}`),await this.markAsCancelled(l.file),{action:"updated",file:l.file};let d=l.file,f=!1;await this.app.fileManager.processFrontMatter(d,g=>{g.googleEventId!==e.id&&(g.googleEventId=e.id,f=!0),g.tpsCalendarUid!==e.uid&&(g.tpsCalendarUid=e.uid,f=!0);let m=Bi(e.startDate);if(g[this.config.startProperty]!==m&&(g[this.config.startProperty]=m,f=!0),g.scheduled!==void 0&&g.scheduled!==m&&(g.scheduled=m,f=!0),this.config.useEndDuration){let v=Math.round((e.endDate.getTime()-e.startDate.getTime())/6e4);g[this.config.endProperty]!==v&&(g[this.config.endProperty]=v,f=!0)}else{let v=Bi(e.endDate);g[this.config.endProperty]!==v&&(g[this.config.endProperty]=v,f=!0)}g.title!==e.title&&(g.title=e.title,f=!0)});let p=e.title.replace(/[\\/:*?"<>|]/g,"").replace(/\s+/g," ").trim(),y=`${e.startDate.getFullYear()}-${String(e.startDate.getMonth()+1).padStart(2,"0")}-${String(e.startDate.getDate()).padStart(2,"0")}`,b=`${p} ${y}`;return d.basename.startsWith(b)||(await this.renameFileUnique(d,b,((h=d.parent)==null?void 0:h.path)||""),f=!0),{action:f?"updated":"none",file:d}}let s=i!=null?i:{},o=s.autoCreateEnabled!==!1,u=typeof s.template=="string"&&s.template.trim()?s.template.trim():"",c=typeof s.folder=="string"&&s.folder.trim()?s.folder.trim():"";if(!e.isCancelled){if(r.length>0){let f=(e.title||"").toLowerCase();if(r.some(p=>f.includes(p)))return{action:"none"}}if(a.includes(e.id)||a.includes(e.uid))return{action:"none"};if(!o)return{action:"none"};try{let f=await gf(this.app,e,u,c,this.config.startProperty,this.config.endProperty,this.config.useEndDuration,null);if(f)return{action:"created",file:f}}catch(f){Me(`Failed to create note for ${e.title}`,f)}}return{action:"none"}}async deleteOrArchive(e){if(this.config.syncOnEventDelete==="delete")return await this.app.vault.delete(e),!0;if(this.config.syncOnEventDelete==="archive"){let n=this.config.archiveFolder;if(n)return this.app.vault.getAbstractFileByPath(n)||await this.app.vault.createFolder(n),await this.renameFileUnique(e,e.basename,n),!0}return!1}async markAsCancelled(e){let n=this.config.canceledStatusValue;await this.app.fileManager.processFrontMatter(e,i=>{n&&(i.status&&i.status!==n&&!i.tpsCalendarPrevStatus&&(i.tpsCalendarPrevStatus=i.status),i.status=n)})}async renameFileUnique(e,n,i){let a=(0,ts.normalizePath)(`${i}/${n}.${e.extension}`),r=1;for(;this.app.vault.getAbstractFileByPath(a);){if(this.app.vault.getAbstractFileByPath(a)===e)return;a=(0,ts.normalizePath)(`${i}/${n} ${r}.${e.extension}`),r++}await this.app.fileManager.renameFile(e,a)}getRecurrenceDateFromId(e){let n=e.match(/[-_]([^-_]+)$/);if(!n)return null;let i=n[1];if(/^\d+$/.test(i)){let r=this.normalizeRecurrenceTimestamp(parseInt(i,10));return!Number.isFinite(r)||r<=0?null:new Date(r)}let a=i.match(/^(\d{4})(\d{2})(\d{2})T(\d{2})(\d{2})(\d{2})Z$/);return a?new Date(Date.UTC(parseInt(a[1]),parseInt(a[2])-1,parseInt(a[3]),parseInt(a[4]),parseInt(a[5]),parseInt(a[6]))):null}normalizeRecurrenceTimestamp(e){return!Number.isFinite(e)||e<=0?NaN:e<1e12?e*1e3:e}extractUidFromGoogleEventId(e){let n=e.match(/[-_]([^-_]+)$/);if(!n)return null;let i=n[1];if(/^\d+$/.test(i)){let a=this.normalizeRecurrenceTimestamp(parseInt(i,10));if(Number.isFinite(a)){let r=new Date(a);if(r.getUTCFullYear()>=2e3&&r.getUTCFullYear()<=2100)return e.substring(0,n.index)}}return/^\d{8}T\d{6}Z?$/.test(i)?e.substring(0,n.index):($e(`[AutoCreateService] UID Extraction Failed. ID: "${e}", Suffix: "${i}"`),null)}};var Br=require("obsidian"),vf=class extends Br.Modal{constructor(n,i,a){super(n);this.rule=JSON.parse(JSON.stringify(i)),this.onSave=a}onOpen(){let{contentEl:n}=this;n.empty(),n.addClass("calendar-style-builder-modal"),this.addStyles(),this.titleEl.setText(`Edit Rule: ${this.rule.label}`),this.container=n.createDiv({cls:"calendar-builder-container"}),this.render()}addStyles(){let n="calendar-builder-styles";if(!document.getElementById(n)){let i=document.createElement("style");i.id=n,i.textContent=`
            .calendar-builder-container {
                display: flex;
                flex-direction: column;
                gap: 20px;
                padding-bottom: 20px;
            }
            .calendar-builder-section {
                border: 1px solid var(--background-modifier-border);
                border-radius: 8px;
                padding: 16px;
                background-color: var(--background-primary);
            }
            .calendar-builder-section-title {
                font-weight: 600;
                margin-bottom: 12px;
                color: var(--text-muted);
                text-transform: uppercase;
                font-size: 0.75em;
                letter-spacing: 0.05em;
            }
            .calendar-condition-row {
                display: flex;
                gap: 8px;
                align-items: center;
                margin-bottom: 8px;
                background: var(--background-secondary);
                padding: 8px;
                border-radius: 6px;
                border: 1px solid var(--background-modifier-border);
            }
            .calendar-condition-row select,
            .calendar-condition-row input {
                background: var(--background-primary);
            }
            .calendar-visual-preview {
                height: 40px;
                border-radius: 6px;
                display: flex;
                align-items: center;
                justify-content: center;
                font-weight: bold;
                margin-top: 10px;
                border: 1px solid var(--background-modifier-border);
            }
            .calendar-style-toggles {
                display: flex;
                gap: 8px;
                flex-wrap: wrap;
            }
            .calendar-style-btn {
                padding: 6px 12px;
                border-radius: 4px;
                border: 1px solid var(--background-modifier-border);
                cursor: pointer;
                background: var(--background-primary);
                transition: all 0.2s ease;
            }
            .calendar-style-btn:hover {
                background: var(--background-modifier-hover);
            }
            .calendar-style-btn.is-active {
                background: var(--interactive-accent);
                color: var(--text-on-accent);
                border-color: var(--interactive-accent);
            }
        `,document.head.appendChild(i)}}render(){this.container.empty();let n=this.container.createDiv({cls:"calendar-builder-section"});n.createDiv({cls:"calendar-builder-section-title",text:"General"}),new Br.Setting(n).setName("Rule Label").addText(g=>g.setValue(this.rule.label).setPlaceholder("e.g. High Priority").onChange(m=>{this.rule.label=m,this.titleEl.setText(`Edit Rule: ${m}`)})),new Br.Setting(n).setName("Active").addToggle(g=>g.setValue(this.rule.active!==!1).onChange(m=>this.rule.active=m));let i=this.container.createDiv({cls:"calendar-builder-section"});i.createDiv({cls:"calendar-builder-section-title",text:"Conditions"});let a=i.createDiv({cls:"calendar-condition-logic"});a.style.marginBottom="10px",a.createSpan({text:"Match "});let r=a.createEl("select",{cls:"dropdown"});["all","any"].forEach(g=>{let m=r.createEl("option",{value:g,text:g});this.rule.match===g&&(m.selected=!0)}),r.addEventListener("change",()=>{this.rule.match=r.value}),a.createSpan({text:" of the following:"});let l=i.createDiv();this.renderConditions(l);let s=i.createEl("button",{text:"+ Add Condition",cls:"mod-cta"});s.style.marginTop="10px",s.addEventListener("click",()=>{this.rule.conditions.push({field:"status",operator:"is",value:""}),this.renderConditions(l)});let o=this.container.createDiv({cls:"calendar-builder-section"});o.createDiv({cls:"calendar-builder-section-title",text:"Visual Style"}),new Br.Setting(o).setName("Background Color").addColorPicker(g=>g.setValue(this.rule.color||"#ffffff").onChange(m=>{this.rule.color=m,this.updatePreview(f)}));let u=o.createDiv();u.style.marginBottom="15px",u.createDiv({text:"Text Styles:",attr:{style:"margin-bottom: 8px; font-weight: 500;"}});let c=u.createDiv({cls:"calendar-style-toggles"}),h=[{id:"bold",label:"Bold"},{id:"italic",label:"Italic"},{id:"strikethrough",label:"Strike"},{id:"line-through",label:"Line-through"},{id:"underline",label:"Underline"}],d=new Set((this.rule.textStyle||"").split(",").map(g=>g.trim().toLowerCase()).filter(Boolean));h.forEach(g=>{let m=c.createDiv({cls:`calendar-style-btn ${d.has(g.id)?"is-active":""}`,text:g.label});m.addEventListener("click",()=>{d.has(g.id)?d.delete(g.id):d.add(g.id),this.rule.textStyle=Array.from(d).join(", "),d.has(g.id)?m.classList.add("is-active"):m.classList.remove("is-active"),this.updatePreview(f)})}),new Br.Setting(o).setName("Custom CSS Classes").setDesc("Comma separated").addText(g=>g.setValue(Array.from(d).filter(m=>!h.find(v=>v.id===m)).join(", ")).onChange(m=>{let v=m.split(",").map(T=>T.trim().toLowerCase()).filter(Boolean),S=new Set(h.map(T=>T.id)),A=new Set(Array.from(d).filter(T=>S.has(T)));v.forEach(T=>A.add(T)),d.clear(),A.forEach(T=>d.add(T)),this.rule.textStyle=Array.from(d).join(", "),this.updatePreview(f)})),o.createDiv({text:"Preview:",attr:{style:"margin-top: 10px; font-weight: 500;"}});let f=o.createDiv({cls:"calendar-visual-preview",text:"Event Title"});this.updatePreview(f);let p=this.container.createDiv();p.style.display="flex",p.style.justifyContent="flex-end",p.style.gap="10px",p.style.marginTop="20px",p.createEl("button",{text:"Cancel"}).addEventListener("click",()=>this.close()),p.createEl("button",{text:"Save Rule",cls:"mod-cta"}).addEventListener("click",()=>{this.onSave(this.rule),this.close()})}renderConditions(n){n.empty(),this.rule.conditions.forEach((i,a)=>{let r=n.createDiv({cls:"calendar-condition-row"}),l=r.createEl("select",{cls:"dropdown"});["status","priority"].forEach(h=>{let d=l.createEl("option",{value:h,text:h.charAt(0).toUpperCase()+h.slice(1)});i.field===h&&(d.selected=!0)}),l.addEventListener("change",()=>{i.field=l.value});let s=r.createEl("select",{cls:"dropdown"});[{v:"is",l:"is"},{v:"!is",l:"is not"},{v:"contains",l:"contains"},{v:"!contains",l:"does not contain"},{v:"starts",l:"starts with"},{v:"exists",l:"exists"},{v:"!exists",l:"is missing"}].forEach(h=>{let d=s.createEl("option",{value:h.v,text:h.l});i.operator===h.v&&(d.selected=!0)}),s.addEventListener("change",()=>{i.operator=s.value;let h=r.querySelector("input.condition-value");h&&(h.disabled=["exists","!exists"].includes(i.operator))});let u=r.createEl("input",{type:"text",cls:"condition-value"});u.value=i.value||"",u.placeholder="Value (e.g. complete)",u.style.flex="1",u.disabled=["exists","!exists"].includes(i.operator),u.addEventListener("change",()=>i.value=u.value);let c=r.createEl("button",{cls:"explorer2-icon-button"});c.innerHTML="\xD7",c.style.color="var(--text-muted)",c.style.cursor="pointer",c.style.border="none",c.style.background="transparent",c.style.fontSize="18px",c.addEventListener("click",()=>{this.rule.conditions.splice(a,1),this.renderConditions(n)})})}updatePreview(n){n.style.backgroundColor=this.rule.color||"var(--background-secondary)",n.style.color="var(--text-normal)";let i=(this.rule.textStyle||"").split(",").map(a=>a.trim().toLowerCase());n.style.fontWeight=i.includes("bold")?"bold":"normal",n.style.fontStyle=i.includes("italic")?"italic":"normal",n.style.textDecoration=[i.includes("strikethrough")||i.includes("line-through")?"line-through":"",i.includes("underline")?"underline":""].filter(Boolean).join(" "),i.includes("faded")?n.style.opacity="0.7":n.style.opacity="1"}};var Ny=["low","normal","medium","high"],ky=["open","complete","wont-do","working","blocked"];var qN=["is","!is","contains","!contains","starts","!starts","ends","!ends","exists","!exists"];var ns="all",dT=()=>`${Date.now()}-${Math.random().toString(16).slice(2,6)}`,fT=()=>`calendar-${Date.now()}-${Math.random().toString(16).slice(2,6)}`,zy=()=>({field:"status",operator:"is",value:""});var GN=t=>({...t,conditions:t.conditions.map(e=>({...e}))}),WN=t=>({id:typeof(t==null?void 0:t.id)=="string"?t.id:`rule-${Math.random().toString(36).slice(2,8)}`,label:(t==null?void 0:t.label)||"",active:(t==null?void 0:t.active)!==!1,match:(t==null?void 0:t.match)||ns,conditions:t!=null&&t.conditions&&Array.isArray(t.conditions)&&t.conditions.length?t.conditions.map(e=>({field:(e==null?void 0:e.field)==="priority"?"priority":"status",operator:e!=null&&e.operator&&qN.includes(e.operator)?e.operator:"is",value:e!=null&&e.value?String(e.value):""})):[zy()],color:(t==null?void 0:t.color)||"",textStyle:(t==null?void 0:t.textStyle)||""}),hT=(t,e={})=>{var i;let n=typeof(t==null?void 0:t.url)=="string"?t.url.trim():"";return{id:typeof(t==null?void 0:t.id)=="string"?t.id:`calendar-${Math.random().toString(36).slice(2,8)}`,url:n,color:typeof(t==null?void 0:t.color)=="string"?t.color.trim():(i=e.color)!=null?i:"",enabled:(t==null?void 0:t.enabled)!==!1,autoCreateEnabled:(t==null?void 0:t.autoCreateEnabled)!==!1,autoCreateFolder:typeof(t==null?void 0:t.autoCreateFolder)=="string"?t.autoCreateFolder.trim():"",autoCreateTemplate:typeof(t==null?void 0:t.autoCreateTemplate)=="string"?t.autoCreateTemplate.trim():""}},Ly=t=>t.split(/[\n,]+/).map(e=>e.trim()).filter(Boolean),QN=(t={})=>{var i,a;let e=Ly((i=t==null?void 0:t.externalCalendarUrls)!=null?i:""),n=(a=t==null?void 0:t.calendarColors)!=null?a:{};return e.map(r=>hT({url:r,color:n[r],enabled:!0,autoCreateEnabled:!0,autoCreateFolder:"",autoCreateTemplate:""},{color:n[r]}))},Ry=t=>{var i;let e=(i=t.externalCalendars)!=null?i:[],n=e.map(a=>a.url).filter(Boolean);t.externalCalendarUrls=n.join(`
`),t.calendarColors=Object.fromEntries(e.filter(a=>a.url).map(a=>[a.url,a.color||""]))},My=(t={})=>{var i,a;let e=(a=(i=t==null?void 0:t.priorityColors)!=null?i:t==null?void 0:t.priorityColorMap)!=null?a:{},n={...li,...Object.fromEntries(Object.entries(e).map(([r,l])=>[r.toLowerCase(),String(l||"").trim()]))};return Ny.map(r=>{var l,s;return{id:`priority-${r}`,label:`Priority: ${r}`,active:!0,match:ns,conditions:[{field:"priority",operator:"is",value:r}],color:(s=(l=n[r])!=null?l:li[r])!=null?s:""}})},Oy=(t={})=>{var a,r;let e=(r=(a=t==null?void 0:t.statusStyles)!=null?a:t==null?void 0:t.statusStyleMap)!=null?r:{},n={...UC,...Object.fromEntries(Object.entries(e).map(([l,s])=>[l.toLowerCase(),String(s||"").trim()||"normal"]))};return Array.from(new Set([...ky,...Object.keys(n)])).map(l=>{var s;return{id:`status-${l}`,label:`Status: ${l}`,active:!0,match:ns,conditions:[{field:"status",operator:"is",value:l}],textStyle:(s=n[l])!=null?s:"normal"}})};var ZN=(t,e)=>{let n=(t||"").toLowerCase(),i=(e.value||"").toLowerCase();switch(e.operator){case"is":return n===i;case"!is":return n!==i;case"contains":return n.includes(i);case"!contains":return!n.includes(i);case"starts":return n.startsWith(i);case"!starts":return!n.startsWith(i);case"ends":return n.endsWith(i);case"!ends":return!n.endsWith(i);case"exists":return n.length>0;case"!exists":return n.length===0;default:return!1}},XN=t=>{var i,a;let e=t.conditions.some(r=>{var l;return["exists","!exists"].includes(r.operator)?!0:Boolean((l=r.value)==null?void 0:l.trim())}),n=Boolean((i=t.color)==null?void 0:i.trim())||Boolean((a=t.textStyle)==null?void 0:a.trim());return e||n},bf=class extends ze.Plugin{constructor(){super(...arguments);this.settings={sidebarBasePath:"",colorRules:My(),textRules:Oy(),calendarStyleRules:[],priorityValues:Ny,statusValues:ky,defaultCondenseLevel:80,externalCalendars:[],externalCalendarUrls:"",externalCalendarFilter:"",calendarColors:{},hiddenEvents:[],enableLogging:!1,syncIntervalMinutes:5,syncOnEventDelete:"archive",archiveFolder:"",canceledStatusValue:"",inProgressStatusValue:"working",deviceRole:"receiver",cachedExternalEvents:[],lastExternalFetch:0};this.syncIntervalId=null}async onload(){this.autoCreateService=new yf(this.app),this.externalCalendarService=new Lr,this.registerBasesView(mf,{name:"Calendar",icon:"lucide-calendar",factory:(n,i)=>new Ua(n,i,this),options:()=>Ua.getOptions(this)}),this.addSettingTab(new Hy(this.app,this)),await this.loadSettings(),this.refreshCalendarViews(),this.setupAutoCreateSync(),this.addCommand({id:"open-default-calendar-base-sidebar",name:"Open default calendar base in right sidebar",callback:()=>this.openDefaultBaseInSidebar()}),this.addRibbonIcon("calendar","Open default calendar base",async()=>{await this.openDefaultBaseInSidebar()})}onunload(){this.syncIntervalId!==null&&(window.clearInterval(this.syncIntervalId),this.syncIntervalId=null)}async loadSettings(){var u,c,h,d,f,p,y,b,g,m,v,S,A,T,x;let n=await this.loadData(),i=Array.isArray(n==null?void 0:n.calendarStyleRules)?n==null?void 0:n.calendarStyleRules.map(M=>WN(M)):[],r=i.some(M=>XN(M))?i:[...My(n),...Oy(n)],l=(u=n==null?void 0:n.calendarColors)!=null?u:{},s=Array.isArray(n==null?void 0:n.externalCalendars)?n.externalCalendars.map(M=>{var I;let z=hT(M,{color:l[(I=M==null?void 0:M.url)!=null?I:""]});return!z.color&&l[z.url]&&(z.color=l[z.url]),z}):[],o=s.length?s:QN(n);this.settings={sidebarBasePath:(c=n==null?void 0:n.sidebarBasePath)!=null?c:"",colorRules:My(n),textRules:Oy(n),calendarStyleRules:r,priorityValues:(h=n==null?void 0:n.priorityValues)!=null?h:Ny,statusValues:(d=n==null?void 0:n.statusValues)!=null?d:ky,defaultCondenseLevel:(f=n==null?void 0:n.defaultCondenseLevel)!=null?f:80,externalCalendars:o,externalCalendarUrls:(p=n==null?void 0:n.externalCalendarUrls)!=null?p:"",externalCalendarFilter:(y=n==null?void 0:n.externalCalendarFilter)!=null?y:"",calendarColors:(b=n==null?void 0:n.calendarColors)!=null?b:{},hiddenEvents:(g=n==null?void 0:n.hiddenEvents)!=null?g:[],enableLogging:(m=n==null?void 0:n.enableLogging)!=null?m:!1,syncIntervalMinutes:(v=n==null?void 0:n.syncIntervalMinutes)!=null?v:5,syncOnEventDelete:(S=n==null?void 0:n.syncOnEventDelete)!=null?S:"archive",archiveFolder:(A=n==null?void 0:n.archiveFolder)!=null?A:"",canceledStatusValue:(T=n==null?void 0:n.canceledStatusValue)!=null?T:"",inProgressStatusValue:(x=n==null?void 0:n.inProgressStatusValue)!=null?x:"working",deviceRole:(M=n==null?void 0:n.deviceRole)!=null?M:"receiver",cachedExternalEvents:Array.isArray(n==null?void 0:n.cachedExternalEvents)?n.cachedExternalEvents:[],lastExternalFetch:(z=n==null?void 0:n.lastExternalFetch)!=null?z:0}}async saveSettings(){await this.saveData(this.settings),this.refreshCalendarViews(),this.setupAutoCreateSync()}setupAutoCreateSync(){this.syncIntervalId!==null&&(window.clearInterval(this.syncIntervalId),this.syncIntervalId=null),this.runAutoCreateSync();let n=Math.max(1,this.settings.syncIntervalMinutes||5);this.syncIntervalId=window.setInterval(()=>{this.runAutoCreateSync()},n*60*1e3)}async runAutoCreateSync(){if(!this.isController())return;let n=this.settings.externalCalendars||[],i=n.map(r=>r.url).filter(Boolean);if(!i.length)return;let a=Object.fromEntries(n.filter(r=>r.url).map(r=>[r.url,{folder:r.autoCreateFolder||"",template:r.autoCreateTemplate||"",autoCreateEnabled:r.autoCreateEnabled!==!1}]));await this.autoCreateService.checkAndCreateMeetingNotes(this.externalCalendarService,i,this.getExternalCalendarFilter(),a,this.getHiddenEvents())}getCalendarStyleOverride(n,i){let a=n==null?void 0:n.toLowerCase(),r=i==null?void 0:i.toLowerCase(),l=this.settings.calendarStyleRules||[];for(let s of l){if(s.active===!1)continue;let o=s.conditions||[];if(!o.length)continue;let u=o.map(d=>{let f=d.field==="status"?a:r;return ZN(f,d)});if((s.match||ns)==="any"?u.some(d=>d):u.every(d=>d))return{color:s.color,textStyle:s.textStyle}}return null}getDefaultCondenseLevel(){var n;return(n=this.settings.defaultCondenseLevel)!=null?n:80}getExternalCalendarUrls(){var r,l;let i=((r=this.settings.externalCalendars)!=null?r:[]).filter(s=>s.url&&s.enabled!==!1);if(i.length)return i.map(s=>s.url);let a=(l=this.settings.externalCalendarUrls)!=null?l:"";return Ly(a)}getExternalCalendarFilter(){var n;return(n=this.settings.externalCalendarFilter)!=null?n:""}getExternalCalendarConfig(n){var a,r;return(r=((a=this.settings.externalCalendars)!=null?a:[]).find(l=>l.url===n))!=null?r:null}getExternalCalendarAutoCreateMap(){var i;let n=(i=this.settings.externalCalendars)!=null?i:[];return Object.fromEntries(n.filter(a=>a.url).map(a=>[a.url,a]))}getCalendarColor(n){var r,l;let a=((r=this.settings.externalCalendars)!=null?r:[]).find(s=>s.url===n);return(a==null?void 0:a.color)||((l=this.settings.calendarColors)==null?void 0:l[n])||"#3b82f6"}isController(){try{let n=window.localStorage.getItem("tps-calendar-device-role");if(n==="controller"||n==="receiver")return n==="controller"}catch(n){}return this.settings.deviceRole==="controller"}getHiddenEvents(){var n;return(n=this.settings.hiddenEvents)!=null?n:[]}async addHiddenEvent(n){n&&(this.settings.hiddenEvents||(this.settings.hiddenEvents=[]),this.settings.hiddenEvents.includes(n)||(this.settings.hiddenEvents.push(n),await this.saveSettings()))}async removeHiddenEvent(n){if(!n||!this.settings.hiddenEvents)return;let i=this.settings.hiddenEvents.filter(a=>a!==n);i.length!==this.settings.hiddenEvents.length&&(this.settings.hiddenEvents=i,await this.saveSettings())}getPriorityValues(){var n;return(n=this.settings.priorityValues)!=null?n:[]}getStatusValues(){var n;return(n=this.settings.statusValues)!=null?n:[]}refreshCalendarViews(){let n=this.app.workspace.getLeavesOfType(mf);for(let i of n){let a=i.view;a==null||a.refreshFromPluginSettings()}}async openDefaultBaseInSidebar(){var r;let n=(r=this.settings.sidebarBasePath)==null?void 0:r.trim();if(!n){new ze.Notice("Set a default calendar base path in settings first.");return}let i=this.app.vault.getAbstractFileByPath(n);if(!i){new ze.Notice(`File not found: ${n}`);return}if(!i.extension){new ze.Notice("Default calendar base must be a file.");return}let a=this.app.workspace.getRightLeaf(!1);if(a||(a=this.app.workspace.getRightLeaf(!0)),!a){new ze.Notice("Could not open right sidebar.");return}await a.openFile(i,{active:!1}),this.app.workspace.revealLeaf(a)}},Hy=class extends ze.PluginSettingTab{constructor(n,i){super(n,i);this.plugin=i}display(){let{containerEl:n}=this;n.empty(),n.createEl("h2",{text:"Calendar styling"});let i=(d,f=!0)=>{let p=n.createEl("details");f&&p.setAttr("open","true"),p.style.marginBottom="12px";let y=p.createEl("summary",{text:d});y.style.cursor="pointer",y.style.fontWeight="600",y.style.marginBottom="8px";let b=p.createDiv();return b.style.paddingLeft="8px",b.style.paddingTop="6px",b},a=i("Color rules",!0),r=a.createDiv();this.renderCalendarStyleRules(r,"colorRules",{mode:"color"});let l=i("Text style rules",!1),s=l.createDiv();this.renderCalendarStyleRules(s,"textRules",{mode:"text"});let o=i("Combined rules (legacy)",!1),u=o.createDiv();this.renderCalendarStyleRules(u,"calendarStyleRules",{mode:"both"});let c=i("External calendars",!0),h=c.createDiv();this.renderExternalCalendars(h);let m=c.createDiv();m.createEl("h4",{text:"Sync behavior"}),m.style.marginTop="16px",new ze.Setting(m).setName("Sync interval (minutes)").setDesc("How often to check for calendar changes.").addSlider(d=>d.setLimits(5,60,5).setValue(this.plugin.settings.syncIntervalMinutes||15).setDynamicTooltip().onChange(async f=>{this.plugin.settings.syncIntervalMinutes=f,await this.plugin.saveSettings()})),new ze.Setting(m).setName("Device role").setDesc("Controller fetches calendars & creates meeting notes; Receivers display cached data only. Stored per device.").addDropdown(d=>d.addOption("controller","Controller (sync + create notes)").addOption("receiver","Receiver (view only)").setValue(this.plugin.settings.deviceRole||"receiver").onChange(async f=>{this.plugin.settings.deviceRole=f;try{window.localStorage.setItem("tps-calendar-device-role",f)}catch{}await this.plugin.saveSettings()})),new ze.Setting(m).setName("When calendar event is deleted").setDesc("What to do with the meeting note when the event is removed.").addDropdown(d=>d.addOption("nothing","Do nothing (keep note)").addOption("archive","Move to archive folder").addOption("delete","Delete note").setValue(this.plugin.settings.syncOnEventDelete||"nothing").onChange(async f=>{this.plugin.settings.syncOnEventDelete=f,await this.plugin.saveSettings()})),new ze.Setting(m).setName("Archive folder").setDesc("Folder to move deleted events (only applies if 'Move to archive' is selected).").addText(d=>d.setPlaceholder("Archive/Deleted Events").setValue(this.plugin.settings.archiveFolder||"").onChange(async f=>{this.plugin.settings.archiveFolder=f,await this.plugin.saveSettings()})),new ze.Setting(m).setName("Canceled event status value").setDesc("Status value to apply when an external event is canceled (leave blank to skip).").addText(d=>d.setPlaceholder("wont-do").setValue(this.plugin.settings.canceledStatusValue||"").onChange(async f=>{this.plugin.settings.canceledStatusValue=f,await this.plugin.saveSettings()})),new ze.Setting(m).setName("In-progress event status value").setDesc("Status value to prompt for when scheduling an event that is currently overlapping 'now'. Default: working").addText(d=>d.setPlaceholder("working").setValue(this.plugin.settings.inProgressStatusValue||"working").onChange(async f=>{this.plugin.settings.inProgressStatusValue=f,await this.plugin.saveSettings()})),new ze.Setting(l).setName("Add calendar").setDesc("Add an external iCal feed and assign its color + auto-create settings.").addButton(d=>d.setIcon("plus").setButtonText("Add calendar").onClick(async()=>{this.plugin.settings.externalCalendars||(this.plugin.settings.externalCalendars=[]),this.plugin.settings.externalCalendars.push({id:fT(),url:"",color:"#3b82f6",enabled:!0,autoCreateEnabled:!0,autoCreateFolder:"",autoCreateTemplate:""}),Ry(this.plugin.settings),await this.plugin.saveSettings(),this.renderExternalCalendars(h)}));let u="",c=null;new ze.Setting(l).setName("Quick add").setDesc("Paste one or more iCal URLs (comma or newline separated).").addTextArea(d=>{c=d,d.setPlaceholder("https://example.com/calendar.ics").onChange(f=>{u=f})}).addButton(d=>d.setButtonText("Add URLs").setCta().onClick(async()=>{let f=Ly(u);if(!f.length)return;this.plugin.settings.externalCalendars||(this.plugin.settings.externalCalendars=[]);let p=new Set(this.plugin.settings.externalCalendars.map(y=>y.url));f.forEach(y=>{p.has(y)||this.plugin.settings.externalCalendars.push({id:fT(),url:y,color:"#3b82f6",enabled:!0,autoCreateEnabled:!0,autoCreateFolder:"",autoCreateTemplate:""})}),Ry(this.plugin.settings),await this.plugin.saveSettings(),u="",c==null||c.setValue(""),this.renderExternalCalendars(h)})),new ze.Setting(l).setName("External title filter").setDesc("Exclude external events whose titles contain this text").addTextArea(d=>d.setPlaceholder("Canceled, Tentative").setValue(this.plugin.settings.externalCalendarFilter||"").onChange(async f=>{this.plugin.settings.externalCalendarFilter=f,await this.plugin.saveSettings()}));let h=i("Sidebar default base",!1);new ze.Setting(h).setName("Default calendar base path").setDesc("Path to the base file to open in the right sidebar via command/ribbon.").addText(d=>{var f;return d.setPlaceholder("01 Action Items/Events/Calendar.md").setValue((f=this.plugin.settings.sidebarBasePath)!=null?f:"").onChange(async p=>{this.plugin.settings.sidebarBasePath=p.trim(),await this.plugin.saveSettings()})})}renderExternalCalendars(n){n.empty(),this.plugin.settings.externalCalendars||(this.plugin.settings.externalCalendars=[]);let i=this.plugin.settings.externalCalendars,a=async(r=!1)=>{Ry(this.plugin.settings),await this.plugin.saveSettings(),r&&this.renderExternalCalendars(n)};if(!i.length){let r=n.createEl("p",{text:"No external calendars added yet."});r.style.marginBottom="12px",r.style.color="var(--text-muted)";return}i.forEach((r,l)=>{let s=n.createDiv();s.style.border="1px solid var(--background-modifier-border)",s.style.borderRadius="8px",s.style.padding="12px",s.style.marginBottom="12px",s.style.display="flex",s.style.flexDirection="column",s.style.gap="8px";let o=s.createDiv();o.style.display="flex",o.style.alignItems="center",o.style.gap="8px";let u=o.createEl("strong",{text:r.url?`Calendar ${l+1}`:"New calendar"});u.style.flex="1";let c=(y,b)=>{[i[y],i[b]]=[i[b],i[y]]},h=o.createDiv();h.style.display="flex",h.style.gap="4px";let d=h.createEl("button",{text:"\u2191"});d.className="mod-cta",d.disabled=l===0,d.addEventListener("click",async()=>{l!==0&&(c(l,l-1),await a(!0))});let f=h.createEl("button",{text:"\u2193"});f.className="mod-cta",f.disabled=l===i.length-1,f.addEventListener("click",async()=>{l>=i.length-1||(c(l,l+1),await a(!0))});let p=h.createEl("button",{text:"Delete"});p.className="mod-warning",p.addEventListener("click",async()=>{i.splice(l,1),await a(!0)}),new ze.Setting(s).setName("Visible in calendar").setDesc("Show events from this calendar in the view.").addToggle(y=>y.setValue(r.enabled!==!1).onChange(async b=>{r.enabled=b,await a()})),new ze.Setting(s).setName("iCal URL").setDesc("Paste the full .ics URL for this calendar.").addText(y=>y.setPlaceholder("https://example.com/calendar.ics").setValue(r.url||"").onChange(async b=>{r.url=b.trim(),await a()})),new ze.Setting(s).setName("Color").setDesc("Calendar color for external events.").addColorPicker(y=>y.setValue(r.color||"#3b82f6").onChange(async b=>{r.color=b,await a()})),new ze.Setting(s).setName("Auto-create notes").setDesc("Allow this calendar to create meeting notes automatically.").addToggle(y=>y.setValue(r.autoCreateEnabled!==!1).onChange(async b=>{r.autoCreateEnabled=b,await a()})),new ze.Setting(s).setName("Auto-create folder").setDesc("Folder for auto-created meeting notes.").addText(y=>y.setPlaceholder("01 Action Items/Events").setValue(r.autoCreateFolder||"").onChange(async b=>{r.autoCreateFolder=b.trim(),await a()})),new ze.Setting(s).setName("Auto-create template").setDesc("Optional template to use for auto-created notes from this calendar.").addText(y=>y.setPlaceholder("System/Templates/Meeting template.md").setValue(r.autoCreateTemplate||"").onChange(async b=>{r.autoCreateTemplate=b.trim(),await a()}))})}renderCalendarStyleRules(n){n.empty(),this.plugin.settings.calendarStyleRules||(this.plugin.settings.calendarStyleRules=[]);let i=this.plugin.settings.calendarStyleRules,a=async()=>{await this.plugin.saveSettings(),this.renderCalendarStyleRules(n)};i.forEach((r,l)=>{(!r.conditions||!r.conditions.length)&&(r.conditions=[zy()]),r.match=r.match||ns;let s=n.createDiv({cls:"calendar-style-rule-card"});s.style.border="1px solid var(--background-modifier-border)",s.style.borderRadius="6px",s.style.padding="12px",s.style.marginBottom="12px",s.style.display="flex",s.style.flexDirection="column",s.style.gap="10px";let o=s.createDiv();o.style.display="flex",o.style.alignItems="center",o.style.gap="12px";let u=o.createEl("label");u.style.display="flex",u.style.alignItems="center",u.style.gap="6px";let c=u.createEl("input",{type:"checkbox"});c.checked=r.active!==!1,c.addEventListener("change",async()=>{r.active=c.checked,await a()}),u.createEl("span",{text:""});let h=o.createEl("strong",{text:r.label||`Rule ${l+1}`});if(h.style.flex="1",h.style.fontSize="1.1em",r.color||r.textStyle){let T=o.createDiv();T.style.width="20px",T.style.height="20px",T.style.borderRadius="4px",T.style.background=r.color||"transparent",T.style.border="1px solid var(--background-modifier-border)",r.textStyle&&(T.innerText="Ag",T.style.fontSize="10px",T.style.display="flex",T.style.alignItems="center",T.style.justifyContent="center")}let d=o.createDiv();d.style.display="flex",d.style.gap="4px";let f=(T,x)=>{[i[T],i[x]]=[i[x],i[T]]},p=d.createEl("button",{text:"\u2191"});p.className="mod-cta",p.disabled=l===0,p.addEventListener("click",async()=>{l!==0&&(f(l,l-1),await a())});let y=d.createEl("button",{text:"\u2193"});y.className="mod-cta",y.disabled=l===i.length-1,y.addEventListener("click",async()=>{l>=i.length-1||(f(l,l+1),await a())});let b=d.createEl("button",{text:"Edit"});b.className="mod-cta",b.addEventListener("click",()=>{new vf(this.plugin.app,r,async T=>{Object.assign(r,T),await a()}).open()}),d.createEl("button",{text:"Duplicate"}).addEventListener("click",async()=>{let T=GN(r);T.id=dT(),T.label=T.label?`${T.label} copy`:`Rule ${i.length+1}`,i.splice(l+1,0,T),await a()});let m=d.createEl("button",{text:"Delete"});m.className="mod-warning",m.addEventListener("click",async()=>{i.splice(l,1),await a()});let v=s.createDiv({cls:"calendar-rule-summary"});v.style.color="var(--text-muted)",v.style.fontSize="0.9em",v.style.marginTop="-4px";let S=r.conditions.length,A=r.conditions.map(T=>`${T.field} ${T.operator.replace("!","not ")} ${T.value?`"${T.value}"`:""}`).join(r.match==="any"?" OR ":" AND ");v.setText(A.length>50?A.substring(0,50)+"...":A)})}};
/*! Bundled license information:

react/cjs/react.production.js:
  (**
   * @license React
   * react.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.js:
  (**
   * @license React
   * scheduler.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.js:
  (**
   * @license React
   * react-dom.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom-client.production.js:
  (**
   * @license React
   * react-dom-client.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react/cjs/react-jsx-runtime.production.js:
  (**
   * @license React
   * react-jsx-runtime.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)
*/
